NEURON{SUFFIXNaTsUSEIONnaREADenaWRITEinaRANGEgbar,g,ina}UNITS{(S)=(siemens)(mV)=(millivolt)(mA)=(milliamp)}PARAMETER{gbar=0.00001(S/cm2)malphaF=0.182mbetaF=0.124mvhalf=-40(mV)mk=6(mV)halphaF=0.015hbetaF=0.015hvhalf=-66(mV)hk=6(mV)}ASSIGNED{v(mV)ena(mV)ina(mA/cm2)g(S/cm2)celsius(degC)mInfmTaumAlphamBetahInfhTauhAlphahBeta}STATE{mh}BREAKPOINT{SOLVEstatesMETHODcnexpg=gbar*m*m*m*hina=g*(v-ena)}DERIVATIVEstates{rates()m'=(mInf-m)/mTauh'=(hInf-h)/hTau}INITIAL{rates()m=mInfh=hInf}PROCEDURErates(){LOCALqtqt=2.3^((celsius-23)/10)UNITSOFFmAlpha=malphaF*vtrap(-(v-mvhalf),mk)mBeta=mbetaF*vtrap((v-mvhalf),mk)mInf=mAlpha/(mAlpha+mBeta)mTau=(1/(mAlpha+mBeta))/qthAlpha=halphaF*vtrap(v-hvhalf,hk)hBeta=hbetaF*vtrap(-(v-hvhalf),hk)hInf=hAlpha/(hAlpha+hBeta)hTau=(1/(hAlpha+hBeta))/qtUNITSON}FUNCTIONvtrap(x,y){UNITSOFFif(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}UNITSON}