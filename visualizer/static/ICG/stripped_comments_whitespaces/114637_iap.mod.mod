NEURON{SUFFIXiapnewUSEIONnaREADenaWRITEinaUSEIONkREADekWRITEikGLOBALinfRANGEgnabar,gkbar,ena,ek,ik}UNITS{(mA)=(milliamp)(mV)=(millivolt)}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)celsius=37(degC)gnabar=0.0(mho/cm2)gkbar=.12(mho/cm2)naactvha=40(mV)naiactvha=45(mV)kactvha=40(mV)naactslope=-3(mV)nainactslope=3(mV)kactslope=-3(mV)Nainactivationtau=0.5}STATE{mhn}ASSIGNED{ena(mV)ek(mV)ina(mA/cm2)ik(mA/cm2)inf[3]tau[3]}BREAKPOINT{SOLVEstatesMETHODcnexpina=gnabar*m*m*h*(v-ena)ik=gkbar*n*n*(v-ek)}DERIVATIVEstates{mhn(v*1(/mV))m'=(inf[0]-m)/tau[0]h'=(inf[1]-h)/tau[1]n'=(inf[2]-n)/tau[2]}FUNCTIONvarss(v,i){if(i==0){varss=1/(1+exp((v+naactvha)/(naactslope)))}elseif(i==1){varss=1/(1+exp((v+naiactvha)/(nainactslope)))}else{varss=1/(1+exp((v+kactvha)/(kactslope)))}}FUNCTIONvartau(i){if(i==0){vartau=0.05}elseif(i==1){vartau=Nainactivationtau}else{vartau=2}}PROCEDUREmhn(v){LOCALa,bTABLEinf,tauDEPENDcelsius,dt,kactslope,kactvha,nainactslope,naiactvha,naactslope,naactvha,NainactivationtauFROM-100TO100WITH2000FROMi=0TO2{tau[i]=vartau(i)inf[i]=varss(v,i)}}UNITSON