INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{NONSPECIFIC_CURRENTiPOINT_PROCESSIPlasSynPOINTERgabaRANGEprecellRANGEgGABA,gmaxGABAGLOBALErevRANGEprecellPOINTERPreAvgCaPOINTERScaleFactor,Induction,lastprespike,GABAMAXRANGEscalePOINTERlastpostspikeGLOBALtauLTP,tauLTD,gainLTP,gainLTDRANGEstdp,plast,lastanyspikeGLOBALterror}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)(mM)=(milli/liter)}PARAMETER{precellErev=-70(mV)scale=0tauLTP=15tauLTD=5gainLTP=0.8gainLTD=1stdp=0plast=0terrorlastanyspike}ASSIGNED{dt(ms)v(mV)i(nA)C(mM)gGABA(umho)gmaxGABA(umho)gabaPreAvgCalastprespikeScaleFactorInductionGABAMAXlastpostspike}INITIAL{terror=dt/10plast=0lastanyspike=-8e4}BREAKPOINT{SOLVEupdatei=gGABA*(v-Erev)}PROCEDUREupdate(){gGABA=gmaxGABA*gabaif(stdp==1){SOLVESTDP}if(Induction==1){SOLVESCALE}VERBATIMreturn0;ENDVERBATIM}PROCEDURESCALE(){LOCALdummyif(scale>0){gmaxGABA=gmaxGABA*((ScaleFactor*(-0.25))*scale*PreAvgCa+1)}gmaxGABA=gmaxGABA+gmaxGABA*plastif(scale>0){if(gmaxGABA>GABAMAX){gmaxGABA=GABAMAX}if(gmaxGABA<GABAMAX/1000){gmaxGABA=GABAMAX/1000}}VERBATIMreturn0;ENDVERBATIM}PROCEDURESTDP(){LOCALdummyif(lastprespike-terror>lastanyspike||lastpostspike-terror>lastanyspike){dummy=lastpostspike-lastprespikeplast=plast+STDPFunc(dummy)if(dummy+terror>=0){lastanyspike=lastpostspike}elseif(dummy<0){lastanyspike=lastprespike}}VERBATIMreturn0;ENDVERBATIM}FUNCTIONSTDPFunc(ISI){TABLEFROM-100TO100WITH2010ISI=ISI-3if(ISI<=0.0+terror&&ISI>-100){STDPFunc=exp(ISI/tauLTP)*gainLTP}elseif(ISI>0.0+terror&&ISI<100){STDPFunc=-exp(-ISI/tauLTD)*gainLTD}else{STDPFunc=0}}