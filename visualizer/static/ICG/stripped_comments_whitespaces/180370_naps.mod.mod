NEURON{SUFFIXnapsUSEIONnaREADenaWRITEinaRANGEgbar,thegna,sh,arGLOBALminf,mtau,sinf,taus,vslope,ena}PARAMETER{gbar=.0052085(mho/cm2)sh=0(mV)vslope=6.8(mV)ena(mV)a0s=0.001(/ms)b0s=0.0034(/ms)asvh=-85(mV)bsvh=-17(mV)avs=30(mV)bvs=10(mV)ar=1(1)celsius(degC)v(mV)}UNITS{(mA)=(milliamp)(mV)=(millivolt)(pS)=(picosiemens)(um)=(micron)}ASSIGNED{ina(mA/cm2)thegna(mho/cm2)minfmtau(ms)sinftaus(ms)}STATE{ms}UNITSOFFBREAKPOINT{SOLVEstatesMETHODcnexpthegna=gbar*m*sina=thegna*(v-ena)}INITIAL{trates(v,ar,sh)mtau=1m=minfs=sinf}DERIVATIVEstates{trates(v,ar,sh)mtau=1s'=(sinf-s)/tausm'=(minf-m)/mtau}PROCEDUREtrates(vm,a2,sh2){LOCALcminf=(1/(1+exp(-(vm+52.3-sh2)/vslope)))taus=1/(alps(vm)+bets(vm))c=alps(vm)*taussinf=c+a2*(1-c)}FUNCTIONalps(v(mV)){alps=a0s*exp((asvh-v)/avs)}FUNCTIONbets(v(mV)){bets=b0s/(exp((bsvh-v)/bvs)+1)}UNITSON