INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSGABABRANGER,G,g,gmaxNONSPECIFIC_CURRENTiGLOBALCmax,CdurGLOBALK1,K2,K3,K4,KD,Erev}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)(mM)=(milli/liter)}PARAMETER{gmax=0.0001(uS)Cmax=0.5(mM)Cdur=0.3(ms)K1=0.52(/msmM)K2=0.0013(/ms)K3=0.098(/ms)K4=0.033(/ms)KD=100n=4Erev=-95(mV)}ASSIGNED{v(mV)i(nA)g(umho)GnRedcsynonRinfRtau(ms)Beta(/ms)}STATE{RonRoffG}INITIAL{R=0G=0synon=0Rinf=K1*Cmax/(K1*Cmax+K2)Rtau=1/(K1*Cmax+K2)Beta=K2}BREAKPOINT{SOLVEbindkinMETHODcnexpGn=G*G*G*Gg=gmax*Gn/(Gn+KD)i=g*(v-Erev)}DERIVATIVEbindkin{Ron'=synon*K1*Cmax-(K1*Cmax+K2)*RonRoff'=-K2*RoffR=Ron+RoffG'=K3*R-K4*G}NET_RECEIVE(weight,r0,t0(ms)){if(flag==1){r0=weight*(Rinf+(r0-Rinf)*exp(-(t-t0)/Rtau))t0=tsynon=synon-weightstate_discontinuity(Ron,Ron-r0)state_discontinuity(Roff,Roff+r0)}else{r0=weight*r0*exp(-Beta*(t-t0))t0=tsynon=synon+weightstate_discontinuity(Ron,Ron+r0)state_discontinuity(Roff,Roff-r0)net_send(Cdur,1)}}