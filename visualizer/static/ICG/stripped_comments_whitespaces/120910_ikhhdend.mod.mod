UNITS{(mA)=(milliamp)(mV)=(millivolt)}NEURON{SUFFIXikhhdendUSEIONkREADekWRITEikRANGEgkbarGLOBALninf,nexp}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)celsius(degC)dt(ms)gkbar=0.001(mho/cm2)}STATE{nc}ASSIGNED{ik(mA/cm2)ek(mV)ninfnexp}BREAKPOINT{SOLVEstatesik=gkbar*n*n*(v-ek)}UNITSOFFINITIAL{rates(v)n=ninf}PROCEDUREstates(){rates(v)n=n+nexp*(ninf-n)}PROCEDURErates(v){LOCALq10,tinc,alpha,beta,sumTABLEninf,nexpDEPENDdt,celsiusFROM-100TO100WITH200q10=2.3^((celsius-20)/10)tinc=-dt*q10alpha=.024*vtrap(-(v-17),8)beta=0.2*exp(-(v+48)/35)sum=alpha+betaninf=alpha/sumnexp=1-exp(tinc*sum)}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON