INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXwbUSEIONnaREADenaWRITEinaUSEIONkREADekWRITEikRANGEgnabar,gkbar,vthRANGEm_inf,h_inf,n_infRANGEtau_h,tau_nRANGEh_exp,n_exp}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gnabar=0.0(mho/cm2)gkbar=.09(mho/cm2)ena=55(mV)ek=-90(mV)celsius=36(degC)dt(ms)v(mV)vth=0}STATE{hn}ASSIGNED{ina(mA/cm2)ik(mA/cm2)il(mA/cm2)m_infh_infn_inftau_htau_nh_expn_exptadj}BREAKPOINT{SOLVEstatesina=gnabar*m_inf*m_inf*m_inf*h*(v-ena)ik=gkbar*n*n*n*n*(v-ek)}PROCEDUREstates(){evaluate_fct(v)h=h+h_exp*(h_inf-h)n=n+n_exp*(n_inf-n)VERBATIMreturn0;ENDVERBATIM}UNITSOFFINITIAL{h=0n=0}PROCEDUREevaluate_fct(v(mV)){LOCALa,btadj=1.if(v==-35){a=1}else{a=-0.1*(v+35.)/(exp(-(v+35)/10.)-1)}b=4.*exp(-(v+60.)/18.)m_inf=a/(a+b)a=0.007*exp(-0.05*(v+58.))b=1./(1+exp(-(v+28)/10.))tau_h=(1./(a+b))/tadjh_inf=a/(a+b)if(v==-34){a=0.1}else{a=-0.01*(v+34.)/(exp(-(v+34)/10.)-1)}b=0.125*exp(-0.0125*(v+44))tau_n=(1./(a+b))/tadjn_inf=a/(a+b)h_exp=1-exp(-dt/tau_h)n_exp=1-exp(-dt/tau_n)}UNITSON