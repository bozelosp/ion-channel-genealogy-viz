INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSNMDA_mukiRANGEg,gmax,e,i,tau1,tau2,gama,ni,Mgc,onsetNONSPECIFIC_CURRENTi}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)(mM)=(milli/liter)}PARAMETER{onset=0(ms)gmax=0.001(umho)tau1=40(ms)tau2=0.33(ms)e=0(mV)gama=0.06(/mv)ni=0.33(/mM)Mgc=1(mM)}ASSIGNED{v(mV)i(nA)g(umho)}BREAKPOINT{LOCALtdif(t<onset){i=0}else{td=t-onsetg=calc_nmda(td)i=g*(v-e)}}FUNCTIONcalc_nmda(td){LOCALgama_expif(gama*v<-14){gama_exp=1e6}else{gama_exp=exp(-gama*v)}calc_nmda=gmax*(exp(-td/tau1)-exp(-td/tau2))/(1+ni*Mgc*gama_exp)}