UNITS{(mA)=(milliamp)(mV)=(millivolt)(uF)=(microfarad)(molar)=(1/liter)(nA)=(nanoamp)(mM)=(millimolar)(um)=(micron)FARADAY=96520(coul)R=8.3134(joule/degC)}?interfaceNEURON{SUFFIXichan2USEIONkREADekWRITEikRANGEgkf,gksRANGEgkfbar,gksbarRANGEgl,elRANGEnfinf,nftau,ikf,nsinf,nstau,iks}INDEPENDENT{tFROM0TO100WITH100(ms)}PARAMETER{v(mV)celsius=6.3(degC)dt(ms)ekf(mV)gkfbar=1.0(mho/cm2)eks(mV)gksbar=1.0(mho/cm2)gl(mho/cm2)el(mV)}STATE{nfns}ASSIGNED{ek(mV)gkf(mho/cm2)gks(mho/cm2)ikf(mA/cm2)iks(mA/cm2)ik(mA/cm2)il(mA/cm2)nfinfnsinfnftau(ms)nstau(ms)nfexpnsexp}?currentsBREAKPOINT{SOLVEstatesgkf=gkfbar*nf*nf*nf*nfikf=gkf*(v-ekf)gks=gksbar*ns*ns*ns*nsiks=gks*(v-eks)ik=iksil=gl*(v-el)}UNITSOFFINITIAL{trates(v)nf=nfinfns=nsinf}?statesPROCEDUREstates(){trates(v)nf=nf+nfexp*(nfinf-nf)ns=ns+nsexp*(nsinf-ns)}LOCALq10?ratesPROCEDURErates(v){LOCALalpha,beta,sumq10=3^((celsius-6.3)/10)alpha=-0.028*vtrap((v+65-35),-6)beta=0.1056/exp((v+65-10)/40)sum=alpha+betanstau=1/sumnsinf=alpha/sumalpha=-0.07*vtrap((v+65-47),-6)beta=0.264/exp((v+65-22)/40)sum=alpha+betanftau=1/sumnfinf=alpha/sum}PROCEDUREtrates(v){LOCALtincTABLEnfinf,nfexp,nsinf,nsexp,nftau,nstauDEPENDdt,celsiusFROM-100TO100WITH200rates(v)tinc=-dt*q10nfexp=1-exp(tinc/nftau)nsexp=1-exp(tinc/nstau)}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON