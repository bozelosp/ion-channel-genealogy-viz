UNITS{(mA)=(milliamp)(mV)=(millivolt)}?interfaceNEURON{SUFFIXpyrUSEIONnaREADenaWRITEinaUSEIONkREADekWRITEikNONSPECIFIC_CURRENTiRANGEgna,gk,minf,hinf,ninfGLOBALmtau,htau,ntau,gnabar,gkbarRANGEgkis,kis_a_inf,kis_i_infRANGEgkif,kif_a_inf,kif_i_infRANGEakif,akisGLOBALkif_a_tau,kif_i_tau,gkifbarGLOBALkis_a_tau,kis_i_tau,gkisbarGLOBALkif_a_start,kif_i_startGLOBALkis_a_start,kis_i_startGLOBALkif_vhRANGEgh,kh_m_inf,kh_n_inf,aihGLOBALkh_m_tau,kh_n_tau,ghbarGLOBALgl,elGLOBALehGLOBALrsf}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)celsius(degC)dt(ms)ek(mV)ena(mV)gnabar=0.0(mho/cm2)<0,1e9>gkbar=0.0(mho/cm2)<0,1e9>gkifbar=0.0(mho/cm2)<0,1e9>gkisbar=0.0(mho/cm2)ghbar=0.00025(mho/cm2)<0,1e9>eh(mV)gl=0.0(mho/cm2)<0,1e9>el=-70(mV)mtau=0.05(ms)<0.01,100>htau=0.5(ms)<0.1,100>ntau=0.5(ms)<0.1,100>kif_vh=-89.6kif_a_start=-1kif_i_start=-1kis_a_start=-1kis_i_start=-1rsf=1}STATE{mhnkifakifikisakisikhmkhn}ASSIGNED{gna(mho/cm2)gk(mho/cm2)gkif(mho/cm2)gkis(mho/cm2)gh(mho/cm2)ina(mA/cm2)ik(mA/cm2)ih(mA/cm2)i(mA/cm2)minfhinfninfkif_a_infkif_i_infkis_a_infkis_i_infkif_a_taukif_i_taukis_a_taukis_i_taukh_m_infkh_n_infkh_m_taukh_n_tauakifakisaih}LOCALmexp,hexp,nexp,kif_a_exp,kif_i_exp,kis_a_exp,kis_i_exp,kh_m_exp,kh_n_exp?currentsBREAKPOINT{SOLVEstatesMETHODcnexpgna=gnabar*m*m*hina=gna*(v-ena)gk=gkbar*n*nakif=kifa*kifa*kifa*kifa*kifigkif=gkifbar*akifakis=kisa*kisa*kisa*kisa*kisigkis=gkisbar*akisaih=khm*khngh=ghbar*aihik=gk*(v-ek)+gkif*(v-ek)+gkis*(v-ek)i=gh*(v-eh)}?currentsUNITSOFFINITIAL{rates(v)m=minfh=hinfn=ninfkhm=kh_m_infkhn=kh_n_infif(kif_a_start<0){kifa=kif_a_inf}else{kifa=kif_a_start}if(kif_i_start<0){kifi=kif_i_inf}else{kifi=kif_i_start}if(kis_a_start<0){kisa=kis_a_inf}else{kisa=kis_a_start}if(kis_i_start<0){kisi=kis_i_inf}else{kisi=kis_i_start}}?statesDERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htaun'=(ninf-n)/ntaukifa'=(kif_a_inf-kifa)/kif_a_tau*rsfkifi'=(kif_i_inf-kifi)/kif_i_tau*rsfkisa'=(kis_a_inf-kisa)/kis_a_taukisi'=(kis_i_inf-kisi)/kis_i_taukhm'=(kh_m_inf-khm)/kh_m_taukhn'=(kh_n_inf-khn)/kh_n_tau}LOCALq10?ratesPROCEDURErates(v(mV)){LOCALalpha,beta,sumTABLEminf,mtau,hinf,htau,ninf,ntau,kif_a_inf,kif_a_tau,kif_i_inf,kif_i_tau,kis_a_inf,kis_a_tau,kis_i_inf,kis_i_tau,kh_m_inf,kh_n_inf,kh_m_tau,kh_n_tauDEPENDcelsius,kif_vhFROM-200TO100WITH400UNITSOFFq10=3^((celsius-32)/10)minf=na_m(v)hinf=na_h(v)ninf=kd_m(v)kif_a_inf=kif_m(v)kif_i_inf=kif_h(v)kif_a_tau=kif_mt(v)kif_i_tau=kif_ht(v)kis_a_inf=kis_m(v)kis_i_inf=kis_h(v)kis_a_tau=kis_mt(v)kis_i_tau=kis_ht(v)kh_m_inf=kh_m(v)kh_n_inf=kh_n(v)kh_m_tau=kh_mt(v)kh_n_tau=kh_nt(v)}FUNCTIONna_m(x){na_m=1/(1+exp(-(x+38)/3.0))}FUNCTIONna_h(x){na_h=1/(1+exp((x+43)/3.0))}FUNCTIONkd_m(x){kd_m=1/(1+exp(-(x+40)/3))}FUNCTIONkif_m(x){kif_m=1/(1+exp(-(x+53)/25.8))}FUNCTIONkif_h(x){kif_h=1/(1+exp((x-kif_vh)/6.7))}FUNCTIONkif_mt(x){kif_mt=0.15*exp((x+57)/10)+0.3*exp(-(x+57)/10)kif_mt=0.5+(1/kif_mt)}FUNCTIONkif_ht(x){kif_ht=0.015*exp((x+87)/20)+0.03*exp(-(x+87)/20)kif_ht=10+(1/kif_ht)}FUNCTIONkis_m(x){kis_m=1/(1+exp(-(x+40.9)/23.7))}FUNCTIONkis_h(x){kis_h=1/(1+exp((x+38.4)/9))}FUNCTIONkis_mt(x){kis_mt=0.15*exp((x+40)/10)+0.3*exp(-(x+40)/10)kis_mt=0.5+1/kis_mt}FUNCTIONkis_ht(x){kis_ht=200}FUNCTIONkh_m(x){kh_m=1/(1+exp((x+68.9)/6.5))}FUNCTIONkh_n(x){kh_n=1/(1+exp((x+68.9)/6.5))}FUNCTIONkh_mt(v){kh_mt=exp((v+183.6)/15.24)}FUNCTIONkh_nt(v){kh_nt=exp((v+158.6)/11.2)/(1+exp((v+75)/5.5))}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON