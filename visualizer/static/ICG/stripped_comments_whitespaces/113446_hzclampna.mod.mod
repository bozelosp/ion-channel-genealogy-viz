NEURON{POINT_PROCESSHzclampnaUSEIONnaWRITEinaRANGEdel,dur,amp,freq,width,ina,telpulse,stand}UNITS{(nA)=(nanoamp)(uS)=(micromho)}PARAMETER{del(ms)dur(ms)<0,1e9>amp(nA)dt(ms)freq(1/s)width(ms)}ASSIGNED{ina(nA)i_amp(nA)telpulsenotify}INITIAL{i_amp=0stand=0telpulse=0notify=del}BREAKPOINT{SOLVEstateMETHODafter_cvodeat_time(notify)ina=i_amp}STATE{stand}PROCEDUREstate(){if(t<=del+dur&&t>=del){if(telpulse/(freq/1000)<t-del&&t-del<=telpulse/(freq/1000)+width){notify=del+telpulse/(freq/1000)+widthi_amp=ampstand=1}elseif(stand==1){stand=0telpulse=telpulse+1i_amp=0notify=del+telpulse/(freq/1000)}else{i_amp=0}}else{i_amp=0}}