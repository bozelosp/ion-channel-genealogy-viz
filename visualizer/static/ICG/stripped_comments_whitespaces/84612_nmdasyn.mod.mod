UNITS{(pA)=(picoamp)(molar)=(1/liter)(mV)=(millivolt)(mA)=(milliamp)(mM)=(millimolar)}INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXnmdaUSEIONcaWRITEicaUSEIONnaREADnaiWRITEinaUSEIONkWRITEikRANGEica,ina,ik,inmda,Pbar,mg,km,nai,prGLOBALpinfPOINTERcaisomaPOINTERnmdasyn}UNITS{FARADAY=(faraday)(coulomb)R=(k-mole)(joule/degC)}PARAMETER{v(mV)celsius=35(degC)Pbar=0.23e-6(cm/s)cao=2.0(mM)lamdaca=0.3lamda=0.75pr=0.0225nao=145(mM)ki=140(mM)ko=2.5(mM)dt(ms)q=9(mV)km=50.7(mM)mg=1.2(mM)}STATE{p<1e-4>}ASSIGNED{nai(mM)ica(mA/cm2)ina(mA/cm2)ik(mA/cm2)inmda(mA/cm2)pinfcaisoma(mM)nmdasyn(1)}LOCALarg,power,numerna,numerk,numerca,denom,denom2BREAKPOINT{SOLVEstatesMETHODcnexppinf=pr+(1.0-pr)/(1+(mg/km)*exp(-v/q))arg=v*FARADAY/((1000)*R*(celsius+273.15))power=nmdasyn*Pbar*(0.000001)*v*p*FARADAY*FARADAY/(R*(celsius+273.15))numerna=lamda*nai-lamda*nao*exp(-arg)numerk=lamda*ki-lamda*ko*exp(-arg)numerca=caisoma-lamdaca*cao*exp(-2*arg)denom=1-exp(-arg)denom2=1-exp(-2*arg)ina=power*numerna/denomik=power*numerk/denomica=10.6*power*numerca/denom2inmda=ina+ik+ica}UNITSOFFDERIVATIVEstates{pinf=pr+(1.0-pr)/(1+(mg/km)*exp(-v/q))p'=pinf-p}UNITSON