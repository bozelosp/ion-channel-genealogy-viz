UNITS{(mA)=(milliamp)(mV)=(millivolt)}NEURON{SUFFIXKdrUSEIONkREADekWRITEikRANGEgkbar,gk,minf,hinf,mexp,hexp,ik,alpha,beta}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)celsius=37(degC)dt(ms)gkbar=.6(mho/cm2)}STATE{mh}ASSIGNED{ek(mV)ik(mA/cm2)gkminfhinfmexphexp}BREAKPOINT{SOLVEstatesgk=gkbar*m*m*hik=gk*(v-ek)}UNITSOFFINITIAL{rates(v)m=minfh=hinf}PROCEDUREstates(){rates(v)m=m+mexp*(minf-m)h=h+hexp*(hinf-h)}PROCEDURErates(v){LOCALq10,tinc,tauh,alpha,beta,gamma,zeta,taumq10=3^((celsius-37)/10)tinc=-dt*q10alpha=-0.0047*(v-8)/(exp((v-8)/(-12))-0.9999)beta=exp((v+127)/(-30))minf=alpha/(alpha+beta)gamma=-0.0047*(v+12)/(exp((v+12)/(-12))-0.9999)zeta=exp((v+147)/(-30))taum=1/(gamma+zeta)mexp=1-exp(tinc/taum)hinf=1.0/(1+exp((v+25)/4))if(v<-25){tauh=1200}else{tauh=10}hexp=1-exp(tinc/tauh)}UNITSON