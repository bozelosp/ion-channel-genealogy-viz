NEURON{SUFFIXaxnodenew2USEIONnaREADenaWRITEinaUSEIONkREADekWRITEikNONSPECIFIC_CURRENTilRANGEgnapbar,gnabar,gkbar,gl,ena,elRANGEmp_inf,m_inf,h_inf,s_infRANGEtau_mp,tau_m,tau_h,tau_s}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gnapbar=0.0(mho/cm2)gnabar=0.0(mho/cm2)gkbar=0.07(mho/cm2)gl=0.0(mho/cm2)el=-70.0(mV)hpChange=1mpChange=1mppChange=1spChange=1}STATE{mpmhs}ASSIGNED{ena(mV)ek(mV)v(mV)inap(mA/cm2)ina(mA/cm2)ik(mA/cm2)il(mA/cm2)mp_infm_infh_infs_inftau_mp(ms)tau_m(ms)tau_h(ms)tau_s(ms)q10_1q10_2q10_3}BREAKPOINT{SOLVEstatesMETHODcnexpina=gnapbar*mp*mp*mp*(v-ena)ina=gnabar*m*m*m*h*(v-ena)ik=gkbar*s*(v-ek)il=gl*(v-el)}DERIVATIVEstates{evaluate_fct(v)mp'=(mp_inf-mp)/tau_mp*mppChangem'=(m_inf-m)/tau_m*mpChangeh'=(h_inf-h)/tau_h*hpChanges'=(s_inf-s)/tau_s*spChange}UNITSOFFINITIAL{evaluate_fct(v)mp=mp_infm=m_infh=h_infs=s_inf}PROCEDUREevaluate_fct(v(mV)){LOCALa,ba=vtrap1(v)b=vtrap2(v)tau_mp=1/(a+b)mp_inf=a/(a+b)a=vtrap6(v)b=vtrap7(v)tau_m=1/(a+b)m_inf=a/(a+b)a=vtrap8(v)b=12.6/(1+Exp(-(v+21.8)/13.4))tau_h=1/(a+b)h_inf=a/(a+b)a=0.3/(Exp((v+43)/-5)+1)b=0.03/(Exp((v+80)/-1)+1)tau_s=1/(a+b)s_inf=a/(a+b)}FUNCTIONvtrap1(x){if(fabs((x+17)/10.2)<1e-6){vtrap1=0.0353*10.2}else{vtrap1=(0.0353*(x+17))/(1-Exp(-(x+17)/10.2))}}FUNCTIONvtrap2(x){if(fabs((x+24)/10)<1e-6){vtrap2=0.000883*10}else{vtrap2=(0.000883*(-(x+24)))/(1-Exp((x+24)/10))}}FUNCTIONvtrap6(x){if(fabs((x+11.4)/10.3)<1e-6){vtrap6=6.57*10.3}else{vtrap6=(6.57*(x+11.4))/(1-Exp(-(x+11.4)/10.3))}}FUNCTIONvtrap7(x){if(fabs((x+15.7)/9.16)<1e-6){vtrap7=0.304*9.16}else{vtrap7=(0.304*(-(x+15.7)))/(1-Exp((x+15.7)/9.16))}}FUNCTIONvtrap8(x){if(fabs((x+104)/11)<1e-6){vtrap8=0.34*11}else{vtrap8=(0.34*(-(x+104)))/(1-Exp((x+104)/11))}}FUNCTIONExp(x){if(x<-100){Exp=0}else{Exp=exp(x)}}UNITSON