UNITS{(mA)=(milliamp)(mV)=(millivolt)}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{dt(ms)v(mV)ek(mV)gkabar=.007(mho/cm2)vhalfn=11(mV)vhalfl=-56(mV)a0l=0.05(/ms)a0n=0.05(/ms)}NEURON{SUFFIXkapUSEIONkREADekWRITEikRANGEgkabar,gkaGLOBALninf,linf,taul,taun}STATE{nl}ASSIGNED{ik(mA/cm2)ninflinftaultaungka}INITIAL{rates(v)n=ninfl=linfgka=gkabar*n^4*lik=gka*(v-ek)}BREAKPOINT{SOLVEstatesgka=gkabar*n^4*lik=gka*(v-ek)}FUNCTIONalpn(v(mV)){alpn=-0.01*(v+21.3)/(exp((v+21.3)/-35)-1)}FUNCTIONbetn(v(mV)){betn=0.01*(v+21.3)/(exp((v+21.3)/35)-1)}FUNCTIONalpl(v(mV)){alpl=-0.01*(v+58)/(exp((v+58)/8.2)-1)}FUNCTIONbetl(v(mV)){betl=0.01*(v+58)/(exp((v+58)/-8.2)-1)}LOCALfacn,faclPROCEDUREstates(){rates(v)n=n+facn*(ninf-n)l=l+facl*(linf-l)VERBATIMreturn0;ENDVERBATIM}PROCEDURErates(v(mV)){LOCALa,ba=alpn(v)b=betn(v)ninf=a/(a+b)taun=0.2facn=(1-exp(-dt/taun))a=alpl(v)b=betl(v)linf=a/(a+b)if(v>-20){taul=5+2.6*(v+20)/10}else{taul=5}facl=(1-exp(-dt/taul))}