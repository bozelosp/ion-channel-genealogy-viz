UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{celsius(degC)gbar=.00005(mho/cm2)vhp=-56(mV)ap=0.075(/mV)ptau=5(ms)v(mV)ena(mV)}NEURON{SUFFIXnapUSEIONnaREADenaWRITEinaRANGEgbar,gnapGLOBALinf,ptauRANGEtot}STATE{p}ASSIGNED{ina(mA/cm2)tot(mA/cm2)gnap(mho/cm2)inf}INITIAL{rate(v)p=inf}BREAKPOINT{SOLVEstateMETHODcnexpgnap=gbar*ptot=gnap*(v-ena)ina=gnap*(v-ena)}FUNCTIONexpn(v(mV),a(/mV),vhalf(mV)){expn=exp(-2*a*(v-vhalf))}DERIVATIVEstate{rate(v)p'=(inf-p)/ptau}PROCEDURErate(v(mV)){inf=1/(1+expn(v,ap,vhp))}