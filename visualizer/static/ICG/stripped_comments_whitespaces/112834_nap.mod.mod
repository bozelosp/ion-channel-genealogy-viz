UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}NEURON{SUFFIXnapUSEIONnaREADenaWRITEinaRANGEgnabar,ina}PARAMETER{gnabar=4e-5(S/cm2)mvhalf=-52.6(mV)mslope=-4.6(mV)hvhalf=-48.8(mV)hslope=10.0(mV)qfact=3}STATE{mh}ASSIGNED{ena(mV)v(mV)ina(mA/cm2)gna(S/cm2)minfhinfmtau(ms)}BREAKPOINT{SOLVEstateMETHODcnexpgna=gnabar*m*hina=gna*(v-ena)}INITIAL{rates(v)m=minfh=hinf}FUNCTION_TABLEtauhnap(v(mV))(ms)DERIVATIVEstate{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/(tauhnap(v)/qfact)}PROCEDURErates(v(mV)){TABLEminf,hinf,mtauFROM-200TO200WITH201minf=1/(1+exp((v-mvhalf)/mslope))hinf=1/(1+exp((v-hvhalf)/hslope))UNITSOFFif(v<-40){mtau=0.025+0.14*exp((v+40)/10)}else{mtau=0.02+0.145*exp((-v-40)/10)}UNITSON}