NEURON{SUFFIXkdr_inacUSEIONkREADekWRITEikRANGEgkbarRANGEinf,fac,tau}UNITS{(mA)=(milliamp)(mV)=(millivolt)}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{celsius=34(degC)dt(ms)gkbar=1.0(mho/cm2)ek=-77(mV)v(mV)}STATE{nl}ASSIGNED{ik(mA/cm2)inf[2]fac[2]tau[2]}BREAKPOINT{SOLVEstatesik=gkbar*n*n*l*(v-ek)}INITIAL{states()l=1ik=gkbar*n*n*l*(v-ek)}PROCEDUREcalcg(){mhn(v*1(/mV))n=n+fac[0]*(inf[0]-n)l=l+fac[1]*(inf[1]-l)}PROCEDUREstates(){calcg()VERBATIMreturn0;ENDVERBATIM}FUNCTIONvarss(v,i){LOCALmax,min,vhalf,smoothif(i==0){varss=1/(1+exp((v+40)/(-3)))}else{varss=(1+2.2/(1+exp((v+53)/3)))/3.2}}FUNCTIONvartau(v,i){if(i==0){vartau=3}else{vartau=100VERBATIMENDVERBATIM}}PROCEDUREmhn(v){LOCALa,bFROMi=0TO1{tau[i]=vartau(v,i)inf[i]=varss(v,i)fac[i]=(1-exp(-dt/tau[i]))}}