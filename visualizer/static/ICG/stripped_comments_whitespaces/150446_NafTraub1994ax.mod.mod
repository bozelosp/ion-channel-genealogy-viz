NEURON{SUFFIXNaFaxUSEIONnaREADenaWRITEinaRANGEgbar,g,iGLOBALVm}UNITS{(S)=(siemens)(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gbar=1.0(S/cm2)Vm=-65(mV)}ASSIGNED{v(mV)ena(mV)ina(mA/cm2)i(mA/cm2)g(S/cm2)minfhinfmtau(ms)htau(ms)}STATE{mh}BREAKPOINT{SOLVEstatesMETHODcnexpg=gbar*m^3*hi=g*(v-ena)ina=i}INITIAL{rates(v)m=minfh=hinf}DERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}PROCEDURErates(v(mV)){LOCALalpham,betam,alphah,betah,smallTABLEminf,mtau,hinf,htauFROM-100TO50WITH200UNITSOFFsmall=(17.2-(v-Vm))/4if(fabs(small)>1e-6){alpham=0.8*(17.2-(v-Vm))/(exp((17.2-(v-Vm))/4)-1)}else{alpham=0.8*4/(1+small/2)}small=((v-Vm)-42.2)/5if(fabs(small)>1e-6){betam=0.7*((v-Vm)-42.2)/(exp(((v-Vm)-42.2)/5)-1)}else{betam=0.7*5/(1+small/2)}minf=alpham/(alpham+betam)mtau=1/(alpham+betam)alphah=0.32*exp((42-(v-Vm))/18)betah=10/(1+exp((42-(v-Vm))/5))hinf=alphah/(alphah+betah)htau=1/(alphah+betah)UNITSON}