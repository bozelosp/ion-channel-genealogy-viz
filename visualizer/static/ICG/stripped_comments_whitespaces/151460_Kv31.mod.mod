UNITS{(mV)=(millivolt)(mA)=(milliamp)}INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXKv31USEIONkREADki,ekWRITEikRANGEgkGLOBALactivate_Q10,Q10,gmaxQ10,rate_k,gmax_k,temp1,temp2,tempb}PARAMETER{v(mV)dt(ms)gk=0.015(mho/cm2)ekkicelsiusactivate_Q10=1Q10=1.700025939e+00gmaxQ10=1.700025939e+00temp1=20.0(degC)temp2=30.0(degC)tempb=32.0(degC)}STATE{p}ASSIGNED{ik(mA/cm2)pinfptau(ms)rate_kgmax_k}BREAKPOINT{SOLVEstatesMETHODcnexpik=(gk*gmax_k)*p*(v-ek)}UNITSOFFINITIAL{LOCALktemp,ktempb,ktemp1,ktemp2if(activate_Q10>0){ktemp=celsius+273.0ktempb=tempb+273.0ktemp1=temp1+273.0ktemp2=temp2+273.0rate_k=exp(log(Q10)*((1/ktempb)-(1/ktemp))/((1/ktemp1)-(1/ktemp2)))gmax_k=exp(log(gmaxQ10)*((1/ktempb)-(1/ktemp))/((1/ktemp1)-(1/ktemp2)))}else{rate_k=1.0gmax_k=1.0}settables(v)p=pinf}DERIVATIVEstates{settables(v)p'=(pinf-p)/ptau}PROCEDUREsettables(v){TABLEpinf,ptauDEPENDcelsiusFROM-100TO100WITH400pinf=1.0/(1.0+exp((v+-0.083699749)/-9.0))ptau=((7.3/(exp((v+32.9163003)/-14.0)+exp((v+2.91630025)/16.0)))+1)/rate_k}UNITSON