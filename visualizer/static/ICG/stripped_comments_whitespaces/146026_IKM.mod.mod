INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXkmUSEIONkREADekWRITEikRANGEgkbar,m_inf,tau_m,gk,m,vshiftGLOBALtaumax}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{v(mV)vshift=0celsius=36(degC)ek(mV)gbar=1.0(pS/um2)taumax=1000(ms)}STATE{m}ASSIGNED{ik(mA/cm2)m_inftau_m(ms)tau_peak(ms)tadjgk(mho/cm2)}BREAKPOINT{SOLVEstatesMETHODeulergk=gbar*mik=(1e-4)*gk*(v-ek)}DERIVATIVEstates{evaluate_fct(v-vshift)m'=(m_inf-m)/tau_m}UNITSOFFINITIAL{evaluate_fct(v-vshift)m=m_inftadj=2.3^((celsius-36)/10)tau_peak=taumax/tadj}PROCEDUREevaluate_fct(v(mV)){m_inf=1/(1+exptable(-(v+35)/10))tau_m=tau_peak/(3.3*exptable((v+35)/20)+exptable(-(v+35)/20))}UNITSONFUNCTIONexptable(x){TABLEFROM-25TO25WITH10000if((x>-25)&&(x<25)){exptable=exp(x)}else{exptable=0.}}