INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXnothing}VERBATIM#include<stdlib.h>#include<math.h>#include<limits.h>#if!defined(MAXLONG)#defineMAXLONGLONG_MAX#endifstaticlongstate2[32]={470594912,650447616,310934240,695012864,850358912,61088076,481306752,786902080,224042800,805177664,938284096,145937936,622867968,160207584,977329216,716234240,127727624,415316352,870137472,18664444,330872224,93728752,914779200,736261248,643647616,755802688,213052336,410240448,218974736,109419280,178026128,689569664};ENDVERBATIMFUNCTIONfseed(seed){VERBATIMinitstate((unsigned)_lseed,(char*)state2,32);_lfseed=_lseed;ENDVERBATIM}FUNCTIONn_rand(){VERBATIM_ln_rand=((double)random())/(((double)MAXLONG)+1.);ENDVERBATIM}FUNCTIONfran(l,h){VERBATIM{intlow,high;doublenum,imax,*getarg();low=(int)_ll;high=(int)_lh;imax=high-low+1;_lfran=(double)(low+(int)(imax*n_rand()));}ENDVERBATIM}FUNCTIONu_rand(){VERBATIM_lu_rand=(((double)random())/((double)MAXLONG));ENDVERBATIM}FUNCTIONnorm(){VERBATIM{staticintiset=0;staticfloatgset;floatfac,r,v1,v2;doublesqrt();if(iset==0){do{v1=2.0*n_rand()-1.0;v2=2.0*n_rand()-1.0;r=v1*v1+v2*v2;}while(r>=1.0);fac=(float)sqrt(-2.0*log(r)/r);gset=v1*fac;iset=1;_lnorm=v2*fac;}else{iset=0;_lnorm=(double)gset;}}ENDVERBATIM}FUNCTIONpois(mean){VERBATIM_lpois=-_lmean*log(((double)random()+1.)/((double)MAXLONG+1.));ENDVERBATIM}FUNCTIONpoisint(mean){poisint=poisrand(mean)}