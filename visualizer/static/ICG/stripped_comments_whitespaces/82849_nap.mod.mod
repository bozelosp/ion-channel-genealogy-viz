NEURON{SUFFIXNapUSEIONnaREADenaWRITEinaRANGEgnapbar,ina,gnaRANGEDA_alphamshift,DA_betamshiftRANGEDA_alphahfactor,DA_betahfactor}UNITS{(mA)=(milliamp)(mV)=(millivolt)}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)dt(ms)gnapbar=0.0022(mho/cm2)<0,1e9>ena=55(mV)DA_alphamshift=0DA_betamshift=0DA_alphahfactor=0DA_betahfactor=0}STATE{mh}ASSIGNED{ina(mA/cm2)minfhinfmtau(ms)htau(ms)gna(mho/cm2)}INITIAL{rate(v)m=minfh=hinf}BREAKPOINT{SOLVEstatesMETHODcnexpgna=gnapbar*m*hina=gna*(v-55)}DERIVATIVEstates{rate(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}UNITSOFFFUNCTIONmalf(v){LOCALvava=v+12+DA_alphamshiftif(fabs(va)<1e-04){va=va+0.00001}malf=(-0.2816*va)/(-1+exp(-va/9.3))}FUNCTIONmbet(v(mV))(/ms){LOCALvbvb=v-15+DA_betamshiftif(fabs(vb)<1e-04){vb=vb+0.00001}mbet=(0.2464*vb)/(-1+exp(vb/6))}FUNCTIONhalf(v(mV))(/ms){LOCALvcvc=v+42.8477if(fabs(vc)<1e-04){vc=vc+0.00001}half=(2.8e-5+DA_alphahfactor)*(exp(-vc/4.0248))}FUNCTIONhbet(v(mV))(/ms){LOCALvdvd=v-413.9284if(fabs(vd)<1e-04){vd=vd+0.00001}hbet=(0.02+DA_betahfactor)/(1+exp(-vd/148.2589))}PROCEDURErate(v(mV)){LOCALmsum,hsum,ma,mb,ha,hbma=malf(v)mb=mbet(v)ha=half(v)hb=hbet(v)msum=ma+mbminf=ma/msummtau=1/msumhsum=ha+hbhinf=ha/hsumhtau=1/hsum}UNITSON