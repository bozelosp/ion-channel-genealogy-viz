NEURON{SUFFIXemdknaUSEIONkREADekWRITEikUSEIONnaREADinaRANGEgk,gbar,iRANGEninf,ntauGLOBALslope,taumax}UNITS{(mV)=(millivolt)(mA)=(milliamp)(uA)=(microamp)(S)=(siemens)}PARAMETER{ek=-20(mV)gbar=0.002(S/cm2)slope=7(uA/cm2)taumax=3(ms)ntau=3(ms)}ASSIGNED{v(mV)i(mA/cm2)ik(mA/cm2)gk(S/cm2)ninfina(mA/cm2)}STATE{n}INITIAL{rates(ina)n=ninf}BREAKPOINT{SOLVEstatesMETHODcnexpgk=gbar*n*n*n*ni=gk*(v-ek)ik=i}DERIVATIVEstates{rates(ina)n'=(ninf-n)/ntau}PROCEDURErates(ina(mA/cm2)){ninf=1/(1+exp(-ina/((1e-3)*slope)))}