NEURON{SUFFIXNafUSEIONnaREADenaWRITEinaRANGEgnafbar,ina,gna,ar2}UNITS{(mA)=(milliamp)(mV)=(millivolt)}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)dt(ms)gnafbar=1.0(mho/cm2)ena=55(mV)taumin=3(ms)vhalfr=-60(mV)vvh=-58(mV)vvs=2(mV)a0r=0.0003(/ms)b0r=0.0003(/ms)zetar=12zetas=12gmr=0.2ar2=1.0}STATE{mhs}ASSIGNED{celsius(degC)ina(mA/cm2)minfhinfsinfmtau(ms)htau(ms)stau(ms)gna(mho/cm2)}INITIAL{rate(v)m=minfh=hinfs=sinf}BREAKPOINT{SOLVEstatesMETHODcnexpgna=gnafbar*m*m*m*h*sina=gna*(v-55)}DERIVATIVEstates{rate(v,ar2)m'=(minf-m)/mtauh'=(hinf-h)/htaus'=(sinf-s)/stau}UNITSOFFFUNCTIONmalf(v){LOCALvava=v+28if(fabs(va)<1e-04){malf=-0.2816*(-9.3+va*0.5)}else{malf=-0.2816*(v+28)/(-1+exp(-va/9.3))}}FUNCTIONmbet(v(mV))(/ms){LOCALvbvb=v+1if(fabs(vb)<1e-04){mbet=0.2464*(6+vb*0.5)}else{mbet=0.2464*(v+1)/(-1+exp(vb/6))}}FUNCTIONhalf(v(mV))(/ms){LOCALvcvc=v+40.1if(fabs(vc)<1e-04){half=0.098*(20+vc*0.5)}else{half=0.098/exp(vc+43.1/20)}}FUNCTIONhbet(v(mV))(/ms){LOCALvdvd=v+13.1if(fabs(vd)<1e-04){hbet=1.4*(10+vd*0.5)}else{hbet=1.4/(1+exp(-(vd-1.1)/10))}}FUNCTIONalpv(v(mV)){alpv=1/(1+exp((v-vvh)/vvs))}FUNCTIONalpr(v(mV)){alpr=exp(1.e-3*zetar*(v-vhalfr)*9.648e4/(8.315*(273.16+celsius)))}FUNCTIONbetr(v(mV)){betr=exp(1.e-3*zetar*gmr*(v-vhalfr)*9.648e4/(8.315*(273.16+celsius)))}PROCEDURErate(v(mV),a2){LOCALq10,msum,hsum,ma,mb,ha,hb,cma=malf(v)mb=mbet(v)ha=half(v)hb=hbet(v)msum=ma+mbminf=ma/msummtau=1/(msum)hsum=ha+hbhinf=ha/hsumhtau=1/(hsum)stau=betr(v)/(a0r*(1+alpr(v)))if(stau<taumin){stau=taumin}c=alpv(v)sinf=c+a2*(1-c)}UNITSON