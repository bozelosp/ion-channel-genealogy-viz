UNITS{(mA)=(milliamp)(mV)=(millivolt)(nA)=(nanoamp)}NEURON{SUFFIXkltUSEIONkREADekWRITEikRANGEgkltbar,gklt,ikGLOBALwinf,zinf,wtau,ztau}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)celsius=22(degC)dt(ms)ek=-77(mV)gkltbar=0.01592(mho/cm2)<0,1e9>zss=0.5<0,1>}STATE{wz}ASSIGNED{ik(mA/cm2)gklt(mho/cm2)winfzinfwtau(ms)ztau(ms)}LOCALwexp,zexpBREAKPOINT{SOLVEstatesgklt=gkltbar*(w^4)*zik=gklt*(v-ek)}UNITSOFFINITIAL{trates(v)w=winfz=zinf}PROCEDUREstates(){trates(v)w=w+wexp*(winf-w)z=z+zexp*(zinf-z)VERBATIMreturn0;ENDVERBATIM}LOCALq10PROCEDURErates(v){q10=3^((celsius-22)/10)winf=(1/(1+exp(-(v+48)/6)))^0.25zinf=zss+((1-zss)/(1+exp((v+71)/10)))wtau=(100/(6*exp((v+60)/6)+16*exp(-(v+60)/45)))+1.5ztau=(1000/(exp((v+60)/20)+exp(-(v+60)/8)))+50}PROCEDUREtrates(v){LOCALtincTABLEwinf,wexp,zinf,zexpDEPENDdt,celsiusFROM-150TO150WITH300rates(v)tinc=-dt*q10wexp=1-exp(tinc/wtau)zexp=1-exp(tinc/ztau)}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON