INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSpGnoisePOINTERvcellRANGEactiveRANGEg_e,g_i,E_e,E_i,g_e0,g_i0,g_e1,g_i1RANGEstd_e,std_i,tau_e,tau_i,D_e,D_iRANGEdel,dur,seedRANGEg_eout,g_ioutUSEIONzREADezWRITEizVALENCE1}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)}PARAMETER{active=0dt(ms)del=0(ms)dur=5000(ms)seed=0E_e=0(mV)E_i=-75(mV)g_e0=0.0121(umho)g_i0=0.0573(umho)std_e=0.0030(umho)std_i=0.0066(umho)tau_e=2.728(ms)tau_i=10.49(ms)}ASSIGNED{vcell(mV)iz(nA)ez(mV)g_e(umho)g_i(umho)g_e1(umho)g_i1(umho)D_e(umhoumho/ms)D_i(umhoumho/ms)exp_eexp_iamp_e(umho)amp_i(umho)g_eout(umho)g_iout(umho)}INITIAL{set_seed(seed)exp_e=0exp_i=0amp_e=0exp_i=0g_e1=0g_i1=0if(tau_e!=0){D_e=2*std_e*std_e/tau_eexp_e=exp(-dt/tau_e)amp_e=std_e*sqrt((1-exp(-2*dt/tau_e)))}if(tau_i!=0){D_i=2*std_i*std_i/tau_iexp_i=exp(-dt/tau_i)amp_i=std_i*sqrt((1-exp(-2*dt/tau_i)))}}BREAKPOINT{if(active){if((t>=del)&&(t<dur)){SOLVEoupif(tau_e==0){g_e1=std_e*normrand(0,1)}if(tau_i==0){g_i1=std_i*normrand(0,1)}g_e=g_e0+g_e1if(g_e<0){g_e=0}g_i=g_i0+g_i1if(g_i<0){g_i=0}iz=g_e*(vcell-E_e)+g_i*(vcell-E_i)g_eout=50000.0*g_eg_iout=50000.0*g_i}else{iz=0g_eout=0g_iout=0}}else{iz=0g_eout=0g_iout=0}}PROCEDUREoup(){if(tau_e!=0){g_e1=exp_e*g_e1+amp_e*normrand(0,1)}if(tau_i!=0){g_i1=exp_i*g_i1+amp_i*normrand(0,1)}}PROCEDUREUpdate(){set_seed(seed)if(tau_e!=0){D_e=2*std_e*std_e/tau_eexp_e=exp(-dt/tau_e)amp_e=std_e*sqrt((1-exp(-2*dt/tau_e)))}if(tau_i!=0){D_i=2*std_i*std_i/tau_iexp_i=exp(-dt/tau_i)amp_i=std_i*sqrt((1-exp(-2*dt/tau_i)))}}