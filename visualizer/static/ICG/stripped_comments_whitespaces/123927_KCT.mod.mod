UNITS{(molar)=(1/liter)(mM)=(millimolar)(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}NEURON{SUFFIXKCTUSEIONcaREADcaiUSEIONkREADekWRITEikRANGEgCTbar,gCTGLOBALcinf,dinf,dtau,ctau}PARAMETER{gCTbar=0.120(S/cm2)<0,1e9>ctau=0.55(ms)}STATE{cd}ASSIGNED{ek(mV)ik(mA/cm2)cai(mM)v(mV)celsius(degC)gCT(S/cm2)cinfdinfdtau(ms)}BREAKPOINT{SOLVEstatesMETHODcnexpgCT=gCTbar*c*c*dik=gCT*(v-ek)}INITIAL{rates(v)c=cinfd=dinf}DERIVATIVEstates{rates(v)c'=(cinf-c)/ctaud'=(dinf-d)/dtau}LOCALq10PROCEDURErates(v(mV)){LOCALalpha,beta,sum,vshiftUNITSOFFvshift=40*log10(cai)q10=3^((celsius-6.3)/10)alpha=-0.0077*vtrap(v+vshift+103,-12)beta=1.7/exp((v+vshift+237)/30)sum=alpha+betacinf=alpha/sumalpha=1/(exp((v+79)/10))beta=4/(exp((v-82)/-27)+1)sum=alpha+betadinf=alpha/sumdtau=1/sum}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON