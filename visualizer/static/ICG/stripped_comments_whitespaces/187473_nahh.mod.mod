NEURON{SUFFIXnahhUSEIONnaREADenaWRITEinaRANGEgnabar,m,h,ishift,mshift,hshiftGLOBALinf,tau,ena}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{v(mV)celsius(degC)gnabar=.300(mho/cm2)ena(mV)ishift(mV)mshift(mV)hshift(mV)}STATE{mh}ASSIGNED{ina(mA/cm2)inf[2]tau[2]}INITIAL{mhn(v)m=inf[0]h=inf[1]}BREAKPOINT{SOLVEstatesMETHODcnexpina=gnabar*m*m*m*h*(v-ena)}DERIVATIVEstates{mhn(v*1(/mV))m'=(inf[0]-m)/tau[0]h'=(inf[1]-h)/tau[1]}FUNCTIONalp(v(mV),i){LOCALq10v=v+65q10=3^((celsius-30)/10)if(i==0){v=v+mshiftalp=q10*.32*expM1(13.1-v,4)}elseif(i==1){v=v+hshiftalp=q10*.128*exp((17-v+ishift)/18)}}FUNCTIONbet(v,i){LOCALq10v=v+65q10=3^((celsius-30)/10)if(i==0){v=v+mshiftbet=q10*.28*expM1(v-40.1,5)}elseif(i==1){v=v+hshiftbet=q10*4/(exp((40.0-v)/5)+1)}}FUNCTIONexpM1(x,y){if(fabs(x/y)<1e-6){expM1=y*(1-x/y/2)}else{expM1=x/(exp(x/y)-1)}}PROCEDUREmhn(v){LOCALa,bFROMi=0TO1{a=alp(v,i)b=bet(v,i)tau[i]=1/(a+b)inf[i]=a/(a+b)}}