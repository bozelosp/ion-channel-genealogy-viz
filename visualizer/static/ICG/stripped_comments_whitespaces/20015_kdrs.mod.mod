NEURON{SUFFIXkdrsUSEIONkREADekWRITEikRANGEgbarGLOBALminf,mtau,hinf}PARAMETER{gbar=0.0002(mho/cm2)celsiusek(mV)v(mV)a0m=0.015vhalfm=-25zetam=0.15gmm=0.5htau=1000mmin=7q10=3f=0.93}UNITS{(mA)=(milliamp)(mV)=(millivolt)(pS)=(picosiemens)(um)=(micron)}ASSIGNED{ik(mA/cm2)minfmtau(ms)hinf}STATE{mh}BREAKPOINT{SOLVEstatesMETHODcnexpik=gbar*m*h*(v-ek)}INITIAL{trates(v)m=minfh=hinf}DERIVATIVEstates{trates(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}PROCEDUREtrates(v){LOCALqtqt=q10^((celsius-23)/10)minf=(1/(1+exp(-(v+41.9)/23.1)))^4mtau=betm(v)/(qt*a0m*(1+alpm(v)))if(mtau<mmin){mtau=mmin}hinf=f*(1/(1+exp((v+52.2)/15.2)))+(1-f)}FUNCTIONalpm(v(mV)){alpm=exp(zetam*(v-vhalfm))}FUNCTIONbetm(v(mV)){betm=exp(zetam*gmm*(v-vhalfm))}