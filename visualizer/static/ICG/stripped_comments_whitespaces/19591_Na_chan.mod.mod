UNITS{(mA)=(milliamp)(mV)=(millivolt)}NEURON{SUFFIXnaf_chanRANGEgbar,iUSEIONnaREADenaWRITEinaGLOBALminf,hinf,am,bm,cm,dm,taum_min,ah,bh,ch,dh,tauh_min}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)dt(ms)gbar=7.43e-2(mho/cm2)am=1.5bm=0.147cm=0.55dm=-39taum_min=0.05ah=0.12bh=-0.177548ch=0.5dh=-50tauh_min=0.225}STATE{mh}ASSIGNED{ena(mV)ina(mA/cm2)minfhinf}LOCALmexp,hexpBREAKPOINT{SOLVEstatesina=gbar*m*m*m*h*(v-ena)}UNITSOFFINITIAL{rates(v)m=minfh=hinf}PROCEDUREstates(){rates(v)m=m+mexp*(minf-m)h=h+hexp*(hinf-h)VERBATIMreturn0;ENDVERBATIM}PROCEDURErates(v){LOCALtau,alpha,betaTABLEminf,mexp,hinf,hexpDEPENDdtFROM-100TO100WITH2000alpha=am*exp(bm*cm*(v-dm))beta=am*exp(-bm*(1-cm)*(v-dm))tau=1/(alpha+beta)minf=alpha*tauif(tau<taum_min){tau=taum_min}mexp=1-exp(-dt/tau)alpha=ah*exp(bh*ch*(v-dh))beta=ah*exp(-bh*(1-ch)*(v-dh))tau=1/(alpha+beta)hinf=alpha*tauif(tau<tauh_min){tau=tauh_min}hexp=1-exp(-dt/tau)}UNITSON