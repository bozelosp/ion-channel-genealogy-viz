NEURON{SUFFIXcarUSEIONcaREADecaWRITEicaRANGEgcabar,m,hRANGEinf,fac,tau}UNITS{(mA)=(milliamp)(mV)=(millivolt)}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)celsius=34(degC)dt(ms)gcabar=1.0(mho/cm2)eca=140(mV)}STATE{mh}ASSIGNED{ica(mA/cm2)inf[2]fac[2]tau[2]}BREAKPOINT{SOLVEstatesica=gcabar*m*m*m*h*(v-eca)}INITIAL{h=1m=0states()ica=gcabar*m*m*m*h*(v-eca)}PROCEDUREcalcg(){mhn(v*1(/mV))m=m+fac[0]*(inf[0]-m)h=h+fac[1]*(inf[1]-h)}PROCEDUREstates(){calcg()VERBATIMreturn0;ENDVERBATIM}FUNCTIONvarss(v,i){if(i==0){varss=1/(1+exp((v+49)/(-3)))}elseif(i==1){varss=1/(1+exp((v+52)/(1)))}}FUNCTIONvartau(v,i){if(i==0){vartau=50}elseif(i==1){vartau=10}}PROCEDUREmhn(v){LOCALa,bFROMi=0TO1{tau[i]=vartau(v,i)inf[i]=varss(v,i)fac[i]=(1-exp(-dt/tau[i]))}}