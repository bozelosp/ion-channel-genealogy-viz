UNITS{(mV)=(millivolt)(mA)=(milliamp)FARADAY=(faraday)(coulomb)R=(k-mole)(joule/degC)}INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXCaTUSEIONcaREADcai,cao,ecaWRITEicaRANGEgcaT,iCaTGLOBALactivate_Q10,Q10,gmaxQ10,rate_k,gmax_k,temp1,temp2,tempb}PARAMETER{v(mV)dt(ms)gcaT=0.001(mho/cm2)iCaT=0.0(mA/cm2)ecacaicaocelsiusactivate_Q10=1Q10=1.515804730e+00gmaxQ10=1.515804730e+00temp1=19.0(degC)temp2=29.0(degC)tempb=23.0(degC)}STATE{rsd}ASSIGNED{ica(mA/cm2)ralpha(/ms)rbeta(/ms)salpha(/ms)sbeta(/ms)dalpha(/ms)dbeta(/ms)rate_kgmax_k}BREAKPOINT{SOLVEstatesMETHODcnexpica=(gcaT*gmax_k)*r*r*r*s*ghkg(v,cai,cao,2)iCaT=ica}UNITSOFFINITIAL{LOCALktemp,ktempb,ktemp1,ktemp2if(activate_Q10>0){ktemp=celsius+273.0ktempb=tempb+273.0ktemp1=temp1+273.0ktemp2=temp2+273.0rate_k=exp(log(Q10)*((1/ktempb)-(1/ktemp))/((1/ktemp1)-(1/ktemp2)))gmax_k=exp(log(gmaxQ10)*((1/ktempb)-(1/ktemp))/((1/ktemp1)-(1/ktemp2)))}else{rate_k=1.0gmax_k=1.0}settables(v)r=ralpha/(ralpha+rbeta)s=(salpha*(dbeta+dalpha)-(salpha*dbeta))/((salpha+sbeta)*(dalpha+dbeta)-(salpha*dbeta))d=(dbeta*(salpha+sbeta)-(salpha*dbeta))/((salpha+sbeta)*(dalpha+dbeta)-(salpha*dbeta))}DERIVATIVEstates{settables(v)r'=((ralpha*(1-r))-(rbeta*r))d'=((dbeta*(1-s-d))-(dalpha*d))s'=((salpha*(1-s-d))-(sbeta*s))}PROCEDUREsettables(v){LOCALbdTABLEralpha,rbeta,salpha,sbeta,dalpha,dbetaDEPENDcelsiusFROM-100TO100WITH400ralpha=rate_k*1.0/(1.7+exp(-(v+26.2722)/13.5))rbeta=rate_k*exp(-(v+61.0722)/7.8)/(exp(-(v+26.8722)/13.1)+1.7)salpha=rate_k*exp(-(v+158.3722)/17.8)sbeta=rate_k*(sqrt(0.25+exp((v+81.5722)/6.3))-0.5)*(exp(-(v+158.3722)/17.8))bd=sqrt(0.25+exp((v+81.5722)/6.3))dalpha=rate_k*(1.0+exp((v+35.4722)/30.0))/(240.0*(0.5+bd))dbeta=rate_k*(bd-0.5)*dalpha}UNITSONINCLUDE"custom_code/inc_files/151460_ghk.inc"