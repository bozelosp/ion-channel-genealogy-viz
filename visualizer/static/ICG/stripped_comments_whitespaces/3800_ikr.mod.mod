NEURON{SUFFIXIKrUSEIONkREADekWRITEikRANGEgKr,ik,TauactGLOBALminf,mtau}UNITS{(mA)=(milliamp)(mV)=(millivolt)(mM)=(milli/liter)}PARAMETER{gKr=0.0588e-3(S/cm2)<0,1e9>Tauact=1(ms)}STATE{m}ASSIGNED{v(mV)celsius(degC)ik(mA/cm2)minfmtau(ms)ek(mV)}INITIAL{rate(v*1(/mV))m=minf}BREAKPOINT{SOLVEstatesMETHODderivimplicitik=gKr/(1+exp((v+15)/22.4))*m*(v-ek)}DERIVATIVEstates{rate(v*1(/mV))m'=(minf-m)/mtau}UNITSOFFFUNCTIONalp(v(mV)){LOCALq10v=vq10=3^((celsius-37)/10)alp=q10*0.0003*(v+14.1)/(1-exp(-(v+14.1)/5))}FUNCTIONbet(v(mV)){LOCALq10v=vq10=3^((celsius-37)/10)bet=q10*7.3898e-5*(v-3.3328)/(exp((v-3.3328)/5.1237)-1)}FUNCTIONce(v(mV)){v=vce=1/(1+exp(-(v+14.1)/6.5))}PROCEDURErate(v){LOCALa,b,ca=alp(v)b=bet(v)c=ce(v)mtau=1/(a+b)*Tauactminf=c}UNITSON