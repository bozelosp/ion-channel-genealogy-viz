NEURON{POINT_PROCESSStdwaSoftRANGEinterval,tlast_pre,tlast_post,M,PRANGEdeltaw,wmax,aLTP,aLTD,wpruneGLOBALtauLTP,tauLTD,onPOINTERwsyn}ASSIGNED{interval(ms)tlast_pre(ms)tlast_post(ms)MPdeltawwsyn}INITIAL{interval=0tlast_pre=0tlast_post=0M=0P=0deltaw=0}PARAMETER{tauLTP=20(ms)tauLTD=20(ms)wmax=1aLTP=0.001aLTD=0.00106on=1wprune=0}NET_RECEIVE(w){if(w>=0){P=P*exp((tlast_pre-t)/tauLTP)+aLTPinterval=tlast_post-ttlast_pre=tdeltaw=wsyn*M*exp(interval/tauLTD)}else{M=M*exp((tlast_post-t)/tauLTD)-aLTDinterval=t-tlast_pretlast_post=tdeltaw=(wmax-wsyn)*P*exp(-interval/tauLTP)}if(on){if(wsyn>wprune){wsyn=wsyn+deltaw}else{wsyn=0}}}