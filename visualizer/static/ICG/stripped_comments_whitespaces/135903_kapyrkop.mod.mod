NEURON{SUFFIXKaPyrKopUSEIONkREADekWRITEikRANGEck,dk,fk,gmax,ik,atau,btau,ainf,binf}UNITS{(mA)=(milliamp)(mV)=(millivolt)(mS)=(millisiemens)}PARAMETER{gmax=1.0(mS/cm2)ck=0.0(1)dk=0.0(1)fk=0.0(1)}ASSIGNED{ek(mV)v(mV)ik(mA/cm2)ainf(1)binf(1)atau(ms)btau(ms)}STATE{ab}INITIAL{rates(v)a=ainfb=binf}BREAKPOINT{SOLVEstatesMETHODcnexpik=(1e-3)*gmax*a*b*(v-ek)}DERIVATIVEstates{rates(v)a'=(ainf-a)/ataub'=(binf-b)/btau}PROCEDURErates(v(mV)){LOCALaa,baaa=exp(-0.038(/mV)*(dk+fun2(v,-40.0,1.0,5.0)*1.0(ms))*(v-ek))ba=exp(-0.038(/mV)*(fk+fun2(v,-40.0,1.0,5.0)*1.0(ms))*(v-ek))ainf=1.0/(1.0+aa)atau=max(0.1,ck*ba/(1.0+aa))*1.0(ms)binf=fun2(v,-56.0,1.0,1.0/0.11)*1.0(ms)btau=max(2.0,0.26(/mV)*(v+50.0))*1.0(ms)}INCLUDE"custom_code/inc_files/135903_aux_fun.inc"