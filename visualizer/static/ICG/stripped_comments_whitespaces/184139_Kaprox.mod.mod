UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{v(mV)celsius=24(degC)gbar=.008(mho/cm2)vhalfn=-15(mV)vhalfl=-70(mV)a0l=0.05(/ms)a0n=0.05(/ms)zetan=-3(1)zetal=5(1)gmn=0.55(1)gml=1(1)lmin=6.7(mS)nmin=0.1(mS)pw=-1(1)tq=-40qq=5q10=5qtl=0.5FRT=39(coulombs/joule)}NEURON{SUFFIXKaProxUSEIONkWRITEikRANGEgbar,gka,ikGLOBALninf,linf,taul,taun,lmin}STATE{nl}ASSIGNED{ik(mA/cm2)ninflinftaultaungka}INITIAL{rates(v)n=ninfl=linf}BREAKPOINT{SOLVEstatesMETHODcnexpgka=gbar*n*lik=gka*(v+90.0)}FUNCTIONalpn(v(mV)){LOCALzetazeta=zetan+pw/(1+exp((v-tq)/qq))alpn=exp(1.e-3*zeta*(v-vhalfn)*FRT)}FUNCTIONbetn(v(mV)){LOCALzetazeta=zetan+pw/(1+exp((v-tq)/qq))betn=exp(1.e-3*zeta*gmn*(v-vhalfn)*FRT)}FUNCTIONalpl(v(mV)){alpl=exp(1.e-3*zetal*(v-vhalfl)*FRT)}FUNCTIONbetl(v(mV)){betl=exp(1.e-3*zetal*gml*(v-vhalfl)*FRT)}DERIVATIVEstates{rates(v)n'=(ninf-n)/taunl'=(linf-l)/taul}PROCEDURErates(v(mV)){LOCALa,qtqt=q10^((celsius-24)/10)a=alpn(v)ninf=1/(a+1)taun=betn(v)/(qt*a0n*(1+a))if(taun<nmin){taun=nmin}a=alpl(v)linf=1/(a+1)taul=0.26*(v+50)/qtlif(taul<lmin/qtl){taul=lmin/qtl}}