UNITS{(mA)=(milliamp)(mV)=(millivolt)}NEURON{SUFFIXKrpmUSEIONkREADekWRITEikRANGEgkrpmbar,gkrpm,minf,hinf,mtau,htau}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{gkrpmbar=0.00042(mho/cm2)Etemp=22Vsm=-13.4ksm=12.1Vsh=-55.0ksh=-19.0tom=206.2Vtm=-53.9ktm=26.5Vth=-38.2kth=28hint=0.7647}STATE{mh}ASSIGNED{ek(mV)v(mV)ik(mA/cm2)celsius(degC)minfhinfmtauhtaugkrpm}BREAKPOINT{SOLVEstatesMETHODcnexpgkrpm=gkrpmbar*m*hik=gkrpm*(v-ek)}UNITSOFFINITIAL{rates(v)m=minfh=hint}DERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}PROCEDURErates(v){LOCALq10,tadjq10=2.5tadj=q10^((celsius-Etemp)/10)minf=1/(1+exp(-(v-Vsm)/ksm))hinf=1/(1+exp(-(v-Vsh)/ksh))mtau=tom/(exp(-(v-Vtm)/ktm)+exp((v-Vtm)/ktm))/tadjhtau=3*(1790+2930*exp(-((v-Vth)/kth)^2)*((v-Vth)/kth))/tadj}UNITSON