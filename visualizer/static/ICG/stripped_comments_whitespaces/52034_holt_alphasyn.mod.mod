INDEPENDENT{tFROM0TO10WITH1(ms)}NEURON{POINT_PROCESSholt_alphasynRANGEi,stim,g,erevNONSPECIFIC_CURRENTi}PARAMETER{stim=0(uS)erev=0(mV)v(mV)dt(ms)}ASSIGNED{tau(ms)i(nA)state_t1(uS)state_t2(uS)new_statescale_factorA_coeffB_coeffg(uS)}INITIAL{IF(tau==0.0){tau=1}reinit()}PROCEDUREset_tau(new_tau){tau=new_taureinit()}FUNCTIONget_tau(){get_tau=tau}PROCEDUREreinit(){state_t1=0state_t2=0A_coeff=2*exp(-dt/tau)B_coeff=exp(-2*dt/tau)scale_factor=(dt/tau)*exp(dt/tau+1)}BREAKPOINT{SOLVEdumg=new_statei=g*(v-erev)}PROCEDUREdum(){state_t2=state_t2-stim*scale_factorstim=0new_state=A_coeff*state_t1-B_coeff*state_t2state_t2=state_t1state_t1=new_stateVERBATIMreturn0;ENDVERBATIM}