NEURON{POINT_PROCESSIFBNONSPECIFIC_CURRENTiGLOBALhinf,tauh,tauh1,tauh2,vh,erev,vthresh,vresetRANGEgmax,gshort}PARAMETER{tauh1=100(ms)tauh2=20(ms)vh=-60erev=120vthresh=-35vreset=-50gmax=0.07(mS/cm2)gshort=0}ASSIGNED{v(mV)gihinftauh}STATE{h}INITIAL{h=1gshort=0}BREAKPOINT{if(v<vh){hinf=1tauh=tauh2}else{hinf=0tauh=tauh1}SOLVEstatesMETHODcnexpif(v>vh){i=gmax*h*(v-erev)+gshort*(v-vreset)}else{i=0}}DERIVATIVEstates{h'=(hinf-h)/tauh}NET_RECEIVE(w){if(flag==0){net_event(t)net_send(1e-4)state_discontinuity(gshort,1e5)}else{state_discontinuity(gshort,0)}}