UNITS{(mA)=(milliamp)(mV)=(millivolt)(mM)=(milli/liter)}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{dt(ms)cai(mM)v(mV)ek(mV)tm=10celsius=30(degC)gkmbar=.003(mho/cm2)vhalf=-55(mV)a0=0.0002(/ms)b0=0.0002(/ms)zeta=-7(1)gm=0.8(1)st=1}NEURON{SUFFIXborgkmUSEIONkREADekWRITEikRANGEgkmbarGLOBALinf,tau}STATE{m}ASSIGNED{ik(mA/cm2)inftau}INITIAL{rate(v)m=inf}BREAKPOINT{SOLVEstateik=gkmbar*m^st*(v-ek)}FUNCTIONalp(v(mV)){alp=exp(1.e-3*zeta*(v-vhalf)*9.648e4/(8.315*(273.16+celsius)))}FUNCTIONbet(v(mV)){bet=exp(1.e-3*zeta*gm*(v-vhalf)*9.648e4/(8.315*(273.16+celsius)))}LOCALfacmPROCEDUREstate(){rate(v)m=m+facm*(inf-m)VERBATIMreturn0;ENDVERBATIM}PROCEDURErate(v(mV)){LOCALa,q10q10=5^((celsius-22)/10)a=alp(v)inf=1/(1+a)tau=bet(v)/(q10*(a0+b0*a))if(tau<tm){tau=tm}facm=(1-exp(-dt/tau))}