UNITS{(mA)=(milliamp)(mV)=(millivolt)(nA)=(nanoamp)}NEURON{SUFFIXihNONSPECIFIC_CURRENTiRANGEghbar,gh,ihGLOBALrinf,rtauGLOBALeh}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)celsius=22(degC)dt(ms)ghbar=0.00318(mho/cm2)<0,1e9>}STATE{r}ASSIGNED{eh(mV)gh(mho/cm2)i(mA/cm2)rinfrtau(ms)}LOCALrexpBREAKPOINT{SOLVEstatesgh=ghbar*ri=gh*(v-eh)}UNITSOFFINITIAL{trates(v)r=rinf}PROCEDUREstates(){trates(v)r=r+rexp*(rinf-r)VERBATIMreturn0;ENDVERBATIM}LOCALq10PROCEDURErates(v){q10=3^((celsius-22)/10)rinf=1/(1+exp((v+76)/7))rtau=(100000/(237*exp((v+60)/12)+17*exp(-(v+60)/14)))+25}PROCEDUREtrates(v){LOCALtincTABLErinf,rexpDEPENDdt,celsiusFROM-200TO150WITH350rates(v)tinc=-dt*q10rexp=1-exp(tinc/rtau)}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON