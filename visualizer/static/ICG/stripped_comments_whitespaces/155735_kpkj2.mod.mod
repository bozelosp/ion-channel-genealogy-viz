NEURON{SUFFIXkpkj2USEIONkREADekWRITEikRANGEgkbar,ikGLOBALninf,ntau,ek}UNITS{(mV)=(millivolt)(mA)=(milliamp)}PARAMETER{v(mV)gkbar=.002(mho/cm2)nivh=-24(mV)nik=20.4ek}ASSIGNED{ikninfntau(ms)}STATE{n}INITIAL{rates(v)n=ninf}BREAKPOINT{SOLVEstatesMETHODcnexpik=gkbar*n^4*(v-ek)}DERIVATIVEstates{rates(v)n'=(ninf-n)/ntau}PROCEDURErates(Vm(mV)){LOCALvv=Vm+11ninf=1/(1+exp(-(v-nivh)/nik))ntau=1000*ntau_func(v)}FUNCTIONntau_func(v(mV)){if(v<-20){ntau_func=.000688+1/(exp((v+64.2)/6.5)+exp((v-141.5)/-34.8))}else{ntau_func=.00016+.0008*exp(-.0267*v)}}