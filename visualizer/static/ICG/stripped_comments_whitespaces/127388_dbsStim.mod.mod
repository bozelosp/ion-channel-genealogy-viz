NEURON{POINT_PROCESSdbsStimRANGEdel,dur,amp,pw,period,actPrb,adLat,active,iELECTRODE_CURRENTi}UNITS{(nA)=(nanoamp)}PARAMETER{del=0(ms)dur=1e9(ms)<0,1e9>amp=0(nA)pw=.1(ms)period=500(ms)actPrb=1adLat=2active=0}ASSIGNED{i(nA)offtime(ms)}INITIAL{offtime=period-pwi=0if(del<=0){del=0}if(active){net_send(del,1)net_send(del+dur,4)}}BREAKPOINT{i=i}NET_RECEIVE(w){LOCALtmpif(flag==0&&w>=0){active=1net_send(del,1)net_send(del+dur,4)}else{if(flag==1&&active){tmp=scop_random()if(tmp<=actPrb){net_send(adLat,2)net_send(adLat+pw,3)net_event(t)}net_send(adLat+offtime,1)}else{if(flag==2){i=amp}else{if(flag==3){i=0}else{if(flag==4){active=0}}}}}}