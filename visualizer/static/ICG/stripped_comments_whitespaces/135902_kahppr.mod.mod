NEURON{SUFFIXkahpprUSEIONkREADekWRITEikUSEIONcaREADcaiRANGEgkahp,ik,qinf,tauq}UNITS{(mollar)=(1/liter)(mM)=(millimollar)(mA)=(milliamp)(mV)=(millivolt)(mS)=(millisiemens)}PARAMETER{gkahp=0.8(mS/cm2)}ASSIGNED{ek(mV)v(mV)ik(mA/cm2)cai(mM)qinf(1)tauq(ms)}STATE{q}INITIAL{rates(v)q=qinf}BREAKPOINT{SOLVEstatesMETHODcnexpik=(1e-3)*gkahp*q*(v-ek)}DERIVATIVEstates{rates(v)q'=(qinf-q)/tauq}PROCEDURErates(v(mV)){LOCALa,ba=0.01(/ms)*min(cai/500(mM),1)b=1(/ms)/1000qinf=a/(a+b)tauq=1.0/(a+b)}INCLUDE"custom_code/inc_files/135902_aux_fun.inc"