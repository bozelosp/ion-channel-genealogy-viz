NEURON{POINT_PROCESSStdwaSymmRANGEinterval,tlast_pre,tlast_postRANGEdeltaw,wmax,fGLOBALtau_a,tau_b,a,onPOINTERwsyn}ASSIGNED{interval(ms)tlast_pre(ms)tlast_post(ms)fdeltawwsyntas(ms2)}INITIAL{interval=0tlast_pre=0tlast_post=0f=0deltaw=0}PARAMETER{tau_a=20(ms)tau_b=15(ms)wmax=1a=0.001on=1}NET_RECEIVE(w){tas=tau_a*tau_aif(w>=0){interval=tlast_post-ttlast_pre=tf=(1-interval*interval/tas)*exp(interval/tau_b)deltaw=wmax*a*f}else{interval=t-tlast_pretlast_post=tf=(1-interval*interval/tas)*exp(-interval/tau_b)deltaw=wmax*a*f}if(on){wsyn=wsyn+deltawif(wsyn>wmax){wsyn=wmax}if(wsyn<0){wsyn=0}}}