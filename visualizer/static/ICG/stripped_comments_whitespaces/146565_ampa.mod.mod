NEURON{POINT_PROCESSampaNONSPECIFIC_CURRENTiampaRANGEe,gmax,ntar,local_v,iampa,ghRANGEdel,Tspike,NspikeRANGEgampaGLOBALtau_ampa}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(nS)=(nanomho)(mM)=(milli/liter)F=96480(coul)R=8.314(volt-coul/degC)}PARAMETER{gmax=1(nS)e=0.0(mV)tau_ampa=2(ms)dt(ms)v(mV)del=30(ms)Tspike=10(ms)Nspike=1}ASSIGNED{iampa(nA)local_v(mV)}STATE{gampa}INITIAL{gampa=0}BREAKPOINT{LOCALcountSOLVEstateMETHODcnexpFROMcount=0TONspike-1{IF(at_time(count*Tspike+del)){state_discontinuity(gampa,gampa+gmax)}}iampa=(1e-3)*gampa*(v-e)local_v=v}DERIVATIVEstate{gampa'=-gampa/tau_ampa}