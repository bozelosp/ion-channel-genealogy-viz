NEURON{POINT_PROCESSFDSExpSynRANGEtau,e,i,f,tau_F,d1,tau_D1,d2,tau_D2NONSPECIFIC_CURRENTi}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)}PARAMETER{tau=0.1(ms)<1e-9,1e9>e=0(mV)f=0.917(1)<0,1e9>tau_F=94(ms)<1e-9,1e9>d1=0.416(1)<0,1>tau_D1=380(ms)<1e-9,1e9>d2=0.975(1)<0,1>tau_D2=9200(ms)<1e-9,1e9>}ASSIGNED{v(mV)i(nA)}STATE{g(umho)}INITIAL{g=0}BREAKPOINT{SOLVEstateMETHODcnexpi=g*(v-e)}DERIVATIVEstate{g'=-g/tau}NET_RECEIVE(weight(umho),F,D1,D2,tsyn(ms)){INITIAL{F=1D1=1D2=1tsyn=t}F=1+(F-1)*exp(-(t-tsyn)/tau_F)D1=1-(1-D1)*exp(-(t-tsyn)/tau_D1)D2=1-(1-D2)*exp(-(t-tsyn)/tau_D2)tsyn=tstate_discontinuity(g,g+weight*F*D1*D2)F=F+fD1=D1*d1D2=D2*d2}