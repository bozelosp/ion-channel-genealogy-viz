UNITS{(mA)=(milliamp)(mV)=(millivolt)}NEURON{SUFFIXKAsmUSEIONkREADekWRITEikRANGEgkasmbar,gkasm,minf,hinf,mtau,htau}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{gkasmbar=0.00032(mho/cm2)Etemp=22Vsm=-25.6ksm=13.3Vsh=-78.8ksh=-10.4tom=131.4Vtm=-37.4ktm=27.3Vth=-38.2kth=28hint=0.46}STATE{mh}ASSIGNED{ek(mV)v(mV)ik(mA/cm2)celsius(degC)minfhinfmtauhtaugkasm}BREAKPOINT{SOLVEstatesMETHODcnexpgkasm=gkasmbar*m*hik=gkasm*(v-ek)}UNITSOFFINITIAL{rates(v)m=minfh=hint}DERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}PROCEDURErates(v){LOCALq10,tadjq10=2.5tadj=q10^((celsius-Etemp)/10)minf=1/(1+exp(-(v-Vsm)/ksm))hinf=1/(1+exp(-(v-Vsh)/ksh))mtau=tom/(exp(-(v-Vtm)/ktm)+exp((v-Vtm)/ktm))/tadjhtau=(1790+2930*exp(-((v-Vth)/kth)^2)*((v-Vth)/kth))/tadj}UNITSON