INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXnafPR}NEURON{USEIONnaREADenaWRITEina}ASSIGNED{inaena(mV)}PARAMETER{gmax=0.030(mho/cm2)vrest=-60.0exptemp=37maflag=3malphaA=-0.32malphaB=-4.0malphaV0=13.1mbflag=3mbetaA=0.28mbetaB=5.0mbetaV0=40.1mq10=3mexp=-2haflag=1halphaA=0.128halphaB=-18halphaV0=17.hbflag=2hbetaA=4.hbetaB=-5.hbetaV0=40.hq10=3hexp=1celsius(degC)dt(ms)v(mV)}NEURON{RANGEgmax,g,iGLOBALInf,Tau,vrest,qq10}CONSTANT{FARADAY=96489.0R=8.31441}UNITS{(mA)=(milliamp)(mV)=(millivolt)(umho)=(micromho)}ASSIGNED{i(mA/cm^2)g(mho/cm^2)Inf[2]Tau[2]qq10[2]}STATE{h}INITIAL{mh(v)h=Inf[1]}BREAKPOINT{SOLVEstatesMETHODcnexpmh(v)g=gmax*Inf[0]*Inf[0]*hi=g*(v-ena)ina=i}DERIVATIVEstates{mh(v)h'=(-h+Inf[1])/Tau[1]}PROCEDUREmh(v){LOCALa,b,jqq10[0]=mq10^((celsius-exptemp)/10.)qq10[1]=hq10^((celsius-exptemp)/10.)FROMj=0TO1{a=alpha(v,j)b=beta(v,j)Inf[j]=a/(a+b)Tau[j]=1./(a+b)/qq10[j]if(hexp==0){Tau[1]=1.Inf[1]=1.}}}FUNCTIONalpha(v,j){LOCALflag,A,B,V0if(j==1&&hexp==0){alpha=0}else{if(j==1){A=halphaAB=halphaBV0=halphaV0+vrestflag=haflag}else{A=malphaAB=malphaBV0=malphaV0+vrestflag=maflag}if(flag==1){alpha=A*exp((v-V0)/B)}elseif(flag==2){alpha=A/(exp((v-V0)/B)+1)}elseif(flag==3){if(v==V0){alpha=A*B}else{alpha=A*(v-V0)/(exp((v-V0)/B)-1)}}}}FUNCTIONbeta(v,j){LOCALflag,A,B,V0if(j==1&&hexp==0){beta=1}else{if(j==1){A=hbetaAB=hbetaBV0=hbetaV0+vrestflag=hbflag}else{A=mbetaAB=mbetaBV0=mbetaV0+vrestflag=mbflag}if(flag==1){beta=A*exp((v-V0)/B)}elseif(flag==2){beta=A/(exp((v-V0)/B)+1)}elseif(flag==3){if(v==V0){beta=A*B}else{beta=A*(v-V0)/(exp((v-V0)/B)-1)}}}}