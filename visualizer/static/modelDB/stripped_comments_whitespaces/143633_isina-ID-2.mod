INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXisinaNONSPECIFIC_CURRENTinaRANGEgnabar,enaRANGEm_inf,h_infRANGEtau_m,tau_h}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gnabar=0.4(mho/cm2)ena=45(mV)celsius(degC)dt(ms)v(mV)vtraub=-70(mV)}STATE{mh}ASSIGNED{ina(mA/cm2)m_infh_inftau_m(ms)tau_h(ms)tadj}BREAKPOINT{SOLVEstatesMETHODeulerina=gnabar*m*m*m*h*(v-ena)}DERIVATIVEstates{evaluate_fct(v)m'=(m_inf-m)/tau_mh'=(h_inf-h)/tau_h}UNITSOFFINITIAL{tadj=3.0^((celsius-36)/10)evaluate_fct(v)m=m_infh=h_inf}PROCEDUREevaluate_fct(v(mV)){LOCALa,b,v2v2=v-vtrauba=vtrap1(v2)b=vtrap2(v2)tau_m=1/(a+b)/tadjm_inf=a/(a+b)a=0.128*Exp((17-v2)/18)b=4/(1+Exp((40-v2)/5))tau_h=1/(a+b)/tadjh_inf=a/(a+b)}UNITSONFUNCTIONvtrap1(x){if(fabs(13-x)<1e-6){vtrap1=0.32*4}else{vtrap1=0.32*(13-x)/(Exp((13-x)/4)-1)}}FUNCTIONvtrap2(x){if(fabs(x-40)<1e-6){vtrap2=0.28*5}else{vtrap2=0.28*(x-40)/(Exp((x-40)/5)-1)}}FUNCTIONExp(x){if(x<-100){}else{if(x>700){Exp=exp(700)}else{Exp=exp(x)}}}