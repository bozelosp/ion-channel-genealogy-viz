NEURON{SUFFIXkmUSEIONkREADekWRITEikRANGEgbar,ik}UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}PARAMETER{gbar=0.03(S/cm2)tha=-30(mV)qa=9(mV)Ra=0.001(/ms/mV)Rb=0.001(/ms/mV)temp=23(degC)q10=2.3}ASSIGNED{v(mV)gk(S/cm2)ek(mV)celsius(degC)ik(mA/cm2)tadjninftaun(ms)}STATE{n}BREAKPOINT{SOLVEstatesMETHODcnexptadj=q10^((celsius-temp)/10(degC))gk=tadj*gbar*nik=gk*(v-ek)}DERIVATIVEstates{rates(v)n'=(ninf-n)/taun}INITIAL{rates(v)n=0}FUNCTIONvtrap(x(mV),y(mV))(1){if(fabs(x/y)<1e-6){vtrap=1(/mV)*y*(1-x/y/2)}else{vtrap=1(/mV)*x/(exp(x/y)-1)}}FUNCTIONalpha(v(mV))(/ms){alpha=Ra*vtrap(-(v-tha),qa)}FUNCTIONbeta(v(mV))(/ms){beta=Rb*vtrap(v-tha,qa)}PROCEDURErates(v(mV)){taun=1/(alpha(v)+beta(v))ninf=alpha(v)*taun}