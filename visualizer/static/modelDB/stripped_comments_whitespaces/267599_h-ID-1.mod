NEURON{SUFFIXhNONSPECIFIC_CURRENTiRANGEgbar,vhalf,K,taun,ninf,g,i}UNITS{(um)=(micrometer)(mA)=(milliamp)(uA)=(microamp)(mV)=(millivolt)(pmho)=(picomho)(mmho)=(millimho)}PARAMETER{dt(ms)v(mV)ena=50(mV)eh=-10(mV)K=8.5(mV)gbar=0(mho/cm2)vhalf=-81(mV)}STATE{n}ASSIGNED{i(mA/cm2)ninftaun(ms)g}INITIAL{states()n=ninfg=gbar*ni=g*(v-eh)}BREAKPOINT{SOLVEhMETHODderivimplicitg=gbar*ni=g*(v-eh)}DERIVATIVEh{states()n'=(ninf-n)/taun}FUNCTIONMyExp(x){if(x<-50){MyExp=0}elseif(x>50){MyExp=exp(50)}else{MyExp=exp(x)}}PROCEDUREstates(){taun=2*(1/(MyExp((v+186.32)/-29.91)+MyExp((v+21.84)/13.77)))if(taun<5){taun=5}ninf=1-(1/(1+MyExp((vhalf-v)/K)))}