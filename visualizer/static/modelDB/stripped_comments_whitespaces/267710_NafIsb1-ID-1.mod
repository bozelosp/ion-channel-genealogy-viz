NEURON{SUFFIXNafIsb1NONSPECIFIC_CURRENTinaRANGEgnabar,ena,gnaRANGEm_inf,h_infRANGEtau_m,tau_h}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gnabar=1.3392(mho/cm2)ena=50.0(mV)amA=10bmA=30th=30(ms)theta_h=55kappa_h=7celsius=20(degC)vtraub2=-10(mV)vtraub22=-70(mV)}STATE{mh}ASSIGNED{dt(ms)v(mV)ina(mA/cm2)gna(mho/cm2)m_infh_inftau_m(ms)tau_h(ms)tadj1tadj2tadj3}BREAKPOINT{SOLVEstatesMETHODcnexpgna=gnabar*m*m*m*hina=gnabar*m*m*m*h*(v-ena)}DERIVATIVEstates{evaluate_fct(v)m'=(m_inf-m)/tau_mh'=(h_inf-h)/tau_h}UNITSOFFINITIAL{tadj3=3.0^((celsius-36)/10)evaluate_fct(v)m=m_infh=h_inf}PROCEDUREevaluate_fct(v(mV)){LOCALa,b,v2,v22v2=v-vtraub2v22=v-vtraub22a=0.4*vtrap(amA-v22,5)b=0.4*vtrap(v22-bmA,5)tau_m=1/(a+b)/tadj3m_inf=a/(a+b)tau_h=(th*tadj3)/(exp((v2+50)/15)+exp(-(v2+50)/16))h_inf=1/(1+exp((v2+theta_h)/kappa_h))}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON