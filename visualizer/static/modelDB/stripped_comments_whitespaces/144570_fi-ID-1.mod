NEURON{POINT_PROCESSFastInhibRANGEtau1,tau2,e,iNONSPECIFIC_CURRENTiRANGEgmaxRANGEx,mgid,ggid,srcgidGLOBALltdinvl,ltpinvl,sighalf,sigslopeRANGEg}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(uS)=(microsiemens)}PARAMETER{tau1=1(ms)<1e-9,1e9>tau2=200(ms)<1e-9,1e9>gmax=.003(uS)e=-80(mV)ltdinvl=250(ms)ltpinvl=33.33(ms)sighalf=25(1)sigslope=3(1)x=0(um)mgid=-1ggid=-1srcgid=-1}ASSIGNED{v(mV)i(nA)g(uS)factorw(uS)total(uS)}STATE{AB}INITIAL{LOCALtpif(tau1/tau2>.9999){tau1=.9999*tau2}A=0B=0tp=(tau1*tau2)/(tau2-tau1)*log(tau2/tau1)factor=-exp(-tp/tau1)+exp(-tp/tau2)factor=1/factor}BREAKPOINT{SOLVEstateMETHODcnexpg=(B-A)*gmaxi=g*(v-e)}DERIVATIVEstate{A'=-A/tau1B'=-B/tau2}FUNCTIONplast(step(1))(1){plast=1-1/(1+exp((step-sighalf)/sigslope))}NET_RECEIVE(weight,s,w,tlast(ms)){INITIAL{s=0w=0tlast=-1e9(ms)}if(t-tlast<ltpinvl){s=s+1if(s>2*sighalf){s=2*sighalf}}elseif(t-tlast>ltdinvl){}else{s=s-1if(s<0){s=0}}tlast=tw=weight*plast(s)A=A+w*factorB=B+w*factor}