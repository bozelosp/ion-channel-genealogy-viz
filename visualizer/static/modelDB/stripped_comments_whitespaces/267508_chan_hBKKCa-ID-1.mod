NEURON{SUFFIXhBKKCaUSEIONkREADekWRITEikUSEIONcaREADcaiRANGEgkbar,ik}UNITS{(molar)=(1/liter)(mM)=(millimolar)(S)=(siemens)(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gkbar=0.12(S/cm2)mvhalf=2.6(mV)mslope=-17.0(mV)mshift=0(mV)hvhalf=-86.15(mV)hslope=11.61(mV)hshift=0(mV)pvhalf=-7.4(mM)pslope=-0.65(mM)pshift=0(mM)mtau=0.133(ms)htau=1.27(ms)mpower=3ppower=8hpower=1}ASSIGNED{v(mV)cai(mM)ik(mA/cm2)ek(mV)pominfhinf}STATE{mh}BREAKPOINT{SOLVEstateMETHODcnexpik=po^ppower*gkbar*m^mpower*h^hpower*(v-ek)}DERIVATIVEstate{calc_po(cai)settables(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}PROCEDUREsettables(v(mV)){TABLEminf,hinfDEPENDmshift,hshiftFROM-100TO100WITH201minf=1/(1+exp((v-mvhalf-mshift)/mslope))hinf=1/(1+exp((v-hvhalf-hshift)/hslope))}PROCEDUREcalc_po(cai(mM)){po=1/(1+exp((cai-pvhalf-pshift)/pslope))}