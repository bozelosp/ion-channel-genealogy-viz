NEURON{SUFFIXichan2vipUSEIONnaREADenaWRITEinaUSEIONkREADekWRITEikNONSPECIFIC_CURRENTilRANGEgna,gkRANGEgnabar,gkbar,gl,elRANGEina,ik,il}UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}PARAMETER{gnabar=0(S/cm2)gkbar=0(S/cm2)gl=0(S/cm2)}ASSIGNED{v(mV)ena(mV)ek(mV)el(mV)ina(mA/cm2)ik(mA/cm2)il(mA/cm2)minf(1)taum(ms)hinf(1)tauh(ms)ninf(1)taun(ms)gna(S/cm2)gk(S/cm2)}STATE{mhn}BREAKPOINT{SOLVEstatesMETHODcnexpgna=gnabar*pow(m,3)*hina=gna*(v-ena)gk=gkbar*pow(n,4)ik=gk*(v-ek)il=gl*(v-el)}DERIVATIVEstates{rates(v)m'=(minf-m)/taumh'=(hinf-h)/tauhn'=(ninf-n)/taun}INITIAL{rates(v)m=minfh=hinfn=ninf}FUNCTIONvtrap(x(mV),y(mV))(1){if(fabs(x/y)<1e-6){vtrap=1(/mV)*y*(1-x/y/2)}else{vtrap=1(/mV)*x/(exp(x/y)-1)}}PROCEDURErates(v(mV)){LOCALalpha,betaalpha=0.3(/ms)*vtrap(-(v+26(mV)),5(mV))beta=0.3(/ms)*vtrap((v-2(mV)),5(mV))taum=1/(alpha+beta)minf=alpha*taumalpha=0.23(/ms)/exp((v+48(mV))/10(mV))beta=3.33(/ms)/(1+exp(-(v-4.5(mV))/5(mV)))tauh=1/(alpha+beta)hinf=alpha*tauhalpha=0.07(/ms)*vtrap(-(v-39(mV)),6(mV))beta=0.264(/ms)/exp((v-14(mV))/40(mV))taun=1/(alpha+beta)ninf=alpha*taun}