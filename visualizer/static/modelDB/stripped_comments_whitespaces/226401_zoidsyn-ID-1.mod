NEURON{POINT_PROCESSZoidSynRANGEtrf,tpRANGEstart,interval,numberRANGEe,gmax,g,iNONSPECIFIC_CURRENTi}UNITS{(mV)=(millivolt)(nS)=(nanosiemens)(nA)=(nanoamp)}PARAMETER{trf(ms)<0,1e9>tp(ms)<0,1e9>start(ms)<0,1e9>interval(ms)<0,1e9>numbere(mV)gmax(nS)<0,1e9>}ASSIGNED{v(mV)i(nA)ontallym(1/ms)b(1)dur(ms)t0(ms)g(nS)}INITIAL{if(trf<=0){trf=1UNITSOFFprintf("trfmustbelongerthan0\n")printf("trfhasbeenincreasedto%gms\n",trf)UNITSON}if(tp<0){tp=0UNITSOFFprintf("tpmustnotbenegative\n")printf("tphasbeenchangedto%gms\n",tp)UNITSON}dur=2*trf+tpif(interval<=dur){interval=dur+1(ms)UNITSOFFprintf("intervalmustbelongerthantrapezoidduration\n")printf("intervalhasbeenincreasedto%gms\n",interval)UNITSON}on=0m=0b=0tally=numberif(tally>0){net_send(start,1)tally=tally-1}}BREAKPOINT{g=gmax*(m*(t-t0)+b)i=(0.001)*g*(v-e)}NET_RECEIVE(w){if((on==0)&&(flag==1)){t0=tm=1/trfb=0on=1net_send(trf,2)}if(flag==2){m=0b=1net_send(tp,3)}if(flag==3){t0=tm=-1/trfb=1net_send(trf,4)}if(flag==4){m=0b=0on=0if(tally>0){net_send(interval-dur,1)tally=tally-1}}}