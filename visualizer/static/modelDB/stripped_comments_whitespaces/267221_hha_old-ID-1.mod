NEURON{SUFFIXhha_oldUSEIONnaREADenaWRITEinaUSEIONkREADekWRITEikNONSPECIFIC_CURRENTilRANGEgnabar,gkbar,gl,el,ik,ina,ilRANGEar2}UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)FARADAY=(faraday)(kilocoulombs)R=(k-mole)(joule/degC)}PARAMETER{a0r=0.0003(/ms)b0r=0.0003(/ms)zetar=12(1)zetas=12(1)gmr=0.2(1)ar2=1.0taumin=3(ms)vvs=2(mV)vhalfr=-60(mV)gnabar=0(S/cm2)gkbar=0(S/cm2)gl=0(S/cm2)}ASSIGNED{v(mV)ena(mV)ek(mV)el(mV)celsius(degC)ina(mA/cm2)ik(mA/cm2)il(mA/cm2)minftaum(ms)hinftauh(ms)sinftaus(ms)ninftaun(ms)}STATE{mhsn}BREAKPOINT{SOLVEstatesMETHODcnexpina=gnabar*pow(m,2)*h*s*(v-ena)ik=gkbar*pow(n,2)*(v-ek)il=gl*(v-el)}DERIVATIVEstates{rates(v)m'=(minf-m)/taumh'=(hinf-h)/tauhs'=(sinf-s)/tausn'=(ninf-n)/taun}INITIAL{rates(v)m=minfh=hinfs=1n=ninf}FUNCTIONalpr(v(mV))(1){alpr=exp(1.e-3*zetar*(v-vhalfr)*FARADAY/(R*(273.16+celsius)))}FUNCTIONbetr(v(mV))(1){betr=exp(1.e-3*zetar*gmr*(v-vhalfr)*FARADAY/(R*(273.16+celsius)))}PROCEDURErates(v(mV)){minf=1/(1+exp((v-8(mV)+42.5(mV))/(-3(mV))))hinf=1/(1+exp((v-8(mV)+49(mV))/(3.5(mV))))sinf=(1+ar2*exp((v-vhalfr)/vvs))/(1+exp((v-vhalfr)/vvs))ninf=1/(1+exp((v-8(mV)+46.3(mV))/(-3(mV))))taum=0.05tauh=0.5taun=2.2taus=betr(v)/(a0r+b0r*alpr(v))if(taus<taumin){taus=taumin}}