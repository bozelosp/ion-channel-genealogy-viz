UNITS{(mA)=(milliamp)(mV)=(millivolt)}NEURON{SUFFIXKMUSEIONkWRITEikRANGEgkbar,gk,minf,mexp}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)celsius=37(degC)dt(ms)gkbar=.00004(mho/cm2)ek=-85(mV)}STATE{m}ASSIGNED{ik(mA/cm2)gkminfmexp}BREAKPOINT{SOLVEstatesgk=gkbar*mik=gk*(v-ek)}UNITSOFFINITIAL{rates(v)m=minf}PROCEDUREstates(){rates(v)m=m+mexp*(minf-m)}PROCEDURErates(v){LOCALq10,tinc,sumTABLEminf,mexpDEPENDdt,celsiusFROM-100TO100WITH200q10=3^((celsius-37)/10)tinc=-dt*q10sum=3.3*(exp((v+35)/40)+exp(-(v+35)/20))/200minf=1.0/(1+exp(-(v+35)/10))mexp=1-exp(tinc*sum)}UNITSON