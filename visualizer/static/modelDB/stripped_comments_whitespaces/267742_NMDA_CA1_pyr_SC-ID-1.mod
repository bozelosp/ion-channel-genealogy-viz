NEURON{POINT_PROCESSNMDA_CA1_pyr_SCUSEIONcaREADecaWRITEicaRANGEtau1,tau2,e,i,mg,pfNONSPECIFIC_CURRENTiRANGEg,caf}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(uS)=(microsiemens)}PARAMETER{tau1=3.3(ms)<1e-9,1e9>tau2=102.38(ms)<1e-9,1e9>e=0(mV)mg=1(mM)pf=0.03(1)}ASSIGNED{v(mV)i(nA)g(uS)eca(mV)ica(nA)factor}STATE{A(uS)B(uS)}INITIAL{LOCALtpif(tau1/tau2>.9999){tau1=.9999*tau2}A=0B=0tp=(tau1*tau2)/(tau2-tau1)*log(tau2/tau1)factor=-exp(-tp/tau1)+exp(-tp/tau2)factor=1/factor}BREAKPOINT{SOLVEstateMETHODcnexpg=(B-A)*mgblock(v)i=g*(v-e)*(1-pf)ica=g*(v-eca)*pf}DERIVATIVEstate{A'=-A/tau1B'=-B/tau2}FUNCTIONmgblock(v(mV)){TABLEDEPENDmgFROM-140TO80WITH1000mgblock=1/(1+exp(0.062(/mV)*-v)*(mg/3.57(mM)))}NET_RECEIVE(weight(uS)){A=A+weight*factorB=B+weight*factor}