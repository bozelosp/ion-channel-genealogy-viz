NEURON{POINT_PROCESSGABABsynRANGEC,R,G,B,g,gmax,tauDNONSPECIFIC_CURRENTiRANGEvgat,sst,npy,pv,xEffRANGEisOnGLOBALK1,K2,K3,K4,KD,k1,k_1,k2,e,Bm}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(molar)=(1/liter)(mM)=(millimolar)(uS)=(microsiemens)}PARAMETER{tauD=10(ms)K1=0.066(/msmM)K2=0.008(/ms)K3=0.27(/ms)K4=0.044(/ms)KD=0.5n=2e=-95(mV)gmax(uS)f=0.1k1=30(/msmM)k_1=0.1(/ms)k2=0.02(/ms)Bm=1(mM)vgat=0sst=0npy=0pv=0xEff=-1isOn=0}ASSIGNED{v(mV)i(nA)g(uS)Gn}STATE{C(mM)RGB(mM)}INITIAL{C=0R=0G=0B=0}BREAKPOINT{SOLVEstateMETHODcnexpGn=G^ng=isOn*gmax*Gn/(Gn+KD)i=g*(v-e)}DERIVATIVEstate{C'=(-C/tauD-k1*C*(Bm-B)+k_1*B)R'=(K1*C*(1-R)-K2*R)G'=(K3*R*(1-G)-K4*G)*fB'=(k1*C*(Bm-B)-(k_1+k2)*B)}NET_RECEIVE(weight(mM)){C=C+weight}