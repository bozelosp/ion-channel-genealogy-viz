UNITS{(mV)=(millivolt)(mA)=(milliamp)}INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXInhIAFNONSPECIFIC_CURRENTiGLOBALspikedur,refact,tauAHP,eAHP,gAHPbarRANGEThr,lastspikeRANGEgPAS,ePAS,gAHP,AHPon,gON,gOFF,eON,eOFF}PARAMETER{gPAS=0.001(mho/cm2)ePAS=-60(mV)spikedur=1(ms)refact=2.0(ms)Thr=-40(mv)gONconst=1(mho/cm2)gOFFconst=1(mho/cm2)eON=40(mV)eOFF=-60(mV)tauAHP=0.1(/ms)gAHPbar=0.00005(mho/cm2)eAHP=-90(mv)}ASSIGNED{vi(mA/cm2)lastspikegAHP(mho/cm2)AHPongON(mho/cm2)gOFF(mho/cm2)}INITIAL{gAHP=0AHPon=-9e4gON=0gOFF=0lastspike=-9e4}BREAKPOINT{SOLVEupdatei=gPAS*(v-ePAS)+gAHP*(v-eAHP)+gON*(v-eON)+gOFF*(v-eOFF)}PROCEDUREupdate(){LOCALq,dvgON=0gOFF=0q=(t-lastspike)-spikedurif(q>refact){if(v>Thr){gON=gONconstlastspike=t}}elseif(q<0){gON=gONconst}elseif(v>0){gOFF=gOFFconstgAHP=gAHP+gAHPbarAHPon=t}gAHP=gAHP-gAHP*tauAHP*dtVERBATIMreturn0;ENDVERBATIM}