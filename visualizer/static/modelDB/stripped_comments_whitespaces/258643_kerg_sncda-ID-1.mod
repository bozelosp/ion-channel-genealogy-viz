NEURON{SUFFIXkergUSEIONkREADekWRITEikRANGEo,i,ikRANGEgbar,alphaa,betaa,alphai,betaiEXTERNALapc_metap,fpc_metapGLOBALVhalf,taumodGLOBALvshiftGLOBALaa0,aac,ba0,bacGLOBALai0,aic,bi0,bic}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{ek(mV)gbar=0.05(S/cm2)Vhalf=-40(mV)taumod=1vshift=0(mV)ai0=91.11aic=0.1189bi0=12.6bic=0.0733aa0=0.00236aac=0.0759ba0=1.2523e-05bac=-0.0671}STATE{oi}ASSIGNED{v(mV)ik(mA/cm2)alphaa(1/ms)alphai(1/ms)betaa(1/ms)betai(1/ms)}BREAKPOINT{SOLVEstatesMETHODcnexpik=gbar*o*(v-ek)}DERIVATIVEstates{rates(v)o'=(alphaa*(1-o-i))+(betai*i)-((alphai+betaa)*o)i'=(alphai*o)-(betai*i)}INITIAL{setVhalf(Vhalf)setTauMod(taumod)rates(v)o=0i=0}PROCEDURErates(v(mV)){alphaa=aa0*exp(aac*(v+vshift))betaa=ba0*exp(bac*(v+vshift))alphai=ai0*exp(aic*(v+vshift))betai=bi0*exp(bic*(v+vshift))}PROCEDUREsetVhalf(Vhalf(mV)){vshift=Vhalf}PROCEDUREsetTauMod(taumod){aa0=0.00236/taumodba0=1.2523e-05/taumodai0=91.11/taumodbi0=12.6/taumod}