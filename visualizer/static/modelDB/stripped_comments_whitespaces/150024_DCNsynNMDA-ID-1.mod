NEURON{POINT_PROCESSDCNsynNMDANONSPECIFIC_CURRENTiRANGEg,i,e,tauRise,tauFall,MgFactor,gamma,C}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(mM)=(milli/liter)}PARAMETER{tauRise=1(ms)tauFall=1(ms)e=0(mV)MgFactor=0.1(mM)gamma=0.1}ASSIGNED{Cv(mV)i(nA)g(microsiemens)factor}STATE{A(microsiemens)B(microsiemens)}INITIAL{LOCALtpif(tauRise/tauFall>.9999){tauRise=.9999*tauFall}A=0B=0tp=(tauRise*tauFall)/(tauFall-tauRise)*log(tauFall/tauRise)factor=-exp(-tp/tauRise)+exp(-tp/tauFall)factor=1/factor}BREAKPOINT{SOLVEstateMETHODcnexpC=1/(1+MgFactor*exp(-gamma*v))g=(B-A)*Ci=g*(v-e)}DERIVATIVEstate{A'=-A/tauRiseB'=-B/tauFall}NET_RECEIVE(weight(microsiemens)){state_discontinuity(A,A+weight*factor)state_discontinuity(B,B+weight*factor)}