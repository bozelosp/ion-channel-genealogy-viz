NEURON{SUFFIXnadiflUSEIONnaREADinaWRITEnai,enaRANGED,Nai,Total,neo,tau}UNITS{(mM)=(milli/liter)(um)=(micron)FARADAY=(faraday)(coulomb)PI=(pi)(1)}PARAMETER{D=.6(um2/ms)k1buf=0.01k2buf=0tau=5000(ms)}ASSIGNED{ina(milliamp/cm2)diam(um)iNa(milliamp/cm2)Total(mM)neo(milliamp/cm2)ena(mV)}STATE{nai(mM)Nai(mM)}INITIAL{lates()nai=10Nai=10Total=20neo=ina}BREAKPOINT{SOLVEconcMETHODsparse}KINETICconc{lates()COMPARTMENTPI*diam*diam/4{nai}LONGITUDINAL_DIFFUSIOND{nai}~nai<<(-neo/(FARADAY)*PI*diam*(1e4))}PROCEDURElates(){LAGinaBYtauneo=lag_ina_tauif(ena<70){ena=70}if(nai<10){nai=10}}