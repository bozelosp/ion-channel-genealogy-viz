NEURON{POINT_PROCESSglutamateNONSPECIFIC_CURRENTinmda,iampaRANGEe,gAMPAmax,gNMDAmax,inmda,iampaRANGEgnmda,gampa,dend,pos,locx,locy,local_vRANGEstim,ttGLOBALn,gama,tau_ampa,PrGLOBALtau1,tau2GLOBALVoff,Vset}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(nS)=(nanomho)(mM)=(milli/liter)F=96480(coul)R=8.314(volt-coul/degC)PI=(pi)(1)(mA)=(milliamp)(um)=(micron)}PARAMETER{gNMDAmax=0.5(nS)gAMPAmax=0.5(nS)e=0.0(mV)tau1=50(ms)tau2=2(ms)tau_ampa=1(ms)n=0.25(/mM)gama=0.08(/mV)dt(ms)v(mV)dend=0pos=0locx=0locy=0Pr=.8Voff=0Vset=-60stim=0}ASSIGNED{inmda(nA)iampa(nA)gnmda(nS)local_vtt}STATE{A(nS)B(nS)gampa(nS)}INITIAL{gnmda=0gampa=0A=0B=0stim=0tt=0}BREAKPOINT{if((stim==1)&&(tt<t)){if(scop_random()<=Pr){state_discontinuity(A,A+gNMDAmax)state_discontinuity(B,B+gNMDAmax)state_discontinuity(gampa,gampa+gAMPAmax)tt=t+2}}SOLVEstateMETHODcnexplocal_v=v*(1-Voff)+Vset*Voffgnmda=(A-B)/(1+n*exp(-gama*local_v))inmda=(1e-3)*gnmda*(v-e)iampa=(1e-3)*gampa*(v-e)}DERIVATIVEstate{A'=-A/tau1B'=-B/tau2gampa'=-gampa/tau_ampa}