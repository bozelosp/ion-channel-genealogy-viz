INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSNMDA16_2USEIONnaREADnaoRANGET_max,T,tau,tRel,Erev,synonRANGER,RA,RA2,RA2d1,RA2d2,RA2f,RA2s,O,OMg,RMg,RAMg,RA2Mg,RA2d1Mg,RA2d2Mg,RA2fMg,RA2sMgRANGEg,kd1F,kd1B,kd2F,kd2B,csiGLOBALKcs,kP,kNo,kNi,kMgF,kMgB,ksF,ksB,kfF,kfBNONSPECIFIC_CURRENTiTHREADSAFE}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(pS)=(picosiemens)(uS)=(microsiemens)(umho)=(micromho)(mM)=(milli/liter)(uM)=(micro/liter)}PARAMETER{Erev=-0.7(mV)gmax=50(pS)Mg=1(mM)tau=.3(ms)<1e-9,1e9>T_max=1.5(mM)kon=2.83(/ms/mM)koff=38.1e-3(/ms)ksF0=48e-3(/ms)ksB0=230e-3(/ms)kfF0=2836e-3(/ms)kfB0=175e-3(/ms)Vdep=175(mV)V0=-100(mV)kd1F=0.55(/ms)kd1B=0.081(/ms)kd2F=0.32319(/ms)kd2B=0.00020977(/ms)Kna=34.4(mM)Kcs0=0.27(mM)a=-21(mV)kP0=1.10e3(/ms/mM)b=-55(mV)kNo0=1.10e2(/ms)c=52.7(mV)kNi0=61.8e-3(/ms)d=-50(mV)csi=148(mM)}ASSIGNED{v(mV)i(nA)g(uS)T(mM)tRel(ms)synonwksF(/ms)ksB(/ms)kfF(/ms)kfB(/ms)kMgF(/ms/mM)kMgB(/ms)Kcs(mM)kP(/ms/mM)kNo(/ms)kNi(/ms)nao(mM)}STATE{RRARA2RA2d1RA2d2RA2fRA2sOOMgRMgRAMgRA2MgRA2d1MgRA2d2MgRA2fMgRA2sMg}INITIAL{T=0synon=0tRel=0R=1rates(v,t)net_send(590,1)}BREAKPOINT{SOLVEkstatesMETHODsparseg=w*gmax*Oi=g*(v-Erev)}KINETICkstates{rates(v,t)~R<->RA((2*kon*T),koff)~RA<->RA2((kon*T),(2*koff))~RA2<->RA2d1(kd1F,kd1B)~RA2<->RA2d2(kd2F,kd2B)~RA2<->RA2f(kfF,kfB)~RA2<->RA2s(ksF,ksB)~RA2f<->O(ksF,ksB)~RA2s<->O(kfF,kfB)~O<->OMg((kMgF*Mg),kMgB)~OMg<->RA2fMg(ksB,ksF)~OMg<->RA2sMg(kfB,kfF)~RA2fMg<->RA2Mg(kfB,kfF)~RA2sMg<->RA2Mg(ksB,ksF)~RA2Mg<->RA2d1Mg(kd1B,kd1F)~RA2Mg<->RA2d2Mg(kd2B,kd2F)~RA2Mg<->RAMg((2*koff),(kon*T))~RAMg<->RMg(koff,(2*kon*T))CONSERVER+RA+RA2+RA2d1+RA2d2+RA2f+RA2s+O+OMg+RMg+RAMg+RA2Mg+RA2d1Mg+RA2d2Mg+RA2fMg+RA2sMg=1}NET_RECEIVE(weight){if(flag==0){tRel=tsynon=1w=weight}if(flag==1){R=1RA=0RA2=0RA2d1=0RA2d2=0RA2f=0RA2s=0O=0OMg=0RMg=0RAMg=0RA2Mg=0RA2d1Mg=0RA2d2Mg=0RA2fMg=0RA2sMg=0}}PROCEDURErates(v(mV),t(ms)){T=T_max*(t-tRel)/tau*exp(1-(t-tRel)/tau)*synonkMgF=610e-3*exp(1(/mV)*-v/17)*1(/mM/ms)kMgB=5400e-3*exp(1(/mV)*v/47)*1(/ms)ksF=ksF0*exp((v-V0)/Vdep)ksB=ksB0*exp((v-V0)/Vdep*(-1))kfF=kfF0*exp((v-V0)/Vdep)kfB=kfB0*exp((v-V0)/Vdep*(-1))}