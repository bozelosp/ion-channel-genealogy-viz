UNITS{(mA)=(milliamp)(mV)=(millivolt)}NEURON{POINT_PROCESSNMDA_v6_3_optPOINTERGluRANGEopen_totalRANGEcondRANGEg1RANGEg2RANGEalphaRANGEtempRANGEVrevRANGEopen_MgNONSPECIFIC_CURRENTiRANGEnbNMDARRANGEcurrent_CaRANGEperm_CaRANGEcurrent_KRANGEperm_KRANGEcurrent_NaRANGEperm_NaRANGEkeRANGEk_eRANGEkgRANGEk_gRANGEgbRANGEg_bRANGEgaRANGEg_aRANGEdonRANGEdoffRANGEbeta2RANGEalpha2RANGEbeta1RANGEalpha1RANGEgRANGEv1}PARAMETER{cond=0.0g1=40.0g2=247.0alpha=0.01temp=0.0Vrev=0open_Mg=0.0nbNMDAR=1.0current_Ca=0.0perm_Ca=0.1current_K=0.0perm_K=0.45current_Na=0.0perm_Na=0.45ke=1.0k_e=0.0263kg=10.0k_g=0.0291gb=0.168153226487g_b=0.263214630793ga=0.1g_a=217.59688772don=0.0421976169622doff=0.0128627223774beta2=7.11918962116alpha2=4.36739898423beta1=3.5alpha1=0.174379055622Gly=0.02Mg=1Gluvv1g}STATE{RR_GluR_2GluR_GlyR_2GlyR_Glu_GlyR_Glu_2GlyR_2Glu_GlyR_2Glu_2GlyState6State5State4DesensitizedOpen1Open2}INITIAL{R=1.0R_Glu=0.0R_2Glu=0.0R_Gly=0.0R_2Gly=0.0R_Glu_Gly=0.0R_Glu_2Gly=0.0R_2Glu_Gly=0.0R_2Glu_2Gly=0.0State6=0.0State5=0.0State4=0.0Desensitized=0.0Open1=0.0Open2=0.0}ASSIGNED{i(nA)open_total}BREAKPOINT{SOLVEstatesMETHODderivimplicitopen_total=Open2+Open1cond=g1+((g2-g1)/(1+exp(alpha*v*0.001(1/mV))))open_Mg=(Open1+Open2)/(1+exp(-62*v*0.001(1/mV))*Mg/3.57)temp=cond*(v-Vrev)*0.001*open_Mgi=temp*nbNMDARcurrent_Ca=perm_Ca*icurrent_K=perm_K*icurrent_Na=perm_Na*ig=cond*open_Mg*0.001v1=v}DERIVATIVEstates{LOCALdummy,p0,p1,p2,p3,p4,p5,p6,p7,p8,p9,pa,pb,pc,pd,pe,pf,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p1a,p1b,p1c,p1d,p1ep1=open_totalp2=condp3=g1p4=g2p5=alphap6=tempp7=Vrevp8=open_Mgpa=nbNMDARpb=current_Capc=perm_Capd=current_Kpe=perm_Kpf=current_Nap10=perm_Nap11=kep12=k_ep13=kgp14=k_gp15=gbp16=g_bp17=gap18=g_ap19=donp1a=doffp1b=beta2p1c=alpha2p1d=beta1p1e=alpha1R'=-(2*p11*R*Glu-p12*R_Glu)-(2*p13*R*Gly-p14*R_Gly)R_Glu'=(2*p11*R*Glu-p12*R_Glu)-(p11*R_Glu*Glu-2*p12*R_2Glu)-(2*p13*R_Glu*Gly-p14*R_Glu_Gly)R_2Glu'=(p11*R_Glu*Glu-2*p12*R_2Glu)-(2*p13*R_2Glu*Gly-p14*R_2Glu_Gly)R_Gly'=(2*p13*R*Gly-p14*R_Gly)-(p13*R_Gly*Gly-2*p14*R_2Gly)-(2*p11*R_Gly*Glu-p12*R_Glu_Gly)R_2Gly'=(p13*R_Gly*Gly-2*p14*R_2Gly)-(2*p11*R_2Gly*Glu-p12*R_Glu_2Gly)R_Glu_Gly'=(2*p13*R_Glu*Gly-p14*R_Glu_Gly)-(p13*R_Glu_Gly*Gly-2*p14*R_Glu_2Gly)+(2*p11*R_Gly*Glu-p12*R_Glu_Gly)-(p11*R_Glu_Gly*Glu-2*p12*R_2Glu_Gly)R_Glu_2Gly'=(p13*R_Glu_Gly*Gly-2*p14*R_Glu_2Gly)+(2*p11*R_2Gly*Glu-p12*R_Glu_2Gly)-(p11*R_Glu_2Gly*Glu-2*p12*R_2Glu_2Gly)R_2Glu_Gly'=(2*p13*R_2Glu*Gly-p14*R_2Glu_Gly)-(p13*R_2Glu_Gly*Gly-2*p14*R_2Glu_2Gly)+(p11*R_Glu_Gly*Glu-2*p12*R_2Glu_Gly)R_2Glu_2Gly'=(p13*R_2Glu_Gly*Gly-2*p14*R_2Glu_2Gly)+(p11*R_Glu_2Gly*Glu-2*p12*R_2Glu_2Gly)-(p15*R_2Glu_2Gly-p16*State6)-(p17*R_2Glu_2Gly-p18*State5)State6'=(p15*R_2Glu_2Gly-p16*State6)-(p17*State6-p18*State4)-(p19*State6-p1a*Desensitized)State5'=(p17*R_2Glu_2Gly-p18*State5)-(p15*State5-p16*State4)-(p1b*State5-p1c*Open2)State4'=(p15*State5-p16*State4)+(p17*State6-p18*State4)-(p1d*State4-p1e*Open1)Desensitized'=(p19*State6-p1a*Desensitized)Open1'=(p1d*State4-p1e*Open1)Open2'=(p1b*State5-p1c*Open2)}