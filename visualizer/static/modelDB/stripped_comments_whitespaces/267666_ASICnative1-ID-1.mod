INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSASICnativeTonePOINTERheUSEIONcaWRITEicaRANGEpHRANGEgbar,m,n,hRANGEm_inf,h_infRANGEtau_m,tau_hRANGEi,g,e,ica,inon,ca_ratioGLOBALa1_tau_m,a2_tau_m,b1_tau_m,b2_tau_m,c1_tau_m,c2_tau_mNONSPECIFIC_CURRENTinon}UNITS{(mA)=(milliamp)(mV)=(millivolt)(molar)=(1/liter)(mM)=(millimolar)}PARAMETER{gbar=.1(mho/cm2)e=50(mV)a1_tau_m=0.3487(1)a2_tau_m=234.3(1)b1_tau_m=10.14(1)b2_tau_m=-5.553(1)c1_tau_m=6.392(1)c2_tau_m=8.595(1)ca_ratio=0.1(1)}STATE{mh}ASSIGNED{v(mV)i(mA)ica(mA)inon(mA)g(umho)m_infh_inftau_m(ms)tau_h(ms)pHhe(mM)}BREAKPOINT{SOLVEstatesi=gbar*m*h*(v-e)ica=ca_ratio*iinon=(1-ca_ratio)*i}DERIVATIVEstates{evaluate_fct(v)m'=(m_inf-m)/tau_mh'=(h_inf-h)/tau_h}UNITSOFFINITIAL{evaluate_fct(v)m=m_infh=h_inf}PROCEDUREevaluate_fct(v(mV)){LOCALa,b,v2,vhpH=-log(he*(0.001))/log(10)tau_m=1/(a1_tau_m/(1+exp(b1_tau_m*(pH-c1_tau_m)))+a2_tau_m/(1+exp(b2_tau_m*(pH-c2_tau_m))))m_inf=1/(1+10^(1.5*(pH-6.46)))tau_h=(49.196*exp(-34.682*(pH-7.144)^2)+(pH-5)*(4.78-0.98)/(9-5)+0.98)*1000h_inf=1.3/(1+10^(-4.6*(pH-7.3)))}UNITSON