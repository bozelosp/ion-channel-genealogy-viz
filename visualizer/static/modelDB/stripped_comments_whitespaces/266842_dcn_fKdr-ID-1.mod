NEURON{SUFFIXdcnfKdrUSEIONkREADekWRITEikRANGEgbar,m,ikGLOBALqdeltat}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{qdeltat=1gbar=1e-5(siemens/cm2)}ASSIGNED{v(mV)ek(mV)ik(mA/cm2)minftaum(ms)}STATE{m}INITIAL{rate(v)m=minf}BREAKPOINT{SOLVEstatesMETHODcnexpik=gbar*m*m*m*m*(v-ek)}DERIVATIVEstates{rate(v)m'=(minf-m)/taum}PROCEDURErate(v(mV)){TABLEminf,taumFROM-150TO100WITH300if(fabs(v+40)<1e-6){minf=1/(1+exp((v+40.00001)/-7.8))}else{minf=1/(1+exp((v+40)/-7.8))}taum=13.9/(exp((v+40)/12)+exp((v+40)/-13))+0.1taum=taum/qdeltat}