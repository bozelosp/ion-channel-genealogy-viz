UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}?interfaceNEURON{SUFFIXdcUSEIONnaREADenaWRITEinaUSEIONkREADekWRITEikNONSPECIFIC_CURRENTilRANGEgnabar,gkbar,gl,el,gna,gk,shiftGLOBALminf,hinf,ninf,mtau,htau,ntau,vrest}PARAMETER{gnabar=.6(S/cm2)<0,1e9>gkbar=.1(S/cm2)<0,1e9>gl=.003(S/cm2)<0,1e9>el=-54.3(mV)vrest=0(mV)shift=0}STATE{mhn}ASSIGNED{v(mV)ena(mV)ek(mV)gna(S/cm2)gk(S/cm2)ina(mA/cm2)ik(mA/cm2)il(mA/cm2)minfhinfninfmtau(ms)htau(ms)ntau(ms)}?currentsBREAKPOINT{SOLVEstatesMETHODcnexpgna=gnabar*m*m*m*hina=gna*(v-ena)gk=gkbar*n*n*n*nik=gk*(v-ek)il=gl*(v-el)}INITIAL{rates(v-vrest-shift)m=minfh=hinfn=ninf}?statesDERIVATIVEstates{rates(v-vrest-shift)m'=(minf-m)/mtauh'=(hinf-h)/htaun'=(ninf-n)/ntau}?ratesPROCEDURErates(v(mV)){LOCALalpha,beta,sumUNITSOFFalpha=.4*vtrap(25-v,5)beta=.4*vtrap(v-45,5)sum=alpha+betamtau=1/summinf=alpha/sumalpha=.28*exp((10-v)/20)beta=4/(exp((40-v)/10)+1)sum=alpha+betahtau=1/sumhinf=alpha/sumalpha=.02*vtrap(20-v,10)beta=.25*exp((10-v)/80)sum=alpha+betantau=1/sumninf=alpha/sum}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON