UNITS{(mV)=(millivolt)(nA)=(nanoamp)}NEURON{POINT_PROCESSDRSPKGLOBALrefrac,vrefrac,rdmthreshRANGEdrive,rand,inrefrac,fflag,qq,threshNONSPECIFIC_CURRENTi}PARAMETER{refrac=5(ms)vrefrac=0(mV)drive=0rand=1fflag=1i=0(nA)rdmthresh=0}ASSIGNED{v(mV)inrefracqqthresh}CONSTRUCTOR{VERBATIMENDVERBATIM}INITIAL{net_send(0,3)i=0drive=0qq=0if(rdmthresh){rand=1thresh=1}inrefrac=0}BREAKPOINT{if(inrefrac){qq=0}else{qq=drivethresh=rand}i=-qq}NET_RECEIVE(w){if(flag==1&&!inrefrac){net_event(t)net_send(refrac,2)v=vrefracinrefrac=1qq=0}elseif(flag==2){inrefrac=0if(v>thresh){net_send(0,1)}}elseif(flag==3){WATCH(v>thresh)1}}PROCEDUREvers(){printf("$Id}