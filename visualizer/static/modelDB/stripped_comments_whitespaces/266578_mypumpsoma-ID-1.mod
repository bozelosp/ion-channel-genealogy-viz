UNITS{(molar)=(1/liter)(pA)=(picoamp)(mV)=(millivolt)(uS)=(micromho)(mA)=(milliamp)(mM)=(millimolar)}INDEPENDENT{vFROM-100TO50WITH50(mV)}NEURON{SUFFIXmypumpsomaUSEIONnaWRITEinaUSEIONkWRITEikRANGEinapump,ipumpmax,n,km,kk,k,ina,ik,decline,intialdensity,lex,lux,red,green}PARAMETER{dt(ms)nai(mM)km=10.0(mM)n=1.5kk=10.0(mM)k=1.5nainit=4(mM)celsius=35(degC)T=1decline=0initialdensity=0.5(mA/cm2)lex=500000(ms)lux=100000(ms)red=3000(ms)green=8500(ms)}ASSIGNED{ina(mA/cm2)iNa(mA/cm2)ik(mA/cm2)inapump(mA/cm2)ipumpmax(mA/cm2)inapumping(mA/cm2)xmt_wait(ms)t_mate(ms)}INITIAL{ipumpmax=initialdensityt_wait=0t_mate=0}BREAKPOINT{inapump=ipumpmaxif(decline==1){if(t>red&&t<green){if(t_wait<lex){t_wait=t_wait+dt}else{ipumpmax=ipumpmax-0.001t_wait=0}}if(t>green){if(t_mate<lux){t_mate=t_mate+dt}else{ipumpmax=ipumpmax-0.001t_mate=0}}if(ipumpmax<0){ipumpmax=0}}ina=3.0*inapumpik=-2.0*inapump}