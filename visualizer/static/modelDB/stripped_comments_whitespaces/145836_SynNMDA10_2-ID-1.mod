INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSNMDA10_2RANGEC0,C1,C2,D,O,CB0,CB1,CB2,DB,OBRANGEg,gmax,rb,rbb,RMgB,RMgURANGET_max,T,tau,tRel,Erev,synonGLOBALmg,Rb,Ru,Rd,Rr,Ro,RcNONSPECIFIC_CURRENTi}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(pS)=(picosiemens)(uS)=(microsiemens)(umho)=(micromho)(mM)=(milli/liter)(uM)=(micro/liter)}PARAMETER{Erev=-0.7(mV)gmax=50(pS)mg=1(mM)Rb=5000e-3(/mM/ms)Ru=5.5e-3(/ms)Rd=8.4e-3(/ms)Rr=1.8e-3(/ms)Ro=46.5e-3(/ms)Rc=91.6e-3(/ms)tau=.3(ms)<1e-9,1e9>T_max=1.5(mM)}ASSIGNED{v(mV)i(nA)g(uS)rb(/ms)rbb(/ms)RMgB(/ms)RMgU(/ms)T(mM)tRel(ms)synonw}STATE{C0C1C2DOCB0CB1CB2DBOB}INITIAL{T=0synon=0tRel=0rates(v)C0=1C1=0C2=0D=0O=0CB0=0CB1=0CB2=0DB=0OB=0}BREAKPOINT{SOLVEkstatesMETHODsparseg=w*gmax*Oi=g*(v-Erev)}KINETICkstates{release(t)rb=Rb*Trates(v)~C0<->C1((2*rb),Ru)~C1<->C2(rb,(2*Ru))~C2<->D(Rd,Rr)~C2<->O(Ro,Rc)~O<->OB(RMgB,RMgU)~OB<->CB2((3*Rc),Ro)~CB2<->DB(Rd,Rr)~CB2<->CB1((2*Ru),rb)~CB1<->CB0(Ru,(2*rb))CONSERVEC0+C1+C2+D+O+CB0+CB1+CB2+DB+OB=1}NET_RECEIVE(weight){if(flag==0){tRel=tsynon=1w=weight}}PROCEDURErelease(t(ms)){T=T_max*(t-tRel)/tau*exp(1-(t-tRel)/tau)*synonVERBATIMreturn0;ENDVERBATIM}PROCEDURErates(v(mV)){RMgB=610e-3*exp(1(/mV)*-v/17)*(mg/1(mM))*1(/ms)RMgU=5400e-3*exp(1(/mV)*v/47)*1(/ms)}