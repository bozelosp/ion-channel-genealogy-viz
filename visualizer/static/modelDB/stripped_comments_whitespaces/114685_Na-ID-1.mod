UNITS{(mV)=(millivolt)(mA)=(milliamp)}INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXNaUSEIONnaREADnai,enaWRITEinaRANGEgna,m,hGLOBALrest,rate_k}PARAMETER{v(mV)dt(ms)gna=1e-7(mho/cm2)rest=-60.0(mV)ena(mV)naicelsius}STATE{mh}ASSIGNED{ina(mA/cm2)alpham(/ms)betam(/ms)alphah(/ms)betah(/ms)rate_k}BREAKPOINT{SOLVEstatesMETHODcnexpina=(gna)*m*m*h*(v-ena)}UNITSOFFINITIAL{settables(v)m=alpham/(alpham+betam)h=alphah/(alphah+betah)rate_k=1.78}DERIVATIVEstates{settables(v)m'=alpham*(1-m)-betam*mh'=alphah*(1-h)-betah*h}PROCEDUREsettables(v){LOCALvadjTABLEalpham,betam,alphah,betahDEPENDrest,celsiusFROM-100TO100WITH400vadj=v-restalpham=0.32*vtrap((13.1-vadj),4)betam=0.28*vtrap((vadj-40.1),5)alphah=0.128*exp((17-vadj)/18)betah=4/(exp((40-vadj)/5)+1)}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON