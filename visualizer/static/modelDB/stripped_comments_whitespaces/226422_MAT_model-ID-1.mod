NEURON{POINT_PROCESSMATmodelRANGEE_L,R,taum,tau1,tau2,omega,a_1,a_2,u1,u2,t_f,t_start,t_stop,I_amp,y,vth,I}UNITS{(mV)=(millivolt)(nA)=(nanoamp)(mO)=(megohm)}INITIAL{vm=E_Ly=E_Lvth=omegaI=0u1=0u2=0t_f=0}PARAMETER{E_L=-65(mV)R=50(mO)taum=5(ms)tau1=10(ms)tau2=200(ms)omega=-45(mV)a_1=30(mV)a_2=2.0(mV)t_f=0(ms)t_start=100.0(ms)t_stop=600.0(ms)I_amp=0.6(nA)}ASSIGNED{y(mV)vth(mV)I(nA)}STATE{vm(mV)u1(mV)u2(mV)}BREAKPOINT{vth=omega+u1+u2y=vmif((vm>=vth)&&(t-t_f>2.0)){u1=u1+a_1u2=u2+a_2t_f=ty=0}if((t>=t_start)&&(t<=t_stop)){I=I_amp}else{I=0}SOLVEstatesMETHODderivimplicit}DERIVATIVEstates{vm'=(R*I-(vm-E_L))/(taum)u1'=-u1/tau1u2'=-u2/tau2}