UNITS{(mA)=(milliamp)(mV)=(millivolt)}NEURON{SUFFIXhhsUSEIONnaREADenaWRITEinaUSEIONkREADekWRITEikNONSPECIFIC_CURRENTilRANGEgnabar,gkbar,gl,el,gna,gk,a2,s_init,smin,tslowGLOBALminf,hinf,ninf,mtau,htau,ntau}PARAMETER{gnabar=.12(S/cm2)<0,1e9>gkbar=.036(S/cm2)<0,1e9>gl=.0003(S/cm2)<0,1e9>el=-54.3(mV)gamma=0.0000025(/ms)delta=0.25(/ms)vhalfs=-60(mV)a0s=0.0003(ms)smin=10(ms)vvh=-58(mV)vvs=2(mV)a2=1(1)s_init=1tslow=0}STATE{mhns}ASSIGNED{v(mV)celsius(degC)ena(mV)ek(mV)gna(S/cm2)gk(S/cm2)ina(mA/cm2)ik(mA/cm2)il(mA/cm2)minfhinfninfsinfmtau(ms)htau(ms)ntau(ms)stau(ms)}BREAKPOINT{SOLVEstatesMETHODcnexpgna=gnabar*m*m*m*h*sina=gna*(v-ena)gk=gkbar*n*n*n*nik=gk*(v-ek)il=gl*(v-el)}DERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htaun'=(ninf-n)/ntaus'=(sinf-s)/stau}UNITSOFFINITIAL{rates(v)m=minfh=hinfn=ninfs=s_init}PROCEDURErates(v(mV)){LOCALalpha,beta,sum,q10,cs,availq10=3^((celsius-6.3)/10)alpha=.1*vtrap(-(v+40),10)beta=4*exp(-(v+65)/18)sum=alpha+betamtau=1/(q10*sum)minf=alpha/sumalpha=.07*exp(-(v+65)/20)beta=1/(exp(-(v+35)/10)+1)sum=alpha+betahtau=1/(q10*sum)hinf=alpha/sumalpha=.01*vtrap(-(v+55),10)beta=.125*exp(-(v+65)/80)sum=alpha+betantau=1/(q10*sum)ninf=alpha/sumif(t<10000){sinf=1}else{sinf=hinf}stau=htau*10}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON