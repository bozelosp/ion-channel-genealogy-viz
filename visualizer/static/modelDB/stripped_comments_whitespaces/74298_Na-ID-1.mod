UNITS{(mV)=(millivolt)(mA)=(milliamp)}INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXNaUSEIONnaREADnai,enaWRITEinaRANGEgnaGLOBALrest,activate_Q10,Q10,gmaxQ10,rate_k,gmax_k,temp1,temp2,tempb}PARAMETER{v(mV)dt(ms)gna=1.0e-7(mho/cm2)rest=-60.0(mV)enanaicelsiusactivate_Q10=1Q10=1.980105147e+00gmaxQ10=1.980105147e+00temp1=19.0(degC)temp2=29.0(degC)tempb=23.0(degC)}STATE{mh}ASSIGNED{ina(mA/cm2)alpham(/ms)betam(/ms)alphah(/ms)betah(/ms)rate_kgmax_k}BREAKPOINT{SOLVEstatesMETHODcnexpina=(gna*gmax_k)*m*m*h*(v-ena)}UNITSOFFINITIAL{LOCALktemp,ktempb,ktemp1,ktemp2if(activate_Q10>0){rate_k=Q10^((celsius-tempb)/10)gmax_k=gmaxQ10^((celsius-tempb)/10)}else{rate_k=1.60gmax_k=1.60}settables(v)m=alpham/(alpham+betam)h=alphah/(alphah+betah)}DERIVATIVEstates{settables(v)m'=alpham*(1-m)-betam*mh'=alphah*(1-h)-betah*h}PROCEDUREsettables(v){LOCALvadjTABLEalpham,betam,alphah,betahDEPENDrest,celsiusFROM-100TO100WITH400vadj=v-restalpham=rate_k*0.2*vtrap((13.1-vadj),4.0)betam=rate_k*0.175*vtrap((vadj-40.1),1.0)alphah=rate_k*0.08*exp((17.0-vadj)/18.0)betah=rate_k*2.5/(exp((40.0-vadj)/5.0)+1)}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON