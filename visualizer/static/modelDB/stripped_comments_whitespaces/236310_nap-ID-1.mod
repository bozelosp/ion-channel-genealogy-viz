UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}NEURON{SUFFIXnapUSEIONnaREADenaWRITEinaRANGEgnabar,ina}PARAMETER{gnabar=4e-5(S/cm2)mvhalf=-52.6(mV)mslope=-4.6(mV)mshift=6.6594(mV)hvhalf=-48.8(mV)hslope=10.0(mV)hshift=0.52039(mV)qfact=0.36mtau_base1=0.025mtaux1=0.14mtau_half=-40mtau_slope=10mtau_base2=0.02mtaux2=0.145}STATE{mh}ASSIGNED{ena(mV)v(mV)ina(mA/cm2)gna(S/cm2)minfhinfmtau(ms)}BREAKPOINT{SOLVEstateMETHODcnexpgna=gnabar*m*hina=gna*(v-ena)}INITIAL{rates(v)m=minfh=hinf}FUNCTION_TABLEtauhnap(v(mV))(ms)DERIVATIVEstate{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/(tauhnap(v)/qfact)}PROCEDURErates(v(mV)){TABLEminf,hinf,mtauFROM-200TO200WITH201minf=1/(1+exp((v-mvhalf-mshift)/mslope))hinf=1/(1+exp((v-hvhalf-hshift)/hslope))UNITSOFFif(v<mtau_half){mtau=mtau_base1+mtaux1*exp((v-mtau_half)/mtau_slope)}else{mtau=mtau_base2+mtaux2*exp((-v+mtau_half)/mtau_slope)}UNITSON}