NEURON{POINT_PROCESStmGabaARANGEtau1,tau2,e,i,qRANGEtau,tauR,tauF,U,u0RANGEbase,f_gabaPOINTERpkaNONSPECIFIC_CURRENTi}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(uS)=(microsiemens)}PARAMETER{tau1=0.5(ms)tau2=7.5(ms)e=-60(mV)tau=3(ms)tauR=500(ms)tauF=0(ms)U=0.1(1)<0,1>u0=0(1)<0,1>q=2base=0.0f_gaba=0.0}ASSIGNED{v(mV)i(nA)g(uS)factorxpka(1)}STATE{A(uS)B(uS)}INITIAL{LOCALtpA=0B=0tp=(tau1*tau2)/(tau2-tau1)*log(tau2/tau1)factor=-exp(-tp/tau1)+exp(-tp/tau2)factor=1/factortau1=tau1/qtau2=tau2/q}BREAKPOINT{SOLVEstateMETHODcnexpg=B-Ai=modulation(f_gaba)*g*(v-e)}DERIVATIVEstate{A'=-A/tau1B'=-B/tau2}NET_RECEIVE(weight(uS),y,z,u,tsyn(ms)){INITIAL{y=0z=0u=u0tsyn=t}z=z*exp(-(t-tsyn)/tauR)z=z+(y*(exp(-(t-tsyn)/tau)-exp(-(t-tsyn)/tauR))/(tau/tauR-1))y=y*exp(-(t-tsyn)/tau)x=1-y-zif(tauF>0){u=u*exp(-(t-tsyn)/tauF)u=u+U*(1-u)}else{u=U}A=A+weight*factor*x*uB=B+weight*factor*x*uy=y+x*utsyn=t}FUNCTIONmodulation(modFact){modulation=1+modFact*(pka-base)}