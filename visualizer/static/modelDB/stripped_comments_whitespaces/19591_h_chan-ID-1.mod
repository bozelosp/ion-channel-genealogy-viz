UNITS{(mA)=(milliamp)(mV)=(millivolt)}NEURON{SUFFIXh_chanRANGEgbar,iNONSPECIFIC_CURRENTiGLOBALena,ek,minf,am,bm,cm,dm,taum_min}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)dt(ms)gbar=1.648e-4(mho/cm2)ena=55(mV)ek=-90(mV)am=0.001bm=-0.1818cm=0.5dm=-75taum_min=1e-3}STATE{m}ASSIGNED{i(mA/cm2)minf}LOCALmexpBREAKPOINT{SOLVEstatesi=gbar*m*(v-ek)*2/3+gbar*m*(v-ena)/3}UNITSOFFINITIAL{rates(v)m=minf}PROCEDUREstates(){rates(v)m=m+mexp*(minf-m)VERBATIMreturn0;ENDVERBATIM}PROCEDURErates(v){LOCALtau,alpha,betaTABLEminf,mexpDEPENDdtFROM-100TO100WITH2000alpha=am*exp(bm*cm*(v-dm))beta=am*exp(-bm*(1-cm)*(v-dm))tau=1/(alpha+beta)minf=alpha*tauif(tau<taum_min){tau=taum_min}mexp=1-exp(-dt/tau)}UNITSON