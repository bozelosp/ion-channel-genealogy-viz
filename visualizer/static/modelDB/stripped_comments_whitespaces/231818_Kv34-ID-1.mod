NEURON{SUFFIXKv34USEIONkREADekWRITEikRANGEgkbar,gk,ikGLOBALscale_a,Rinact,ksl,vshift,ak,ad}UNITS{(S)=(siemens)(mV)=(millivolt)(mA)=(milliamp)}PARAMETER{gkbar=0.0013(S/cm2)vshift=0(mV)vshifttau1=0(mV)vshifttau2=0(mV)Rinact=0.1kmg=16scale_a=4ksl=0.5ak=-9.7(mV)ad=14(mV)}ASSIGNED{v(mV)ek(mV)ik(mA/cm2)gk(S/cm2)mInfmTau(ms)hInfhTau(ms)am(/ms)bm(/ms)}STATE{mh}BREAKPOINT{SOLVEstatesMETHODcnexpgk=gkbar*m*hik=gk*(v-ek)}DERIVATIVEstates{rates()m'=(mInf-m)/mTauh'=(hInf-h)/hTau}INITIAL{rates()m=mInfh=hInf}PROCEDURErates(){UNITSOFFmInf=1/(1+exp(((v-(ad+vshift))/(ak))))am=scale_a*1/16*exp(0.1*ksl*(v-38))bm=scale_a*1/16*exp(-0.1*ksl*(v+45))mTau=1/(am+bm)hInf=Rinact+(1-Rinact)/(1+exp(((v-(-29.7))/(12.2))))hTau=250/(1+exp(((v-(-10))/(17))))+8UNITSON}