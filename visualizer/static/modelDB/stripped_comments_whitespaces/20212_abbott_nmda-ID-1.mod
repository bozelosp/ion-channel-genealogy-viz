UNITS{(mM)=(milli/liter)(umho)=(micromho)(nA)=(nanoamp)(mA)=(milliamp)(mV)=(millivolt)}NEURON{POINT_PROCESSabbott_nmdaPOINTERvpreNONSPECIFIC_CURRENTiRANGEd,sRANGEtauD,tauS,taug,GRANGEerev,thresh}STATE{DSg(umho)h(umho)}PARAMETER{v(mV)erev=0(mV)thresh=0.5(mV)d=0.4s=1.0tauD=300(ms)tauS=20e3(ms)taug=2(ms)G=10e-12(umho)eta=0.33(/mM)mag=1(mM)gamma=0.06(/mV)}ASSIGNED{i(nA)firingvpre(mV)}INITIAL{firing=0D=1S=1g=0}BREAKPOINT{SOLVEdepressionMETHODeuleraux()}DERIVATIVEdepression{check()D'=(1/tauD)*(1-D)S'=(1/tauS)*(1-S)g'=(1/taug)*(-g)}PROCEDUREaux(){h=1/(1+eta*mag*exp(-(gamma*v)))i=(g*h*(v-erev))}PROCEDUREcheck(){if(firing&&(vpre<thresh)){firing=0}if((vpre>=thresh)&&!firing){firing=1D=d*DS=s*Sg=g+G*D*S}}