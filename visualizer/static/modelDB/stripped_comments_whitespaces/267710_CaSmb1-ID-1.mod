NEURON{SUFFIXCaSmb1NONSPECIFIC_CURRENTikcaNONSPECIFIC_CURRENTicanNONSPECIFIC_CURRENTicalRANGEgkcabar,gcanbar,gcalbar,ecaRANGEgkca,gcan,gcalRANGEmn_inf,hn_inf,ml_infRANGEtau_mn,tau_hn,tau_ml}UNITS{(mA)=(milliamp)(mV)=(millivolt)(molar)=(1/liter)(mM)=(millimolar)FARADAY=(faraday)(coulomb)R=(k-mole)(joule/degC)}PARAMETER{gcanbar=0.072837(mho/cm2)tmn=15(ms)thetamn=22(mV)thn=50(ms)thetahn=40(mV)gcalbar=0.0002(mho/cm2)mlexp=1tml=400(ms)thetaml=45.8(mV)kml=-3.7(mV)gkcabar=0.37418(mho/cm2)nexp=2kd=0.0002cao=2(mM)caio=.0001(mM)f=0.01alpha=1kca=4vtraub=-10(mV)celsius=36(degC)ek=-80(mV)}STATE{mnhnmlcai}ASSIGNED{dt(ms)v(mV)eca(mV)ican(mA/cm2)ical(mA/cm2)ikca(mA/cm2)gkca(mho/cm2)gcan(mho/cm2)gcal(mho/cm2)mn_infhn_infml_inftau_mn(ms)tau_hn(ms)tau_ml(ms)tadj}BREAKPOINT{SOLVEstatesMETHODcnexpeca=((1000*R*(celsius+273.15))/(2*FARADAY))*log(cao/cai)gcan=gcanbar*mn*mn*hnican=gcan*(v-eca)gcal=gcalbar*(ml^mlexp)ical=gcal*(v-eca)gkca=gkcabar*((cai^nexp)/((cai^nexp)+kd))ikca=gkca*(v-ek)}DERIVATIVEstates{evaluate_fct(v)mn'=(mn_inf-mn)/tau_mnhn'=(hn_inf-hn)/tau_hnml'=(ml_inf-ml)/tau_mlcai'=f*(-(alpha*(ican+ical))-(kca*cai))}UNITSOFFINITIAL{tadj=3.0^((celsius-36)/10)cai=caioevaluate_fct(v)mn=mn_infhn=hn_infml=ml_inf}PROCEDUREevaluate_fct(v(mV)){LOCALv2v2=v-vtraubtau_mn=tmn*tadjmn_inf=1/(1+exp((v2+thetamn)/-5))tau_hn=thn*tadjhn_inf=1/(1+exp((v2+thetahn)/5))tau_ml=tml*tadjml_inf=1/(1+exp((v2+thetaml)/kml))}