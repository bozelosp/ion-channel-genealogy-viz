INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXicanvUSEIONnREADenWRITEinVALENCE1USEIONcaREADcaiRANGEgbarGLOBALm_inf,tau_m,cac,taumin,vact,vtau}UNITS{(mA)=(milliamp)(mV)=(millivolt)(molar)=(1/liter)(mM)=(millimolar)}PARAMETER{v(mV)celsius=36(degC)en(mV)cai=.00005(mM)gbar=1e-5(mho/cm2)cac=1e-4(mM)taumin=0.1(ms)vact=-64(mV)vtau=-92(mV)}STATE{m}INITIAL{evaluate_fct(v,cai)m=m_inf}ASSIGNED{in(mA/cm2)m_inftau_m(ms)}BREAKPOINT{SOLVEstatesin=gbar*m*m*(v-en)}DERIVATIVEstates{evaluate_fct(v,cai)m'=(m_inf-m)/tau_m}UNITSOFFPROCEDUREevaluate_fct(v(mV),cai(mM)){LOCALcc,tadjtadj=3^((celsius-22.0)/10)cc=(cai/cac)^2m_inf=1/(1+exp(-(v-vact)/2)/cc)tau_m=exp((v-vtau)/4)/(1+cc*exp((v-vact)/2))/tadjif(tau_m<taumin){tau_m=taumin}}UNITSON