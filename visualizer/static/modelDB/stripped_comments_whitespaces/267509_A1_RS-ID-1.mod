NEURON{POINT_PROCESSA1_RSNONSPECIFIC_CURRENTinmda,iampaRANGEgampamax,gnmdamax,inmda,iampaRANGEgnmda,gampaRANGEe,tau1,tau2,tau3,tau4}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(nS)=(nanomho)(mM)=(milli/liter)(mA)=(milliamp)(um)=(micron)}PARAMETER{gnmdamax=1(nS)gampamax=1(nS)e=0.0(mV)tau1=60(ms)tau2=4(ms)tau3=2(ms)tau4=0.2(ms)n=0.05(/mM)gama=0.05(/mV)dt(ms)v(mV)}ASSIGNED{inmda(nA)iampa(nA)gnmda(nS)gampa(nS)}STATE{A(nS)B(nS)C(nS)D(nS)}INITIAL{gnmda=0gampa=0A=0B=0C=0D=0}BREAKPOINT{LOCALcountSOLVEstateMETHODcnexpgnmda=(A-B)/(1+n*exp(-gama*v))gampa=(C-D)inmda=(1e-3)*gnmda*(v-e)iampa=(1e-3)*gampa*(v-e)}NET_RECEIVE(weight_ampa,weight_nmda){INITIAL{gampamax=weight_ampagnmdamax=weight_nmda}gampamax=weight_ampagnmdamax=weight_nmdaA=A+gnmdamaxB=B+gnmdamaxC=C+gampamaxD=D+gampamaxVERBATIMprintf("***********\n");ENDVERBATIM}DERIVATIVEstate{A'=-A/tau1B'=-B/tau2C'=-C/tau3D'=-D/tau4}