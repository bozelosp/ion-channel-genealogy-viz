UNITS{(mV)=(millivolt)(mA)=(milliamp)(mM)=(milli/liter)}NEURON{SUFFIXkahp_deeppyrUSEIONkREADekWRITEikUSEIONcaREADcaiRANGEgbar,ik,m}PARAMETER{gbar=0.0(mho/cm2)v(mV)ek(mV)cai(mM)}ASSIGNED{ik(mA/cm2)alpha(/ms)beta(/ms)}STATE{m}BREAKPOINT{SOLVEstatesMETHODcnexpik=gbar*m*(v-ek)}INITIAL{rates(cai)m=alpha/(alpha+beta)m=0}DERIVATIVEstates{rates(cai)m'=alpha*(1-m)-beta*m}UNITSOFFPROCEDURErates(chi(mM)){if(cai<100){alpha=cai*1e-4}else{alpha=0.01}beta=0.001}UNITSON