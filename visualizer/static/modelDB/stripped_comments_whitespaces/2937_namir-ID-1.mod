NEURON{SUFFIXnamrUSEIONnaREADenaWRITEinaNONSPECIFIC_CURRENTIrRANGEgnabar,b,vhalf,vhalfn,vhalfl,vvhGLOBALninf,linf,taul,taun,rinf,taur,inf}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{dt(ms)v(mV)ena(mV)celsius(degC)gnabar=.01(mho/cm2)vhalf=-50(mV)zeta=20(1)vhalfn=-30(mV)vhalfr=-60(mV)vhalfl=-57(mV)a0l=0.1(/ms)a0n=2(/ms)a0r=0.0003(ms)zetan=-4(1)zetar=12(1)zetal=4(1)gmn=0.9(1)gmr=0.2(1)gml=0.65(1)lmax=1(1)nmax=0.01(1)rmin=3(1)vvh=-58(mv)vvs=2(1)b=0}STATE{nlrfr}ASSIGNED{Ir(mA/cm2)ina(mA/cm2)infninflinfrinftaultauntaur}INITIAL{rates(v)n=ninfl=linfr=rinffr=inf}BREAKPOINT{SOLVEstatesMETHODcnexpina=gnabar*n*l*r*(v-ena)Ir=-ina*fr}FUNCTIONalp(v(mV)){alp=exp(1.e-3*zeta*(v-vhalf)*9.648e4/(8.315*(273.16+celsius)))}FUNCTIONalpn(v(mV)){alpn=exp(1.e-3*zetan*(v-vhalfn)*9.648e4/(8.315*(273.16+celsius)))}FUNCTIONbetn(v(mV)){betn=exp(1.e-3*zetan*gmn*(v-vhalfn)*9.648e4/(8.315*(273.16+celsius)))}FUNCTIONalpv(v(mV)){alpv=(1+b*exp((v-vvh)/vvs))/(1+exp((v-vvh)/vvs))}FUNCTIONalpr(v(mV)){alpr=exp(1.e-3*zetar*(v-vhalfr)*9.648e4/(8.315*(273.16+celsius)))}FUNCTIONbetr(v(mV)){betr=exp(1.e-3*zetar*gmr*(v-vhalfr)*9.648e4/(8.315*(273.16+celsius)))}FUNCTIONalpl(v(mV)){alpl=exp(1.e-3*zetal*(v-vhalfl)*9.648e4/(8.315*(273.16+celsius)))}FUNCTIONbetl(v(mV)){betl=exp(1.e-3*zetal*gml*(v-vhalfl)*9.648e4/(8.315*(273.16+celsius)))}DERIVATIVEstates{rates(v)n'=(ninf-n)/taunl'=(linf-l)/taulr'=(rinf-r)/taurfr=inf}PROCEDURErates(v(mV)){LOCALa,q10q10=1.5^((celsius-22)/10)inf=1/(1+alp(v))a=alpn(v)ninf=1/(1+a)taun=betn(v)/(q10*a0n*(1+a))if(taun<nmax){taun=nmax}a=alpl(v)linf=1/(1+a)taul=betl(v)/(q10*a0l*(1+a))if(taul<lmax){taul=lmax}rinf=alpv(v)taur=betr(v)/(a0r*(1+alpr(v)))if(taur<rmin){taur=rmin}}