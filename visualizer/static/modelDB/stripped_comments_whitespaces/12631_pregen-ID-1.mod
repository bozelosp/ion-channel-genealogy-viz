INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSgenGLOBALseedRANGEx,spk,lastspkRANGEfast_invl,slow_invl,burst_len,start,endRANGEnoise}PARAMETER{fast_invl=1slow_invl=50burst_len=10start=50end=1e10noise=0seed=53892}ASSIGNED{scntrlcntrbcntrburstxspklastspkdt}INCLUDE"presyn.inc"INITIAL{burst=0scntr=fast_invlbcntr=burst_lenif(noise!=0){set_seed(seed)scntr=noise*fpoisrand(fast_invl)+(1-noise)*fast_invlbcntr=noise*fpoisrand(burst_len)+(1-noise)*burst_len}lcntr=startx=-90spk=-90}BREAKPOINT{SOLVEgenerate}PROCEDUREgenerate(){if(t<end){if(t>lastspk+1){spk=-90}x=-90scntr=scntr-dtlcntr=lcntr-dtif(burst){if(scntr<=dt){if(bcntr<=1){burst=0if(noise==0){lcntr=slow_invl}else{lcntr=noise*fpoisrand(slow_invl)+(1-noise)*slow_invl}}x=50spk=50lastspk=tnewspike()bcntr=bcntr-1if(noise==0){scntr=fast_invl}else{scntr=noise*fpoisrand(fast_invl)+(1-noise)*fast_invl}}}else{if(lcntr<=dt){if(noise==0){bcntr=burst_len}else{bcntr=noise*fpoisrand(burst_len)+(1-noise)*burst_len}burst=1}}VERBATIMreturn0;ENDVERBATIM}}FUNCTIONfgauss(x,mean,std_dev){fgauss=gauss(x,mean,std_dev)}FUNCTIONfpoisrand(mean){if(mean>700){fpoisrand=4.*poisrand(mean/4.)}else{fpoisrand=poisrand(mean)}}