UNITS{(mA)=(milliamp)(mV)=(millivolt)}NEURON{THREADSAFESUFFIXNasomaUSEIONnaREADenaWRITEinaRANGEgna,inaGLOBALminf,hinf,hexp,mtau,htau}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)celsius=24(degC)dt(ms)gna=.0107(mho/cm2)ena=90(mV)}STATE{mh}ASSIGNED{ina(mA/cm2)minfmexphinfhexpmtau(ms)htau(ms)}INITIAL{rate(v)m=minfh=hinf}BREAKPOINT{SOLVEstateMETHODcnexpina=gna*m*m*m*h*(v-ena)}DERIVATIVEstate{rate(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}UNITSOFFPROCEDURErate(v(mV)){LOCALq10,tinc,alpha,betaTABLEminf,hinf,hexp,mtau,htauDEPENDcelsiusFROM-200TO100WITH300q10=3^((celsius-24)/10)tinc=-dt*q10alpha=0.1*vtrap(-(v+38),10)beta=4*exp(-(v+63)/18)mtau=1/(alpha+beta)minf=alpha*mtaualpha=0.07*exp(-(v+63)/20)beta=1/(1+exp(-(v+33)/10))htau=1/(alpha+beta)hinf=alpha*htauhexp=1-exp(tinc/htau)}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON