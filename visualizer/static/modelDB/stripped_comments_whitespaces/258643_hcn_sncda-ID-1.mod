NEURON{SUFFIXhcnNONSPECIFIC_CURRENTiRANGEi,ehcn,g,gbarEXTERNALapc_metap,fpc_metapGLOBALa0,b0,ah,bh,ac,bc,aa0,ba0GLOBALaa0,ba0,aah,bah,aac,bacGLOBALkon,koff,b,bf,gca,shiftGLOBALVhalf,vh1,vh2,vh_shift,avh1,avh2,avh_shiftRANGEai}UNITS{(mV)=(millivolt)(molar)=(1/liter)(mM)=(millimolar)(mA)=(milliamp)(S)=(siemens)}PARAMETER{gbar=0.0(S/cm2)ehcn=-44(mV)a0=.00032743(/ms)b0=.00029334(/ms)ac=-0.1103(/mV)bc=0.1025(/mV)aa0=0.0011(/ms)ba0=0.0164(/ms)aac=-0.0774(/mV)bac=0.1486(/mV)Vhalf=-90.0(mV)vh1=1.057vh2=79.3avh1=1.886avh2=164.1kon=3.086(/mM-ms)koff=4.4857e-05(/ms)b=80bf=8.94ai=1e-05(mM)gca=1shift=0(mV)q10v=4q10a=1.5celsius(degC)}ASSIGNED{v(mV)g(S/cm2)i(mA/cm2)alpha(/ms)beta(/ms)alphaa(/ms)betaa(/ms)vh_shiftavh_shiftah(mV)bh(mV)aah(mV)bah(mV)}STATE{ccacocao}INITIAL{setVhalf(Vhalf)SOLVEkinSTEADYSTATEsparse}BREAKPOINT{SOLVEkinMETHODsparseg=gbar*(o+cao*gca)i=g*(v-ehcn)}KINETICkin{LOCALqaqa=q10a^((celsius-22(degC))/10(degC))rates(v)~c<->o(alpha,beta)~c<->cac(kon*qa*ai/bf,koff*qa*b/bf)~o<->cao(kon*qa*ai,koff*qa)~cac<->cao(alphaa,betaa)CONSERVEc+cac+o+cao=1}PROCEDURErates(v(mV)){LOCALqvqv=q10v^((celsius-22(degC))/10(degC))if(v>-200){alpha=a0*qv/(1+exp(-(v-ah-shift)*ac))beta=b0*qv/(1+exp(-(v-bh-shift)*bc))alphaa=aa0*qv/(1+exp(-(v-aah-shift)*aac))betaa=ba0*qv/(1+exp(-(v-bah-shift)*bac))}else{alpha=a0*qv/(1+exp(-((-200)-ah-shift)*ac))beta=b0*qv/(1+exp(-((-200)-bh-shift)*bc))alphaa=aa0*qv/(1+exp(-((-200)-aah-shift)*aac))betaa=ba0*qv/(1+exp(-((-200)-bah-shift)*bac))}}PROCEDUREsetVhalf(Vhalf(mV)){vh_shift=Vhalf*vh1+vh2avh_shift=Vhalf*avh1+avh2ah=-87.7+vh_shiftbh=-51.7+vh_shiftaah=-94.2+avh_shiftbah=-35.5+avh_shift}