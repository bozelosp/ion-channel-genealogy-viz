UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}?interfaceNEURON{SUFFIXhhPyrUSEIONnaREADenaWRITEinaUSEIONkREADekWRITEikNONSPECIFIC_CURRENTilRANGEgnabar,gna,ena,gkbar,gk,ek,gl,el,ina,ik,ilGLOBALhinf,ninf,htau,ntau}PARAMETER{gnabar=.055(mho/cm2)<0,1e9>gkbar=.015(mho/cm2)<0,1e9>gl=.00005(mho/cm2)<0,1e9>el=-70(mV)}STATE{hn}ASSIGNED{v(mV)celsius(degC)gna(mho/cm2)ina(mA/cm2)ena(mV)gk(mho/cm2)ik(mA/cm2)ek(mV)il(mA/cm2)minfhinfninfhtau(ms)ntau(ms)}LOCALmexp,hexp,nexp?currentsBREAKPOINT{SOLVEstatesMETHODcnexpgna=gnabar*minf*minf*minf*hina=gna*(v-ena)gk=gkbar*n*n*n*nik=gk*(v-ek)il=gl*(v-el)}INITIAL{rates(v)h=hinfn=ninf}?statesDERIVATIVEstates{rates(v)h'=(hinf-h)/htaun'=(ninf-n)/ntau}LOCALq10?ratesPROCEDURErates(v(mV)){LOCALalpha,beta,sumTABLEminf,hinf,ninf,htau,ntauDEPENDcelsiusFROM-100TO100WITH200UNITSOFFq10=3^((celsius-6.3)/10)alpha=.1*vtrap(-(v+31),10)beta=4*exp(-(v+56)/18)sum=alpha+betaminf=alpha/sumalpha=.07*exp(-(v+47)/20)beta=1/(exp(-(v+17)/10)+1)sum=alpha+betahtau=1/(q10*sum)hinf=alpha/sumalpha=.01*vtrap(-(v+34),10)beta=.125*exp(-(v+44)/80)sum=alpha+betantau=1/(q10*sum)ninf=alpha/sum}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON