INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXhh2USEIONnaREADenaWRITEinaUSEIONkREADekWRITEikRANGEgnabar,gkbar,vtraub,vtraub2,freeze,tadjm,tadjh,tadjnRANGEm_inf,h_inf,n_infRANGEtau_m,tau_h,tau_nRANGEm_exp,h_exp,n_exp}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gnabar=.003(mho/cm2)gkbar=.005(mho/cm2)ena=50(mV)ek=-90(mV)celsius=36(degC)dt(ms)v(mV)vtraub=-63(mV)vtraub2=16freeze=0tadjm=3tadjh=3tadjn=6}STATE{mhn}ASSIGNED{ina(mA/cm2)ik(mA/cm2)il(mA/cm2)m_infh_infn_inftau_mtau_htau_nm_exph_expn_exptadj}BREAKPOINT{SOLVEstatesina=gnabar*m*m*m*h*(v-ena)ik=gkbar*n*n*n*n*(v-ek)}PROCEDUREstates(){evaluate_fct(v)m=m+m_exp*(m_inf-m)h=h+h_exp*(h_inf-h)n=n+n_exp*(n_inf-n)VERBATIMreturn0;ENDVERBATIM}UNITSOFFINITIAL{m=0h=0n=0tadj=3.0^((celsius-36)/10)}PROCEDUREevaluate_fct(v(mV)){LOCALa,b,v2if(freeze==1){v=-70}v2=v-vtrauba=0.32*(13-v2)/(exp((13-v2)/4)-1)b=0.28*(v2-40)/(exp((v2-40)/5)-1)tau_m=1/(a+b)/tadj/tadjmm_inf=a/(a+b)a=0.128*exp((17-v2)/18)b=4/(1+exp((40-v2)/5))tau_h=1/(a+b)/tadj/tadjhh_inf=a/(a+b)v2=v2-vtraub2a=0.032*(15-v2)/(exp((15-v2)/5)-1)b=0.5*exp((10-v2)/40)tau_n=1/(a+b)/tadj/tadjnn_inf=a/(a+b)m_exp=1-exp(-dt/tau_m)h_exp=1-exp(-dt/tau_h)n_exp=1-exp(-dt/tau_n)}UNITSON