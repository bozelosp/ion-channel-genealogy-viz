UNITS{(mA)=(milliamp)(mV)=(millivolt)(uF)=(microfarad)(molar)=(1/liter)(nA)=(nanoamp)(mM)=(millimolar)(um)=(micron)FARADAY=96520(coul)R=8.3134(joule/degC)}?interfaceNEURON{SUFFIXnadUSEIONnatREADenatWRITEinatVALENCE1RANGEgnatRANGEgnatbarRANGEinatRANGEalphaD,betaD}INDEPENDENT{tFROM0TO100WITH100(ms)}PARAMETER{v(mV)celsius=6.3(degC)dt(ms)enat(mV)gnatbar(mho/cm2)alphaD(/ms)betaD(/ms)}STATE{OC1C2C3II1I2I3IDI1DI2DI3D}KINETICscheme1{rates(v)~O<->C1(3*betam,1*alpham)~O<->I(1*betah,1*alphah)~C1<->C2(2*betam,2*alpham)~C2<->C3(1*betam,3*alpham)~I<->I1(3*betam,1*alpham)~I1<->I2(2*betam,2*alpham)~I2<->I3(1*betam,3*alpham)~C1<->I1(1*betah,1*alphah)~C2<->I2(1*betah,1*alphah)~C3<->I3(1*betah,1*alphah)~I<->ID(betaD,alphaD)~I1<->I1D(betaD,alphaD)~I2<->I2D(betaD,alphaD)~I3<->I3D(betaD,alphaD)CONSERVEO+C1+C2+C3+I+I1+I2+I3+ID+I1D+I2D+I3D=1}ASSIGNED{gnat(mho/cm2)inat(mA/cm2)alpham(/ms)alphah(/ms)betam(/ms)betah(/ms)}?currentsBREAKPOINT{SOLVEscheme1METHODsparsegnat=gnatbar*Oinat=gnat*(v-enat)}UNITSOFFINITIAL{rates(v)SOLVEscheme1STEADYSTATEsparse}LOCALq10?ratesPROCEDURErates(v){q10=3^((celsius-6.3)/10)alpham=-0.3*vtrap((v+60-17),-5)betam=0.3*vtrap((v+60-45),5)alphah=0.23/exp((v+60+5)/20)betah=3.33/(1+exp((v+60-47.5)/-10))}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON