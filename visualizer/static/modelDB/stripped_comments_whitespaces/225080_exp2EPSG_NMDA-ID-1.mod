NEURON{POINT_PROCESSExp2EPSG_NMDARANGEtau1,tau2,e,gmax,Kd,gamma,mg,M,iNONSPECIFIC_CURRENTiRANGEg}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(uS)=(microsiemens)}PARAMETER{tau1=.1(ms)<1e-9,1e9>tau2=10(ms)<1e-9,1e9>Kd=9.98(mM)gamma=0.101(/mV)mg=1.0(mM)e=0(mV)gmax=1(1)}ASSIGNED{v(mV)i(nA)g(uS)Mfactor}STATE{A(uS)B(uS)}INITIAL{LOCALtpif(tau1/tau2>.9999){tau1=.9999*tau2}A=0B=0tp=(tau1*tau2)/(tau2-tau1)*log(tau2/tau1)factor=-exp(-tp/tau1)+exp(-tp/tau2)factor=1/factormgblock(v)}BREAKPOINT{SOLVEstateMETHODcnexpmgblock(v)g=B-Ai=g*gmax*M*(v-e)}DERIVATIVEstate{A'=-A/tau1B'=-B/tau2}NET_RECEIVE(weight(uS)){A=A+weight*factorB=B+weight*factor}PROCEDUREmgblock(v(mV)){M=1./(1.+exp(gamma*(-v))*(mg/Kd))}