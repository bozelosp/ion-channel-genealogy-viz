INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSSpikeGeneratorRANGEx,numRANGEfast_invl,slow_invl,burst_len,start,endRANGEnoiseGLOBALdummy}PARAMETER{fast_invl=1slow_invl=50burst_len=10start=50end=1e10noise=0}ASSIGNED{xnumbursteventburst_offburst_ontoffdummy}PROCEDUREseed(x){set_seed(x)}INITIAL{num=0toff=1e9x=-90burst=0event=start-slow_invlevent_time()while(event<0){event_time()}generate()}BREAKPOINT{SOLVEgenerateMETHODcvode_t}FUNCTIONinterval(mean(ms))(ms){if(mean<=0.){mean=.01}if(noise==0){interval=mean}else{interval=(1.-noise)*mean+noise*exprand(mean)}}PROCEDUREevent_time(){if(burst!=0.){event=event+interval(fast_invl)if(event>burst_on+burst_off){burst=0.}}else{burst=1.event=event+interval(slow_invl)burst_on=eventburst_off=interval((burst_len-1)*fast_invl)-1e-6}if(event>end){event=-1e5}}PROCEDUREgenerate(){if(at_time(event)){VERBATIM{charfunc[11]="pregencv_c";Symbol*s=hoc_lookup(func);if(s){hoc_pushx(num);hoc_call_func(s,1);}}ENDVERBATIMx=20toff=event+.1event_time()}if(at_time(toff)){x=-90}}