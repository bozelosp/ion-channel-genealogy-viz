NEURON{POINT_PROCESSgabaRANGEtau1,tau2RANGEerev,g,i,qRANGEdamod,maxMod,level,max2,lev2NONSPECIFIC_CURRENTi}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(uS)=(microsiemens)}PARAMETER{erev=-60.0(mV)tau1=0.5(ms)tau2=7.5(ms)q=2damod=0maxMod=1max2=1level=0lev2=0}ASSIGNED{v(mV)i(nA)g(uS)factor}STATE{A(uS)B(uS)}INITIAL{LOCALtpif(tau1/tau2>.9999){tau1=.9999*tau2}A=0B=0tp=(tau1*tau2)/(tau2-tau1)*log(tau2/tau1)factor=-exp(-tp/tau1)+exp(-tp/tau2)factor=1/factor}BREAKPOINT{SOLVEstateMETHODcnexpg=(B-A)*modulation(maxMod,max2,level,lev2)i=g*(v-erev)}DERIVATIVEstate{A'=-A/tau1*qB'=-B/tau2*q}NET_RECEIVE(weight(uS)){A=A+weight*factorB=B+weight*factor}FUNCTIONmodulation(m1,m2,l1,l2){modulation=1+damod*((m1-1)*l1+(m2-1)*l2)if(modulation<0){modulation=0}}