DEFINEMAXPULSES1000NEURON{POINT_PROCESSIpulse3RANGEdel,dur,per,num,amp,dc,i,pcountELECTRODE_CURRENTi}UNITS{(nA)=(nanoamp)}PARAMETER{del(ms)dur(ms)<0,1e9>per(ms)<0,1e9>numdc(nA)}ASSIGNED{amp[MAXPULSES]ival(nA)i(nA)ontallypcount}INITIAL{pcount=0if(dur>=per){per=dur+1(ms)printf("permustbelongerthandur\n")UNITSOFFprintf("perhasbeenincreasedto%gms\n",per)UNITSON}i=0ival=dctally=numif(tally>0){net_send(del,1)on=0tally=tally-1}}BREAKPOINT{i=ival}NET_RECEIVE(w){if(flag==1){if(on==0){ival=amp[pcount]+dcpcount=pcount+1on=1net_send(dur,1)}else{ival=dcon=0if(tally>0){net_send(per-dur,1)tally=tally-1}}}}