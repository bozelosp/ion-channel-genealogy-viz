UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)R=(k-mole)(joule/degC)FARADAY=(faraday)(coulombs)}NEURON{SUFFIXiMUSEIONkREADekWRITEikRANGEgkbar,gk,i,tauGLOBALminf,mtau,Q,taua,taubTHREADSAFE}PARAMETER{gkbar=.06(S/cm2)<0,1e9>ek=-80(mV)}ASSIGNED{v(mV)celsius(degC)Qgk(S/cm2)ik(mA/cm2)i(mA/cm2)minfmtau(ms)taua(ms)taub(ms)tau}STATE{m}?currentsBREAKPOINT{SOLVEstatesMETHODcnexpgk=gkbar*m*Q*1e-4i=gk*(v-ek)ik=itau=mtau}INITIAL{rates(v)m=minf}?statesDERIVATIVEstates{rates(v)m'=(minf-m)/mtau}?ratesPROCEDURErates(v(mV)){LOCALalpha,betaTABLEminf,mtauDEPENDcelsius,QFROM-100TO100WITH200UNITSOFFQ=2.3^((celsius-23.)/10.)alpha=1e-3*vtrap(-(v+30.0),9.0)beta=1e-3*vtrap((v+30.0),9.0)mtau=1.0/(Q*(alpha+beta))minf=alpha/(alpha+beta)UNITSON}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}