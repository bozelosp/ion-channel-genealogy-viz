NEURON{POINT_PROCESSAMPANMDARANGEgAMPAmax,gNMDAmax,MgConRANGEE_Glu,tau_sAMPA,tau_sNMDA,tau_xNMDA,alphasRANGEi,i_AMPA,i_NMDA,g_AMPA,g_NMDA,sAMPA,sNMDA,xNMDANONSPECIFIC_CURRENTi,i_AMPA,i_NMDA}PARAMETER{gAMPAmax=0.01(uS)gNMDAmax=0.007(uS)MgCon=0.69mggateE_Glu=0(mV)tau_sAMPA=2(ms)tau_sNMDA=100(ms)tau_xNMDA=2(ms)alphas=0.5(kHz)}ASSIGNED{v(mV)i(nA)i_AMPA(nA)i_NMDA(nA)g_AMPA(uS)g_NMDA(uS)}STATE{sAMPAsNMDAxNMDA}INITIAL{sAMPA=0sNMDA=0xNMDA=0}BREAKPOINT{SOLVEstateMETHODcnexpif(sNMDA>1){sNMDA=1}mggate=1/(1+exp(0.062(/mV)*-(v))*(MgCon/3.57(mM)))g_AMPA=gAMPAmax*sAMPAg_NMDA=gNMDAmax*sNMDA*mggatei_AMPA=g_AMPA*(v-E_Glu)i_NMDA=g_NMDA*(v-E_Glu)i=i_AMPA+i_NMDA}DERIVATIVEstate{sAMPA'=-sAMPA/tau_sAMPAsNMDA'=-sNMDA/tau_sNMDA+alphas*xNMDA*(1-sNMDA)xNMDA'=-xNMDA/tau_xNMDA}NET_RECEIVE(weight){sAMPA=sAMPA+1xNMDA=xNMDA+1if(sAMPA>1){sAMPA=1}}