UNITS{(mV)=(millivolt)(mA)=(milliamp)(S)=(siemens)}NEURON{THREADSAFESUFFIXMUSEIONkREADekWRITEikRANGEvhalf,gmax,tau,gGLOBALtaumax,taumin,s1,s2}PARAMETER{gmax=0.0003(S/cm2)vhalf=-50(mV)s1=15(mV)s2=-20(mV)taumax=80(ms)taumin=15(ms)aop=0(1)<0,1>}ASSIGNED{v(mV)ek(mV)ik(mA/cm2)ninf(1)tau(ms)g(S/cm2)}STATE{n}BREAKPOINT{SOLVEstatesMETHODcnexpg=gmax*(n*(1-aop)+aop)ik=g*(v-ek)}INITIAL{settables(vhalf-v)n=ninf}DERIVATIVEstates{settables(vhalf-v)n'=(ninf-n)/tau}PROCEDUREsettables(df(mV)){TABLEninf,tauDEPENDs1,s2,taumax,tauminFROM-100TO100WITH600ninf=1/(1+(exp((df)/s1)))tau=4*(taumax-taumin)/(1+exp((df)/s2))*ninf+taumin}