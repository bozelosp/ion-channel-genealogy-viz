INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSAMPARANGEC,g,gmax,lastrelease,TRise,tauNONSPECIFIC_CURRENTiRANGECmax,Cdur,Alpha,Beta,Erev,Deadtime}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)(mM)=(milli/liter)}PARAMETER{TRise=2(ms)tau=2(ms)Cmax=1(mM)Erev=0(mV)Deadtime=1(ms)gmax=0(umho)}ASSIGNED{Alpha(/msmM)Beta(/ms)Cdur(ms)v(mV)i(nA)g(umho)C(mM)lastrelease(ms)}STATE{R}INITIAL{R=0C=0lastrelease=-1000Cdur=TRiseBeta=1/tauAlpha=1/Cdur-Beta}BREAKPOINT{SOLVEstatesMETHODcnexpg=(gmax*R*(Alpha+Beta))/(Alpha*(1-1/exp(1)))i=g*(v-Erev)}DERIVATIVEstates{evaluateC()R'=Alpha*C*(1-R)-Beta*R}PROCEDUREevaluateC(){LOCALqq=((t-lastrelease)-Cdur)if(q>=0&&q<=Deadtime&&C==Cmax){C=0.}}NET_RECEIVE(weight(umho)){LOCALqq=((t-lastrelease)-Cdur)if(q>Deadtime){C=Cmaxlastrelease=t}}