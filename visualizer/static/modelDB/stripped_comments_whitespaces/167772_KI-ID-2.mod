UNITS{(mA)=(milliamp)(mV)=(millivolt)}?interfaceNEURON{THREADSAFESUFFIXKIUSEIONkREADekWRITEikRANGEgkbar,gk,scale_aGLOBALninf,ntau}PARAMETER{gkbar=.004(mho/cm2)<0,1e9>scale_a=1.0}STATE{n}ASSIGNED{v(mV)celsius(degC)ek(mV)gk(mho/cm2)ik(milliamp/cm2)ninfntau(ms)}?currentsBREAKPOINT{SOLVEstatesMETHODcnexpgk=gkbar*n*n*n*nik=gk*(v-ek)}INITIAL{rates(v)n=ninf}DERIVATIVEstates{rates(v)n'=(ninf-n)/ntau}?ratesPROCEDURErates(v(mV)){LOCALalpha,beta,sumUNITSOFFalpha=scale_a*.01*vtrap(-(v+55),10)beta=scale_a*.125*exp(-(v+65)/80)sum=alpha+betantau=1/sumninf=alpha/sum}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON