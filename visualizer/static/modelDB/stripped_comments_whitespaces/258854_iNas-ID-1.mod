UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)R=(k-mole)(joule/degC)FARADAY=(faraday)(coulombs)}?interfaceNEURON{SUFFIXiNasUSEIONnaREADenaWRITEinaRANGEgnabar,gna,Frec,iGLOBALminf,hinf,sinf,mtau,htau,stauTHREADSAFE}PARAMETER{gnabar=.12(S/cm2)<0,1e9>Frec=0.}STATE{mhs}ASSIGNED{v(mV)celsius(degC)ena(mV)gna(S/cm2)ina(mA/cm2)i(mA/cm2)minfhinfsinfmtau(ms)htau(ms)stau(ms)}?currentsBREAKPOINT{SOLVEstatesMETHODcnexpgna=gnabar*m*m*m*h*si=gna*(v-ena)ina=i}INITIAL{rates(v)m=minfh=hinfs=sinf}?statesDERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htaus'=(sinf-s)/stau}?ratesPROCEDURErates(v(mV)){LOCALalpha,beta,QTABLEminf,mtau,hinf,htau,sinf,stauDEPENDcelsiusFROM-100TO100WITH200UNITSOFFalpha=0.182*vtrap(-(v+45),4.5)beta=0.124*vtrap((v+45),4.5)mtau=0.8/(alpha+beta)minf=alpha/(alpha+beta)alpha=0.08*vtrap(-(v+40),3.0)beta=0.0005*vtrap((v+10.0),5.)htau=1/(alpha+beta)hinf=1.0/(1+exp((v+58)/5.))Q=FARADAY/(R*(273.16+celsius))sinf=(1.+Frec*exp((v+58.)/2.))/(1.+exp((v+58.)/2.))stau=0.00333(ms)*exp(0.0024(/mV)*(v+60.0)*Q)/(1.0+exp(0.0012(/mV)*(v+60.0)*Q))}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON