NEURON{SUFFIXtnakUSEIONnaREADena,naiWRITEinaUSEIONkREADek,koWRITEikNONSPECIFIC_CURRENTileakRANGEminf,ninf,taun,ipumpRANGEimax,gk,taun}ASSIGNED{ina(mA/cm2)ena(mV)ek(mV)ik(mA/cm2)ileak(mA/cm2)nai(mM)ko(mM)minfninftaunipump}PARAMETER{gna=180thm=-34sigm=5gk=5thn=-55.sgn=14.taun0=5taun1=27thnt=-40sn=-12phin=.8gl=0.3el=-70imax=10}STATE{n}BREAKPOINT{SOLVEstateMETHODderivimplicitina=0.001*(gna*pow(minf,3)*(1-n)*(v-ena)+3*ipump)ik=0.001*(gk*pow(n,4)*(v-ek)-2*ipump)ileak=0.001*(gl*(v-el))}INITIAL{n=0.25512}PROCEDURErates(v(mV)){minf=1./(1.+exp(-(v-thm)/sigm))ninf=1./(1.+exp(-(v-thn)/sgn))taun=taun0+taun1/(1+exp(-(v-thnt)/sn))ipump=imax/(pow(1+2./ko,2)*pow(1+7.7/nai,3))}DERIVATIVEstate{rates(v)n'=phin*(ninf-n)/taun}