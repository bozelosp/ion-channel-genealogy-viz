DEFINEMAXPULSES1000NEURON{POINT_PROCESSIpulseRANGEdel,dur,per,num,amp,ampli,dc,i,x,pcount,ixELECTRODE_CURRENTix}UNITS{(nA)=(nanoamp)PI=(pi)(1)}PARAMETER{del(ms)dur(ms)<0,1e9>per(ms)<0,1e9>numdc(nA)}ASSIGNED{amp[MAXPULSES]ival(nA)i(nA)ontallypcountxixampli}INITIAL{pcount=0if(dur>=per){per=dur+1(ms)printf("permustbelongerthandur\n")UNITSOFFprintf("perhasbeenincreasedto%gms\n",per)UNITSON}i=0ival=dctally=numif(tally>0){net_send(del,1)on=0tally=tally-1}}BREAKPOINT{i=ivalx=ampli*sin(2*PI*0.001*(t-125))ix=i+x}NET_RECEIVE(w){if(flag==1){if(on==0){ival=amp[pcount]+dcpcount=pcount+1on=1net_send(dur,1)}else{ival=dcon=0if(tally>0){net_send(per-dur,1)tally=tally-1}}}}