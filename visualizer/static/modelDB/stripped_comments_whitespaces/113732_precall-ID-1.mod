INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSPRESYNRANGEspk_internal,spk,numGLOBALthresh}PARAMETER{thresh=-20num=-1}ASSIGNED{spkspk_internalv}INCLUDE"presyn.inc"INITIAL{spk=0spk_internal=0}BREAKPOINT{SOLVEpp}PROCEDUREpp(){if(v>thresh){if(spk_internal==0){newspike()spk_internal=1spk=1VERBATIM{#ifndefNRN_VERSION_GTEQ_8_2_0externdoublehoc_call_func();#endifcharfunc[8]="precall";Symbol*s=hoc_lookup(func);if(s&&num>=0){hoc_pushx(num);hoc_call_func(s,1);}}ENDVERBATIM}}else{spk_internal=0spk=0}}