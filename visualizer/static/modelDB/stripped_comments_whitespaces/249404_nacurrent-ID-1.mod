UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}NEURON{SUFFIXnacurrentUSEIONnaREADenaWRITEinaRANGEgnabar,gnaGLOBALminf,hinf,mtau,htauTHREADSAFE}PARAMETER{gnabar=.0(S/cm2)<0,1e9>}STATE{m(1)h(1)}ASSIGNED{v(mV)celsius(degC)ena(mV)gna(S/cm2)ina(mA/cm2)minf(1)hinf(1)mtau(ms)htau(ms)}BREAKPOINT{SOLVEstatesMETHODcnexpgna=gnabar*m*m*m*hina=gna*(v-ena)}INITIAL{rates(v)m=minfh=hinf}DERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}PROCEDURErates(v(mV)){LOCALalpha,beta,sum,q10TABLEminf,mtau,hinf,htauDEPENDcelsiusFROM-100TO100WITH200UNITSOFFq10=3^((celsius-23)/10)alpha=-.182*vtrap(-(v+40),6)beta=-.124*vtrap((v+40),6)sum=alpha+betamtau=0.25/(q10*sum)minf=alpha/sumalpha=-0.015*vtrap((v+66),6)beta=-0.015*vtrap(-(v+66),6)sum=alpha+betahtau=1/(q10*sum)hinf=alpha/sum}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=-y*(1-x/y/2)}else{vtrap=x/(1-exp(x/y))}}UNITSON