NEURON{SUFFIXnothing}VERBATIMconstchar*secname();#ifdefNRN_MECHANISM_DATA_IS_SOA#defineget_nnode(sec)_nrn_mechanism_get_nnode(sec)#defineget_node(sec,node_index)_nrn_mechanism_get_node(sec,node_index)#defineget_thread(node)_nrn_mechanism_get_thread(node)#else#defineget_nnode(sec)sec->nnode#defineget_node(sec,node_index)sec->pnode[node_index]#defineget_thread(node)node->_nt#endifENDVERBATIMPROCEDUREscale_connection_coef(x,factor){VERBATIM{Section*sec;Node*nd;#ifdefined(t)NrnThread*_nt=nrn_threads;#endifsec=chk_access();if(_lx<=0.||_lx>1.){hoc_execerror("outofrange,mustbe0<x<=1",(char*)0);}if(_lx==1.){nd=get_node(sec,get_nnode(sec)-1);}else{nd=get_node(sec,(int)(_lx*(double)(get_nnode(sec)-1)));}#ifdefined(t)_nt=get_thread(nd);#endifNODEA(nd)*=_lfactor;NODEB(nd)*=_lfactor;}ENDVERBATIM}