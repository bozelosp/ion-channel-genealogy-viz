NEURON{SUFFIXhRANGEgbar,vhalf,K,taun,ninf,g,gmaxUSEIONnaWRITEina}UNITS{(um)=(micrometer)(mA)=(milliamp)(uA)=(microamp)(mV)=(millivolt)(pmho)=(picomho)(mmho)=(millimho)}PARAMETER{v(mV)eh=-10(mV)K=8.5(mV)gbar=0(mho/cm2)vhalf=-90(mV)}STATE{n}ASSIGNED{ina(mA/cm2)ninftaun(ms)g(mho/cm2)gmax(mho/cm2)}INITIAL{states(v)n=ninfg=gbar*nina=g*(v-eh)gmax=g}BREAKPOINT{SOLVEhMETHODcnexpg=gbar*nina=g*(v-eh)if(g>gmax){gmax=g}}DERIVATIVEh{states(v)n'=(ninf-n)/taun}PROCEDUREstates(v(mV)){if(v>-30){taun=1}else{taun=2(ms)*(1/(exp((v+145(mV))/-17.5(mV))+exp((v+16.8(mV))/16.5(mV)))+5)}ninf=1-(1/(1+exp((vhalf-v)/K)))}