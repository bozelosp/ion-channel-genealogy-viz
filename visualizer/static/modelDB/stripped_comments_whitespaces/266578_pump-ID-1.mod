UNITS{(molar)=(1/liter)(pA)=(picoamp)(mV)=(millivolt)(uS)=(micromho)(mA)=(milliamp)(mM)=(millimolar)}INDEPENDENT{vFROM-100TO50WITH50(mV)}NEURON{SUFFIXpumpUSEIONnaREADnaiWRITEinaUSEIONkWRITEikRANGEinapump,ipumpmax,n,km,kk,k,decline,initialdensity,lex,red}PARAMETER{dt(ms)nai(mM)km=10.0(mM)n=1.5kk=10.0(mM)k=1.5nainit=4(mM)celsius=35(degC)T=1decline=0initialdensity=1(mA/cm2)lex=100000(ms)red=3000(ms)}ASSIGNED{ina(mA/cm2)iNa(mA/cm2)ik(mA/cm2)inapump(mA/cm2)ipumpmax(mA/cm2)inapumping(mA/cm2)xmt_wait(ms)}INITIAL{ipumpmax=initialdensityt_wait=0}BREAKPOINT{LOCALfnkinapump=ipumpmaxif(decline==1){if(t>red){if(t_wait<lex){t_wait=t_wait+dt}else{ipumpmax=ipumpmax-0.001t_wait=0}}if(ipumpmax<0){ipumpmax=0}}fnk=(v+75)/(v+80)inapump=((ipumpmax*fnk)/(1+exp((km-nai)/n)))ina=3.0*inapumpik=-2.0*inapump}