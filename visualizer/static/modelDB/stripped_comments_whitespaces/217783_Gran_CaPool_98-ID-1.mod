?ThisisaNEURONmodfilegeneratedfromaChannelMLfile?UnitsystemoforiginalChannelMLfile?CreatingionconcentrationUNITS{(mV)=(millivolt)(mA)=(milliamp)(um)=(micrometer)(l)=(liter)(molar)=(1/liter)(mM)=(millimolar)}NEURON{SUFFIXGran_CaPool_98USEIONcaREADicaWRITEcaiVALENCE2RANGEcaiRANGErest_concRANGEtauRANGEthickness,FRANGEtotal_currentRANGEvolume_pool}ASSIGNED{ica(mA/cm2)diam(um)area(um)}INITIAL{LOCALpi,shell_inner_diam,cylinderLen,circumference,circumference_shell,volumeOuter,volumeInner,volumeSph,volumeCylpi=3.14159265shell_inner_diam=diam-(2*thickness)?VolumeofthepoolifitisashellinsideasphereofdiameterdiamvolumeSph=(diam*diam*diam)*pi/6-(shell_inner_diam*shell_inner_diam*shell_inner_diam)*pi/6?Volumeofthepoolifitisacylindercircumference=diam*picircumference_shell=shell_inner_diam*picylinderLen=area/circumferencevolumeOuter=(diam*diam/4)*pi*cylinderLenvolumeInner=(shell_inner_diam*shell_inner_diam/4)*pi*cylinderLenvolumeCyl=volumeOuter-volumeInnerif((area-(pi*diam*diam))<1e-3&&(area-(pi*diam*diam))>-1e-3){?Assumethesegmentisaspherevolume_pool=volumeSph}else{?assumesegmentisacylindervolume_pool=volumeCyl}cai=rest_conc}PARAMETER{total_currentrest_conc=0.0000755(mM)tau=10(ms)F=96494(C)thickness=0.08399999999999999(um)volume_pool}STATE{cai(mM)}BREAKPOINT{SOLVEconcMETHODderivimplicit}DERIVATIVEconc{LOCALthickness_cm,surf_area_cm2,volume_cm3?Note,normallydimensionsareinum,butcurrdensisinmA/cm2,etcthickness_cm=thickness*(1e-4)surf_area_cm2=area*1e-8volume_cm3=volume_pool*1e-12total_current=ica*surf_area_cm2cai'=((-1*total_current)/(2*F*volume_cm3))-((cai-rest_conc)/tau)}