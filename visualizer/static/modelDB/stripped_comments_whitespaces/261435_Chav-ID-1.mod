UNITS{(molar)=(1/liter)(S)=(siemens)(mA)=(milliamp)(mV)=(millivolt)F=(faraday)(coulomb)R=(molek)(mV-coulomb/degC)(mM)=(millimolar)}NEURON{SUFFIXchavUSEIONkWRITEikUSEIONnaWRITEinaNONSPECIFIC_CURRENTilRANGEik,ina,il,gna,gk,gl,ena,ek,el,SC1,SC2,hinit}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)dt(ms)celsius=35.0(degC)ena=30ek=-75el=-40SC1=1e0SC2=1e0gna=4.0e-3gk=0.3e-3gl=0.003e-3hinit=-1}STATE{hn}ASSIGNED{minfhinfninfhtauntauinaikil}BREAKPOINT{SOLVEstatesMETHODcnexpina=gna*pow(minf,3)*h*(v-ena)ik=gk*pow(n,4)*(v-ek)il=gl*(v-el)}INITIAL{rates(v)if(hinit>0){h=hinit}else{h=hinf}n=ninf}DERIVATIVEstates{rates(v)h'=(hinf-h)/htaun'=(ninf-n)/ntau}UNITSOFFPROCEDURErates(vf){LOCALam,bm,ah,bh,an,bn,vbarvbar=127.0/105.0*vf+8265.0/105.0am=0.1*alpha(vbar,50.0,10.0)bm=4.0*beta(vbar,25.0,18.0)ah=0.07*beta(vbar,25.0,10.0)bh=1.0*boltz(vbar,55.0,10.0)bn=0.125*beta(vbar,45.0,80.0)an=0.01*alpha(vbar,55.0,10.0)minf=am/(am+bm)hinf=ah/(ah+bh)ninf=an/(an+bn)htau=SC2*12.5/(ah+bh)ntau=SC1*12.5/(an+bn)}FUNCTIONboltz(x,y,z){boltz=1/(1+exp(-(x-y)/z))}FUNCTIONalpha(x,y,z){if(0){alpha=z+(y-x)/2.0+pow(y-x,2)/(12.0*z)}else{alpha=(y-x)/(exp((y-x)/z)-1)}}FUNCTIONbeta(x,y,z){beta=exp((y-x)/z)}UNITSON