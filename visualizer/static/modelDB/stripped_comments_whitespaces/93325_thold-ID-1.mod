NEURON{POINT_PROCESStholdRANGEsteadystate,reset,decaytc,lastspike,thresh,spikecount,prior2spike,burstmaxint,burstminsize,bursting,burstcount,burststart,burstno,freqPOINTERnc_thresh}UNITS{(mV)=(millivolt)}PARAMETER{steadystate=-37.8(mV)reset=200(mV)decaytc=11.5(ms)nc_thresh(mV)lastspike(ms)thresh(mV)spikecountprior2spikeburstmaxint=1000burstminsize=3bursting=0burstcount=0burststart=0burstno=0freq=0}ASSIGNED{v(mV)}BREAKPOINT{thresh=steadystate+(reset-steadystate)*(exp((lastspike-t)/decaytc))nc_thresh=thresh}INITIAL{thresh=resetnc_thresh=threshlastspike=0spikecount=0prior2spike=-1bursting=0burstcount=0burststart=0burstno=0freq=0}NET_RECEIVE(weight(microsiemens)){if(spikecount>0){freq=(1/(t-lastspike)*1000)if((t-lastspike)<burstmaxint){burstcount=burstcount+1if(burstcount==1){burststart=lastspike}if(burstcount>burstminsize){bursting=1}}if((t-lastspike)>burstmaxint){bursting=0burstcount=0burststart=0}}prior2spike=lastspikelastspike=tspikecount=spikecount+1}