INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSGfluct2_inhRANGEg_e,g_i,E_e,E_i,g_e0,g_i0,g_e1,g_i1RANGEstd_e,std_i,tau_e,tau_i,D_e,D_iRANGEnew_seed,i_inhNONSPECIFIC_CURRENTi_inhTHREADSAFEPOINTERrandObjPtr}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)}PARAMETER{dt(ms)E_e=0(mV)E_i=-75(mV)g_e0=0.0121(umho)g_i0=0.0573(umho)std_e=0.0030(umho)std_i=0.0066(umho)tau_e=2.728(ms)tau_i=10.49(ms)}ASSIGNED{noisev(mV)i(nA)g_e(umho)g_i(umho)g_e1(umho)g_i1(umho)D_e(umhoumho/ms)D_i(umhoumho/ms)exp_eexp_iamp_e(umho)amp_i(umho)randObjPtri_exc(nA)i_inh(nA)}INITIAL{g_e1=0g_i1=0if(tau_e!=0){D_e=2*std_e*std_e/tau_eexp_e=exp(-dt/tau_e)amp_e=std_e*sqrt((1-exp(-2*dt/tau_e)))}if(tau_i!=0){D_i=2*std_i*std_i/tau_iexp_i=exp(-dt/tau_i)amp_i=std_i*sqrt((1-exp(-2*dt/tau_i)))}}BEFOREBREAKPOINT{noise=randGen()}BREAKPOINT{SOLVEoupif(tau_e==0){g_e=std_e*noise}if(tau_i==0){g_i=std_i*noise}g_e=g_e0+g_e1if(g_e<0){g_e=0}g_i=g_i0+g_i1if(g_i<0){g_i=0}i_inh=g_i*(v-E_i)}PROCEDUREoup(){if(tau_e!=0){g_e1=exp_e*g_e1+amp_e*noise}if(tau_i!=0){g_i1=exp_i*g_i1+amp_i*noise}}VERBATIM#ifndefNRN_VERSION_GTEQ_8_2_0doublenrn_random_pick(void*r);void*nrn_random_arg(intargpos);#defineRANDCAST#else#defineRANDCAST(Rand*)#endifENDVERBATIMFUNCTIONrandGen(){VERBATIMif(_p_randObjPtr){_lrandGen=nrn_random_pick(RANDCAST_p_randObjPtr);}else{hoc_execerror("RandomobjectrefnotsetcorrectlyforrandObjPtr","onlyviahocRandom");}ENDVERBATIM}PROCEDUREsetRandObj(){VERBATIMvoid**pv4=(void**)(&_p_randObjPtr);if(ifarg(1)){*pv4=nrn_random_arg(1);}else{*pv4=(void*)0;}ENDVERBATIM}