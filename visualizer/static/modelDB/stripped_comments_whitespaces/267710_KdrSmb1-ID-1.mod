NEURON{SUFFIXKdrSmb1NONSPECIFIC_CURRENTikdrRANGEgkdrbar,gkdr,ekRANGEn_infRANGEtau_n}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gkdrbar=0.80048(mho/cm2)tn=5(ms)theta_n=28kappa_n=-15ek=-80(mV)celsius=36(degC)vtraub=-10(mV)}STATE{n}ASSIGNED{dt(ms)v(mV)ikdr(mA/cm2)gkdr(mho/cm2)n_inftau_n(ms)tadj}BREAKPOINT{SOLVEstatesMETHODcnexpgkdr=gkdrbar*n*n*n*nikdr=gkdrbar*n*n*n*n*(v-ek)}DERIVATIVEstates{evaluate_fct(v)n'=(n_inf-n)/tau_n}UNITSOFFINITIAL{tadj=3.0^((celsius-36)/10)evaluate_fct(v)n=n_inf}PROCEDUREevaluate_fct(v(mV)){LOCALv2,v22,a,bv2=v-vtraubtau_n=(tn*tadj)/(Exp((v2+40)/40)+Exp(-(v2+40)/50))n_inf=1/(1+Exp((v2+theta_n)/kappa_n))}FUNCTIONExp(x){if(x<-100){Exp=0}else{Exp=exp(x)}}