NEURON{SUFFIXINafUSEIONnaREADenaWRITEinaRANGEgnabar,ina,Tauact,Tauinactf,TauinactsGLOBALminf,hinf,ninf,mtau,htau,ntau}UNITS{(mA)=(milliamp)(mV)=(millivolt)(mM)=(milli/liter)}PARAMETER{gnabar=.0156(S/cm2)<0,1e9>Tauact=1(ms)Tauinactf=1(ms)Tauinacts=1(ms)}STATE{mhn}ASSIGNED{v(mV)celsius(degC)ena(mV)ina(mA/cm2)minfhinfninfmtau(ms)htau(ms)ntau(ms)}LOCALkINITIAL{rates(v)m=minfh=hinfn=ninf}BREAKPOINT{SOLVEstatesMETHODderivimplicitina=gnabar*m*m*m*h*n*(v-ena)}DERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htaun'=(ninf-n)/ntau}UNITSOFFFUNCTIONalp(v(mV),i)(/ms){LOCALq10v=vq10=3^((celsius-37(degC))/10(degC))if(i==0){alp=q10*0.32(/ms)*expMa(v*1(/mV)+47.13,47.13)}elseif(i==1){alp=q10*0.135(/ms)*expMb(v*1(/mV)+80,6.8)}elseif(i==2){alp=q10*1(/ms)*expMd(v*1(/mV),79.23)}}FUNCTIONbet(v(mV),i)(/ms){LOCALq10v=vq10=3^((celsius-37(degC))/10(degC))if(i==0){bet=q10*0.08(/ms)*exp(-v/11(mV))}elseif(i==1){bet=q10*1(/ms)*expMc(v*1(/mV),11.1)}elseif(i==2){bet=q10*1(/ms)*expMe(v*1(/mV),40.14)}}FUNCTIONexpMb(x,y){if(v<-40){expMb=(exp(-x/y))}else{expMb=0}}FUNCTIONexpMc(x,y){if(v<-40){expMc=3.56*exp(x*0.079)+3.1e5*exp(0.35*x)}else{expMc=1/(0.13*(1+(exp(-(x+10.66)/y))))}}FUNCTIONexpMd(x,y){if(v<-40){expMd=(-1.2740e5*exp(x*0.2444)-3.474e-5*exp(-0.0439*x))*(x+37.78)/(1+exp(0.311*(x+y)))}else{expMd=0}}FUNCTIONexpMe(x,y){if(v<-40){expMe=0.1212*exp(-x*0.01052)/(1+exp(-0.137*(x+y)))}else{expMe=0.3*exp(-x*2.535e-7)/(1+exp(-0.1*(x+32)))}}FUNCTIONexpMa(x,y){if(fabs(x/y)<1e-6){expMa=10*(1-x/y/2)}else{expMa=x/(1-exp(-0.1*x))}}PROCEDURErates(v){LOCALa,ba=alp(v,0)b=bet(v,0)mtau=1/(a+b)*Tauactminf=a/(a+b)a=alp(v,1)b=bet(v,1)htau=1/(a+b)*Tauinactfhinf=a/(a+b)a=alp(v,2)b=bet(v,2)ntau=1/(a+b)*Tauinactsninf=a/(a+b)}UNITSON