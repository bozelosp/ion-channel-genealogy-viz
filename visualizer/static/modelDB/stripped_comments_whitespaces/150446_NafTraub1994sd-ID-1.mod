NEURON{SUFFIXNaFsdUSEIONnaREADenaWRITEinaRANGEgbar,g,iGLOBALVm}UNITS{(S)=(siemens)(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gbar=0(S/cm2)Vm=-65(mV)}ASSIGNED{v(mV)ena(mV)ina(mA/cm2)i(mA/cm2)g(S/cm2)minfhinfmtau(ms)htau(ms)}STATE{mh}BREAKPOINT{SOLVEstatesMETHODcnexpg=gbar*m^2*hi=g*(v-ena)ina=i}INITIAL{rates(v)m=minfh=hinf}DERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}PROCEDURErates(v(mV)){LOCALalpham,betam,alphah,betah,smallTABLEminf,mtau,hinf,htauFROM-100TO50WITH200UNITSOFFsmall=(13.1-(v-Vm))/4if(fabs(small)>1e-6){alpham=0.32*(13.1-(v-Vm))/(exp((13.1-(v-Vm))/4)-1)}else{alpham=0.32*4/(1+small/2)}small=((v-Vm)-40.1)/5if(fabs(small)>1e-6){betam=0.28*((v-Vm)-40.1)/(exp(((v-Vm)-40.1)/5)-1)}else{betam=0.28*5/(1+small/2)}minf=alpham/(alpham+betam)mtau=1/(alpham+betam)alphah=0.128*exp((17-(v-Vm))/18)betah=4/(1+exp((40-(v-Vm))/5))hinf=alphah/(alphah+betah)htau=1/(alphah+betah)UNITSON}