NEURON{POINT_PROCESSIzhi2003aRANGEa,b,c,d,f,g,Iin,fflag,thresh,erev,taug}INITIAL{V=-65u=0.2*Vgsyn=0net_send(0,1)}PARAMETER{a=0.02b=0.2c=-65d=2f=5g=140Iin=10taug=1thresh=30erev=0fflag=1}STATE{uVgsyn}ASSIGNED{}BREAKPOINT{SOLVEstatesMETHODderivimplicit}DERIVATIVEstates{V'=0.04*V*V+f*V+g-u+Iin-gsyn*(V-erev)u'=a*(b*V-u)gsyn'=-gsyn/taug}NET_RECEIVE(w){if(flag==1){WATCH(V>thresh)2}elseif(flag==2){net_event(t)V=cu=u+d}else{gsyn=gsyn+w}}PROCEDUREversion(){}