NEURON{POINT_PROCESSExpGABAabRANGEtau1a,tau2a,tau1b,tau2b,ea,eb,i,sid,cidNONSPECIFIC_CURRENTiRANGEga,gbGLOBALtotala,totalb}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(uS)=(microsiemens)}PARAMETER{tau1a=.1(ms)<1e-9,1e9>tau2a=10(ms)<1e-9,1e9>ea=0(mV)tau1b=.1(ms)<1e-9,1e9>tau2b=10(ms)<1e-9,1e9>eb=0(mV)sid=-1(1)cid=-1(1)}ASSIGNED{v(mV)i(nA)ga(uS)factoratotala(uS)gb(uS)factorbtotalb(uS)}STATE{Aa(uS)Ba(uS)Ab(uS)Bb(uS)}INITIAL{LOCALtpa,tpbtotala=0totalb=0if(tau1a/tau2a>.9999){tau1a=.9999*tau2a}if(tau1b/tau2b>.9999){tau1b=.9999*tau2b}Aa=0Ba=0Ab=0Bb=0tpa=(tau1a*tau2a)/(tau2a-tau1a)*log(tau2a/tau1a)factora=-exp(-tpa/tau1a)+exp(-tpa/tau2a)factora=1/factoratpb=(tau1b*tau2b)/(tau2b-tau1b)*log(tau2b/tau1b)factorb=-exp(-tpb/tau1b)+exp(-tpb/tau2b)factorb=1/factorb}BREAKPOINT{SOLVEstateMETHODcnexpga=Ba-Aagb=Bb-Abi=ga*(v-ea)+gb*(v-eb)}DERIVATIVEstate{Aa'=-Aa/tau1aBa'=-Ba/tau2aAb'=-Ab/tau1bBb'=-Bb/tau2b}NET_RECEIVE(weight(uS)){LOCALsrcid,wif(weight>999){srcid=floor(weight/1000)-1w=weight-(srcid+1)*1000}else{w=weight}Aa=Aa+w*factoraBa=Ba+w*factoratotala=totala+wAb=Ab+w*factorb/3.37Bb=Bb+w*factorb/3.37totalb=totalb+w/3.37}