UNITS{(molar)=(1/liter)(mM)=(millimolar)(mA)=(milliamp)(mV)=(millivolt)}NEURON{SUFFIXgskchUSEIONskREADeskWRITEiskVALENCE1USEIONncaREADncaiVALENCE2USEIONlcaREADlcaiVALENCE2USEIONtcaREADtcaiVALENCE2RANGEgsk,gskbar,qinf,qtau,isk}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{celsius=6.3(degC)v(mV)dt(ms)gskbar(mho/cm2)esk(mV)cai(mM)ncai(mM)lcai(mM)tcai(mM)}STATE{q}ASSIGNED{isk(mA/cm2)gsk(mho/cm2)qinfqtau(ms)qexp}BREAKPOINT{SOLVEstategsk=gskbar*q*qisk=gsk*(v-esk)}UNITSOFFINITIAL{cai=ncai+lcai+tcairate(cai)q=qinfVERBATIMncai=_ion_ncai;lcai=_ion_lcai;tcai=_ion_tcai;ENDVERBATIM}PROCEDUREstate(){cai=ncai+lcai+tcairate(cai)q=q+(qinf-q)*qexpVERBATIMreturn0;ENDVERBATIM}LOCALq10PROCEDURErate(cai){LOCALalpha,beta,tincq10=3^((celsius-6.3)/10)alpha=1.25e1*cai*caibeta=0.00025qtau=1/(alpha+beta)qinf=alpha*qtautinc=-dt*q10qexp=1-exp(tinc/qtau)*q10}UNITSON