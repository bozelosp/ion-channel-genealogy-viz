UNITS{(mA)=(milliamp)(mV)=(millivolt)(nA)=(nanoamp)}NEURON{SUFFIXsjg_ihNONSPECIFIC_CURRENTiRANGEghbar,gh,ih,sjgehGLOBALuinf,utau}INDEPENDENT{tFROM0TO1WITH1(ms)}PARAMETER{v(mV)celsius=22(degC)dt(ms)ghbar=0.00318(mho/cm2)<0,1e9>sjgeh=-43(mV)}STATE{u}ASSIGNED{gh(mho/cm2)i(mA/cm2)uinfutau(ms)}LOCALuexpBREAKPOINT{SOLVEstatesgh=ghbar*ui=gh*(v-sjgeh)}UNITSOFFINITIAL{trates(v)u=uinf}PROCEDUREstates(){trates(v)u=u+uexp*(uinf-u)VERBATIMreturn0;ENDVERBATIM}LOCALq10PROCEDURErates(v){q10=3^((celsius-22)/10)uinf=1/(1+exp((v+101)/11))utau=(10000/(235.55*exp(0.0782*(v+23.76))+0.33*exp(-0.0614*(v+23.76))))+154.57}PROCEDUREtrates(v){LOCALtincTABLEuinf,uexpDEPENDdt,celsiusFROM-200TO150WITH350rates(v)tinc=-dt*q10uexp=1-exp(tinc/utau)}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON