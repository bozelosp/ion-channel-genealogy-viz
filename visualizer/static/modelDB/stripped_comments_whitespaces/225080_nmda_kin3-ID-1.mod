NEURON{POINT_PROCESSNMDA_KIN3RANGECmax,Cdur,kon,koff,CC,CO,Beta,Alpha,Erev,Kd,gamma,mg,gmax,g,B,kin_scaleNONSPECIFIC_CURRENTi}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)(mM)=(milli/liter)}PARAMETER{Cmax=1.(mM)Cdur=0.3(ms)kon=86.89(/mM/ms)koff=0.69(/ms)CC=9.64(/ms)CO=2.60(/ms)Beta=0.68(/ms)Alpha=0.079(/ms)Erev=0.(mV)Kd=7.51(mM)gamma=0.100(/mV)mg=1.0(mM)gmax=0.00361(umho)kin_scale=1.81(1)}ASSIGNED{v(mV)i(nA)g(umho)C(mM)Bkin_factorscale}STATE{RuRbRcRo}INITIAL{C=0.Ru=1.Rb=0.Rc=0.Ro=0.scale=1.mgblock(v)}BREAKPOINT{mgblock(v)SOLVEkstatesMETHODsparseg=scale*gmax*B*Roi=g*(v-Erev)}KINETICkstates{~Ru<->Rb(C*kon,koff)~Rb<->Rc(CC,CO*kin_factor)~Rc<->Ro(Beta,Alpha*kin_factor)}NET_RECEIVE(weight){if(flag==0){C=Cmaxscale=weightnet_send(Cdur,1)}else{C=0.}}PROCEDUREmgblock(v(mV)){B=1./(1.+exp(gamma*(-v))*(mg/Kd))kin_factor=(1-kin_scale)*B+kin_scale}