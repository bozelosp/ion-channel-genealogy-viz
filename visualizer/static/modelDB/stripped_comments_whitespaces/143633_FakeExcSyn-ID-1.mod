INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSFakeExcSynPOINTERpreRANGElastrelease,dummy,lastspike,spike,delay,ampNONSPECIFIC_CURRENTiGLOBALdur,Prethresh,Deadtime}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)(mM)=(milli/liter)}PARAMETER{dur=0.1(ms)amp=2(nA)Prethresh=-20Deadtime=1(ms)delay=0(ms)}ASSIGNED{i(nA)prelastrelease(ms)lastspike(ms)dummyspike}INITIAL{lastrelease=-9e9lastspike=0dummy=0spike=0}BREAKPOINT{SOLVEreleasei=-dummy*amp}PROCEDURErelease(){LOCALq,rq=((t-lastrelease)-dur)r=(t-lastspike)if(q>Deadtime&&spike==0){if(pre>Prethresh){spike=1lastspike=t}}elseif(q>Deadtime&&spike==1){if(t>=lastspike+delay){dummy=1lastrelease=t}}elseif(q<0){}elseif(dummy==1){dummy=0spike=0}}