UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}?interfaceNEURON{SUFFIXhh_modUSEIONnaREADenaWRITEinaUSEIONkREADekWRITEikNONSPECIFIC_CURRENTilRANGEgnabar,gkbar,gl,el,gna,gk,scale_na_act,scale_na_inact,scale_k,v_shift_na,v_shift_kRANGEminf,hinf,ninf,mtau,htau,ntauTHREADSAFE}PARAMETER{gnabar=.12(S/cm2)<0,1e9>gkbar=.036(S/cm2)<0,1e9>gl=.0003(S/cm2)<0,1e9>el=-80(mV)scale_na_act=1<0.001,1e3>scale_na_inact=1<0.001,1e3>scale_k=1<0.001,1e3>v_shift_na=0v_shift_k=0}STATE{mhn}ASSIGNED{v(mV)ena(mV)ek(mV)gna(S/cm2)gk(S/cm2)ina(mA/cm2)ik(mA/cm2)il(mA/cm2)minfhinfninfmtau(ms)htau(ms)ntau(ms)}?currentsBREAKPOINT{SOLVEstatesMETHODcnexpgna=gnabar*m*m*m*hina=gna*(v-ena)gk=gkbar*n*n*n*nik=gk*(v-ek)il=gl*(v-el)}INITIAL{rates(v)m=minfh=hinfn=ninf}?statesDERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htaun'=(ninf-n)/ntau}?ratesPROCEDURErates(v(mV)){LOCALalpha,beta,sumUNITSOFFalpha=.1*vtrap(-((v-v_shift_na)+40),10)beta=4*exp(-((v-v_shift_na)+65)/18)sum=alpha+betamtau=1/(scale_na_act*sum)minf=alpha/sumalpha=.07*exp(-((v-v_shift_na)+65)/20)beta=1/(exp(-((v-v_shift_na)+35)/10)+1)sum=alpha+betahtau=1/(scale_na_inact*sum)hinf=alpha/sumalpha=.01*vtrap(-((v-v_shift_k)+55),10)beta=.125*exp(-((v-v_shift_k)+65)/80)sum=alpha+betantau=1/(scale_k*sum)ninf=alpha/sum}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON