UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}NEURON{SUFFIXfnaUSEIONnaREADenaWRITEinaRANGEgnabar,gna,alpha,beta,alphah,betah,sumGLOBALminf,hinf,mtau,htau}PARAMETER{gnabar=.12(S/cm2)<0,1e9>gl=.0003(S/cm2)<0,1e9>}STATE{mh}ASSIGNED{ena(mV)v(mV)alphabetaalphahbetahsumgna(S/cm2)ina(mA/cm2)minfhinfmtau(ms)htau(ms)}LOCALmexp,hexpBREAKPOINT{SOLVEstatesMETHODcnexpgna=gnabar*m*m*m*hina=gna*(v-ena)}INITIAL{rates(v)m=minfh=hinf}DERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}LOCALq10PROCEDURErates(v(mV)){UNITSOFFq10=1alpha=-.3*vtrap((v+70-25),-5)beta=.3*vtrap((v+70-53),5)sum=alpha+betamtau=1/(q10*sum)minf=alpha/sumalphah=.23/exp((v+70-3)/20)betah=3.33/(1+exp((v+70-55.5)/(-10)))sum=alphah+betahhtau=1/(q10*sum)hinf=alphah/sum}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON