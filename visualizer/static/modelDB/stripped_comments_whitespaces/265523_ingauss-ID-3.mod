NEURON{POINT_PROCESSInGaussNONSPECIFIC_CURRENTiRANGEmean,stdevRANGEdel,durTHREADSAFEPOINTERdonotuse}UNITS{(nA)=(nanoamp)}PARAMETER{del(ms)dur(ms)<0,1e9>mean=0(nA)stdev=1(nA)}ASSIGNED{dt(ms)onper(ms)ival(nA)i(nA)donotuse}INITIAL{per=dton=0ival=0i=0net_send(del,1)}PROCEDUREseed(x){set_seed(x)}BEFOREBREAKPOINT{i=ival}BREAKPOINT{}NET_RECEIVE(w){if(dur>0){if(flag==1){if(on==0){on=1net_send(dur,1)ival=stdev*grand()+meannet_send(per,2)}else{if(on==1){on=0ival=0}}}if(flag==2){if(on==1){ival=stdev*grand()+meannet_send(per,2)}}}}VERBATIMdoublenrn_random_pick(void*r);void*nrn_random_arg(intargpos);ENDVERBATIMFUNCTIONgrand(){VERBATIMif(_p_donotuse){_lgrand=nrn_random_pick(_p_donotuse);}else{if(_nt!=nrn_threads){hoc_execerror("multithreadrandominInUnif","onlyviahocRandom");}ENDVERBATIMgrand=normrand(0,1)VERBATIM}ENDVERBATIM}PROCEDUREnoiseFromRandom(){VERBATIM{void**pv=(void**)(&_p_donotuse);if(ifarg(1)){*pv=nrn_random_arg(1);}else{*pv=(void*)0;}}ENDVERBATIM}