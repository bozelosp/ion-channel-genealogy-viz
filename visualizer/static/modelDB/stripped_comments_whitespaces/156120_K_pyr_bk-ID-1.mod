UNITS{(mV)=(millivolt)(mA)=(milliamp)(pS)=(picosiemens)(um)=(micron)}NEURON{SUFFIXKPyrUSEIONkREADekWRITEikRANGEgbar,ikGLOBALv_table_min,v_table_max,phin}PARAMETER{gbar=1(pS/um2)v(mV)ek(mV)phin=1(1)v_table_min=-120(mV)v_table_max=100(mV)}ASSIGNED{ik(mA/cm2)nalpha(1/ms)nbeta(1/ms)}STATE{n(1)}BREAKPOINT{settables(v)SOLVEstatesMETHODcnexpik=(1e-4)*gbar*n*n*n*n*(v-ek)}INITIAL{settables(v)n=nalpha/(nalpha+nbeta)}DERIVATIVEstates{settables(v)n'=phin*(nalpha*(1-n)-nbeta*n)}UNITSOFFPROCEDUREsettables(v(mV)){TABLEnalpha,nbetaFROMv_table_minTOv_table_maxWITH961nalpha=0.032*vtrap(-(v+52),0.2)nbeta=0.5*exp(-0.025*(57+v))}UNITSONFUNCTIONvtrap(x,k){if(fabs(x)<1e-6){vtrap=1/(k*exp(k*x))}else{vtrap=x/(exp(k*x)-1)}}