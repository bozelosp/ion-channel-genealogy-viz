INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{POINT_PROCESSsyn2RANGEonset,tau0,tau1,gmax,e,i,myvNONSPECIFIC_CURRENTi}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)}PARAMETER{onset=0(ms)tau0=0.2(ms)tau1=3.0(ms)gmax=0(umho)e=0(mV)v(mV)}ASSIGNED{i(nA)g(umho)myv(mV)}LOCALa[2]LOCALtpeakLOCALadjustLOCALampBREAKPOINT{myv=vg=cond(t)i=g*(v-e)}FUNCTIONmyexp(x){if(x<-100){myexp=0}else{myexp=exp(x)}}FUNCTIONcond(x){tpeak=tau0*tau1*log(tau0/tau1)/(tau0-tau1)adjust=1/((1-myexp(-tpeak/tau0))-(1-myexp(-tpeak/tau1)))amp=adjust*gmaxif(x<onset){cond=0}else{a[0]=1-myexp(-(x-onset)/tau0)a[1]=1-myexp(-(x-onset)/tau1)cond=amp*(a[0]-a[1])}}