UNITS{(mA)=(milliamp)(mV)=(millivolt)(S)=(siemens)}NEURON{SUFFIXNaf_NoUSEIONnaREADenaWRITEinaRANGEgnamax,gnaRANGEminf,hinf,mtau,htau}PARAMETER{gnamax=0.2(S/cm2)<0,1e9>}STATE{mh}ASSIGNED{v(mV)ena(mV)gna(S/cm2)ina(mA/cm2)minfhinfmtau(ms)htau(ms)}BREAKPOINT{SOLVEstatesMETHODcnexpgna=gnamax*m*m*m*hina=gna*(v-ena)}INITIAL{rates(v)m=minfh=hinf}DERIVATIVEstates{rates(v)m'=(minf-m)/mtauh'=(hinf-h)/htau}PROCEDURErates(v(mV)){LOCALalpha,beta,sumUNITSOFFalpha=6.57*vtrap(-10.4-v,10.3)beta=.304*vtrap(v+15.7,9.16)sum=alpha+betamtau=1/summinf=alpha/sumalpha=0.34*vtrap(v+104,11)beta=12.6/(1+exp(-(v-21.8)/13.4))sum=alpha+betahtau=1/sumhinf=alpha/sum}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(exp(x/y)-1)}}UNITSON