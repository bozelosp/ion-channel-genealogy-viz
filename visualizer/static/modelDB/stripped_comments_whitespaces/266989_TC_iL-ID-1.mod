INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXTC_iLUSEIONcal1READcal1i,cal1oWRITEical1USEIONcal2READcal2i,cal2oWRITEical2RANGEpcabar,m_inf,tau_mGLOBALbeta}UNITS{(mA)=(milliamp)(mV)=(millivolt)(molar)=(1/liter)(mM)=(millimolar)FARADAY=(faraday)(coulomb)R=8.314(volt-coul/degC)}PARAMETER{v(mV)celsius(degC)dt(ms)cal1i=0.5E-4(mM)cal1o=2(mM)cal2i=0.5E-4(mM)cal2o=2(mM)pcabar=1e-4(cm/s)beta=1}STATE{m}ASSIGNED{ical1(mA/cm2)ical2(mA/cm2)i_rec(mA/cm2)tau_m(ms)m_inftcorr}BREAKPOINT{SOLVEstatesMETHODcnexpical1=beta*pcabar*m*m*ghk(v,cal1i,cal1o)ical2=(1-beta)*pcabar*m*m*ghk(v,cal2i,cal2o)}DERIVATIVEstates{rates(v)m'=(m_inf-m)/tau_m}INITIAL{tcorr=3^((celsius-23.5)/10)rates(v)m=m_inf}UNITSOFFFUNCTIONghk(v(mV),ci(mM),co(mM))(millicoul/cm3){LOCALz,eci,ecoz=v*(.001)*2*FARADAY/(R*(celsius+273.15))eco=co*efun(z)eci=ci*efun(-z)ghk=(.001)*2*FARADAY*(eci-eco)}FUNCTIONefun(z){if(fabs(z)<1e-4){efun=1-z/2}else{efun=z/(exp(z)-1)}}PROCEDURErates(v(mV)){LOCALa,ba=1.6/(1+exp(-0.072*(v-5)))b=0.02*vtrap(-(v-1.31),5.36)tau_m=1/(a+b)/tcorrm_inf=1/(1+exp((v+10)/-10))}FUNCTIONvtrap(x,c){if(fabs(x/c)<1e-6){vtrap=c+x/2}else{vtrap=x/(1-exp(-x/c))}}UNITSON