NEURON{ARTIFICIAL_CELLINTFRANGEtau1,tau2,tau3,tau4,refrac,m1,m2,m3,m4,thresh,refractory,fflagRANGEadap,adapwt,tauadap}PARAMETER{tau1=10(ms)tau2=10(ms)tau3=10(ms)tau4=10(ms)adapwt=0tauadap=10(ms)refrac=5(ms)thresh=1fflag=1}ASSIGNED{m1m2m3m4adapt0(ms)refractory}INITIAL{adap=0m1=0m2=0m3=0m4=0t0=trefractory=0}NET_RECEIVE(w1,w2,w3,w4){INITIAL{w2=w2w3=w3w4=w4}m1=m1*exp(-(t-t0)/tau1)m2=m2*exp(-(t-t0)/tau2)m3=m3*exp(-(t-t0)/tau3)m4=m4*exp(-(t-t0)/tau4)adap=adap*exp(-(t-t0)/tauadap)t0=tif(flag==0){m1=m1+w1m2=m2+w2m3=m3+w3m4=m4+w4}if(flag==1){refractory=0}if((refractory==0||flag==1)&&(m1+m2+m3+m4>thresh)){refractory=1adap=adap+adapwtnet_send(refrac+adap*adap,refractory)net_event(t)}}FUNCTIONM1(){M1=m1*exp(-(t-t0)/tau1)}FUNCTIONM2(){M2=m2*exp(-(t-t0)/tau2)}FUNCTIONM3(){M3=m3*exp(-(t-t0)/tau3)}FUNCTIONM4(){M4=m4*exp(-(t-t0)/tau4)}FUNCTIONAD(){AD=adap*exp(-(t-t0)/tauadap)}FUNCTIONMT(){MT=m1*exp(-(t-t0)/tau1)+m2*exp(-(t-t0)/tau2)+m3*exp(-(t-t0)/tau3)+m4*exp(-(t-t0)/tau4)}