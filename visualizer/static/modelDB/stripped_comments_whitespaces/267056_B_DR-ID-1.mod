NEURON{SUFFIXB_DRUSEIONkREADekWRITEikRANGEgkbar,ikRANGEninf,ntauRANGEtadj}UNITS{(mV)=(millivolt)(mA)=(milliamp)}INDEPENDENT{tFROM0TO1WITH1(ms)}STATE{n}PARAMETER{ek=-84(mV)}ASSIGNED{celsius(degC)v(mV)ik(mA/cm2)gkbar(mho/cm2)tadj(1)nalpha(1/ms)nbeta(1/ms)ninf(1)ntau(ms)}INITIAL{rates(v)tadj=3^((celsius-23)/10)n=ninf}BREAKPOINT{SOLVEstatesMETHODcnexpik=gkbar*n*n*n*n*(v-ek)}DERIVATIVEstates{rates(v)n'=(ninf-n)/ntau}FUNCTIONtrap(x,y){if(fabs(x/y)<1e-6){trap=y*(1-x/y/2)}else{trap=x/(exp(x/y)-1)}}PROCEDURErates(v){TABLEninf,ntauDEPENDcelsiusFROM-100TO100WITH200nalpha=.0075*trap(-v-30,10)nbeta=.1*exp((-v-46)/31)ninf=nalpha/(nalpha+nbeta)ntau=1/(nalpha+nbeta)}