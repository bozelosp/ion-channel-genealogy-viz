UNITS{(mV)=(millivolt)(mA)=(milliamp)(S)=(siemens)}NEURON{SUFFIXkdrRLUSEIONkREADekWRITEikRANGEik,g,gMax,mVhGLOBALmslp,tVh,tslp,tmin,taumax}PARAMETER{gMax=0.1(S/cm2)mVh=-25(mV)mslp=20(mV)tVh=-39(mV)tslp=5.5(mV)tmin=1.4(ms)taumax=11.9(ms)}ASSIGNED{v(mV)ek(mV)ik(mA/cm2)g(S/cm2)mtau(ms)minf}STATE{m}INITIAL{rate(v)m=minf}BREAKPOINT{SOLVEstateMETHODcnexpg=gMax*m^4ik=g*(v-ek)}DERIVATIVEstate{rate(v)m'=(minf-m)/mtau}PROCEDURErate(v(mV)){LOCALb,fTABLEminf,mtauDEPENDmVh,mslp,tVh,tslp,tmin,taumaxFROM-100TO100WITH200b=exp((v-tVh)/tslp)f=(1+b)^2minf=1/(1+exp(-(v-mVh)/mslp))mtau=tmin+taumax*b/f}