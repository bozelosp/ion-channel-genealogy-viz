NEURON{SUFFIXLlvaNONSPECIFIC_CURRENTicaRANGEgcaLlvabar,eca,gcaLlvaRANGEm_infRANGEtheta_m}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gcaLlvabar=0.0003(mho/cm2)eca=60(mV)tau_m=20(ms)theta_m=-30(mV)kappa_m=-6(mV)}STATE{m}ASSIGNED{v(mV)dt(ms)ica(mA/cm2)m_inftadjgcaLlva(mho/cm2)}BREAKPOINT{SOLVEstatesMETHODcnexpgcaLlva=gcaLlvabar*mica=gcaLlvabar*m*(v-eca)}DERIVATIVEstates{evaluate_fct(v)m'=(m_inf-m)/tau_m}UNITSOFFINITIAL{evaluate_fct(v)m=m_inf}PROCEDUREevaluate_fct(v(mV)){m_inf=1/(1+(Exp((v-theta_m)/kappa_m)))}FUNCTIONvtrap(x,y){if(fabs(x/y)<1e-6){vtrap=y*(1-x/y/2)}else{vtrap=x/(Exp(x/y)-1)}}FUNCTIONExp(x){if(x<-100){Exp=0}else{Exp=exp(x)}}