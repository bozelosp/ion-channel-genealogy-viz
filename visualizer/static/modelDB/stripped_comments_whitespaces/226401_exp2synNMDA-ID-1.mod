NEURON{POINT_PROCESSNMDARANGEtau1,tau2,e,i,weight,A,BNONSPECIFIC_CURRENTiRANGEg,tp,factor,cond_scale,offset}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(uS)=(microsiemens)}PARAMETER{tau1=0.5(ms)tau2=44(ms)e=0(mV)mg=1(mM)weight=0.5e-3(uS)}ASSIGNED{v(mV)i(nA)g(uS)factor(1)rescale_epsps(1)cond_scale(1)tp(ms)}STATE{A(uS)B(uS)}INITIAL{if(tau1/tau2>.9999){tau1=.9999*tau2}A=0B=0tp=(tau1*tau2)/(tau2-tau1)*log(tau2/tau1)factor=-exp(-tp/tau1)+exp(-tp/tau2)factor=1/factor}BREAKPOINT{SOLVEstateMETHODcnexpg=B-Ai=g*mgblock(v)*(v-e)}DERIVATIVEstate{A'=-A/tau1B'=-B/tau2}FUNCTIONmgblock(v(mV)){TABLEDEPENDmgFROM-140TO80WITH1000mgblock=1/(1+exp(0.062(/mV)*-v)*(mg/3.57(mM)))}FUNCTION_TABLEt_table(g)(ms)NET_RECEIVE(weight(uS)){LOCALt_tmpt_tmp=t_table(g/weight)A=weight*factor*exp(-t_tmp/tau1)B=weight*factor*exp(-t_tmp/tau2)}