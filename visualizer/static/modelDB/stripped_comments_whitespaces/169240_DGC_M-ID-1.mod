NEURON{SUFFIXKMUSEIONkWRITEikRANGEgbar,minf,tau1,tau2,i,g,m1,m2,ginfRANGEtadjtau,Vhalf,Vshift,erev,k,v0erev,kV,gammaRANGEDtaumult1,Dtaumult2,tau0mult,taudiv}UNITS{(mA)=(milliamp)(mV)=(millivolt)(pS)=(picosiemens)(um)=(micron)}PARAMETER{erev=-95(mV)gbar=10(pS/um2)k=9(mV)Vhalf=-50(mV)Vshift=0(mV)v0erev=65(mV)kV=40(mV)gamma=0.5temptau=22(degC)q10tau=5taudiv=1Dtaumult1=1Dtaumult2=1tau0mult=1vmin=-100(mV)vmax=100(mV)ten=10(degC)temp0=273(degC)FoverR=11.6045039552(degC/mV)}ASSIGNED{v(mV)celsius(degC)ginf(pS/um2)Vhalf1(mV)Dtau1(ms)z1tau01(ms)Vhalf2(mV)Dtau2(ms)z2tau02(ms)alpha1beta1alpha2beta2i(mA/cm2)ik(mA/cm2)g(pS/um2)minfv0(mV)tau1(ms)tau2(ms)tadjtaufrt(/mV)}STATE{m1m2}INITIAL{rates(v)m1=minfm2=minf}BREAKPOINT{SOLVEstatesMETHODcnexpg=gbar*gsat(v)*(m1^2)*m2ik=(1e-4)*g*(v-erev)i=ik}DERIVATIVEstates{rates(v)m1'=(minf-m1)/tau1m2'=(minf-m2)/tau2}PROCEDURErates(v(mV)){TABLEminf,tau1,tau2,ginfDEPENDcelsius,gamma,k,Vhalf,Vshift,taudiv,Dtaumult1,Dtaumult2,tau0multFROMvminTOvmaxWITH199IF(gamma==0.5){z1=2.8Vhalf1=-49.8+Vshifttau01=20.7*tau0multDtau1=176.1*Dtaumult1z2=8.9Vhalf2=-55.5+Vshifttau02=149*tau0multDtau2=1473*Dtaumult2}IF(gamma==1){z1=3.6Vhalf1=-25.3+Vshifttau01=29.2*tau0multDtau1=74.6*Dtaumult1z2=9.8Vhalf2=-44.7+Vshifttau02=155*tau0multDtau2=549*Dtaumult2}tadjtau=q10tau^((celsius-temptau)/ten)frt=FoverR/(temp0+celsius)alpha1=exp(z1*gamma*frt*(v-Vhalf1))beta1=exp(-z1*(1-gamma)*frt*(v-Vhalf1))tau1=(Dtau1/(alpha1+beta1)+tau01)/(tadjtau*taudiv)alpha2=exp(z2*gamma*frt*(v-Vhalf2))beta2=exp(-z2*(1-gamma)*frt*(v-Vhalf2))tau2=(Dtau2/(alpha2+beta2)+tau02)/(tadjtau*taudiv)minf=1/(1+exp(-(v-Vhalf-Vshift)/k))ginf=gbar*minf^3}FUNCTIONgsat(v(mV)){gsat=1v0=v0erev+erevIF(v>v0){gsat=1+(v0-v+kV*(1-exp(-(v-v0)/kV)))/(v-erev)}}