NEURON{POINT_PROCESSExp2Syn_depressRANGEtau1,tau2,e,i,tau_recover,attenuationNONSPECIFIC_CURRENTiRANGEg}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(uS)=(microsiemens)}PARAMETER{tau1=.1(ms)<1e-9,1e9>tau2=10(ms)<1e-9,1e9>tau_recover=100(ms)<1e-9,1e9>attenuation=.8<1e-9,1>e=0(mV)}ASSIGNED{v(mV)i(nA)g(uS)factor}STATE{A(uS)B(uS)}INITIAL{LOCALtpif(tau1/tau2>.9999){tau1=.9999*tau2}A=0B=0tp=(tau1*tau2)/(tau2-tau1)*log(tau2/tau1)factor=-exp(-tp/tau1)+exp(-tp/tau2)factor=1/factor}BREAKPOINT{SOLVEstateMETHODcnexpg=B-Ai=g*(v-e)}DERIVATIVEstate{A'=-A/tau1B'=-B/tau2}NET_RECEIVE(weight(uS),tsyn(ms),weight_attenuate){INITIAL{weight_attenuate=1tsyn=-1000}weight_attenuate=(weight_attenuate-1)*exp(-1/tau_recover*(t-tsyn))+1A=A+weight*factor*weight_attenuateB=B+weight*factor*weight_attenuatetsyn=tweight_attenuate=weight_attenuate*attenuation}