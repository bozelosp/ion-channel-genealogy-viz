NEURON{THREADSAFESUFFIXkirUSEIONkREADekWRITEikRANGEgbar,gk,ik,base,factorPOINTERpka}UNITS{(S)=(siemens)(mV)=(millivolt)(mA)=(milliamp)}PARAMETER{gbar=0.0(S/cm2)q=3base=0.0factor=0.0}ASSIGNED{v(mV)ek(mV)ik(mA/cm2)gk(S/cm2)minfmtau(ms)pka(1)}STATE{m}BREAKPOINT{SOLVEstatesMETHODcnexpgk=modulation()*gbar*mik=gk*(v-ek)}DERIVATIVEstates{rates()m'=(minf-m)/mtau*q}INITIAL{rates()m=minf}PROCEDURErates(){LOCALalpha,beta,sumUNITSOFFminf=1/(1+exp((v-(-102))/13))alpha=0.1*exp((v-(-60))/(-14))beta=0.27/(1+exp((v-(-31))/(-23)))sum=alpha+betamtau=1/sumUNITSON}FUNCTIONmodulation(){modulation=1+factor*(pka-base)}