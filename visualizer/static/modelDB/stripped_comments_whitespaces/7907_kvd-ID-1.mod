INDEPENDENT{tFROM0TO1WITH1(ms)}NEURON{SUFFIXkvUSEIONkREADekWRITEikRANGEgbar,vtraubRANGEn_infRANGEtau_nRANGEn_exp}UNITS{(mA)=(milliamp)(mV)=(millivolt)}PARAMETER{gbar(pS/um2)vtraub=-63(mV)ek=-90(mV)celsius=36(degC)dt(ms)v(mV)vmin=-120(mV)vmax=100(mV)}STATE{n}ASSIGNED{ik(mA/cm2)n_inftau_nn_exptadj}BREAKPOINT{SOLVEstatesik=(1e-4)*gbar*n*n*n*n*(v-ek)}PROCEDUREstates(){evaluate_fct(v)n=n+n_exp*(n_inf-n)}FUNCTIONmyexp(x){if(x<-100){myexp=0}else{myexp=exp(x)}}UNITSOFFINITIAL{tadj=3.0^((celsius-36)/10)evaluate_fct(v)n=n_inf}PROCEDUREevaluate_fct(v(mV)){LOCALa,b,v2TABLEn_inf,n_expDEPENDdt,celsius,vtraubFROMvminTOvmaxWITH199v2=v-vtrauba=0.032*(15-v2)/(myexp((15-v2)/5)-1)b=0.5*myexp((10-v2)/40)tau_n=1/(a+b)/tadjn_inf=a/(a+b)n_exp=1-myexp(-dt/tau_n)}UNITSON