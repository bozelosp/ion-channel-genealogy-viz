NEURON{POINT_PROCESSExpSynSTDPRANGEtau,e,i,d,p,dtau,ptau,verbose,learning,LR,maxWeight,minWeightNONSPECIFIC_CURRENTi}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(uS)=(microsiemens)}PARAMETER{tau=0.1(ms)<1e-9,1e9>e=0(mV)d=0<0,1>p=0dtau=34(ms)ptau=17(ms)verbose=0learning=1LR=0.0001maxWeight=1minWeight=0}ASSIGNED{v(mV)i(nA)tpost(ms)}STATE{g(uS)}INITIAL{g=0tpost=-1e9net_send(0,1)}BREAKPOINT{SOLVEstateMETHODcnexpi=g*(v-e)}DERIVATIVEstate{g'=-g/tau}NET_RECEIVE(w(uS),tpre(ms)){INITIAL{tpre=-1e9}if(flag==0){g=g+wif(learning){if(w<=maxWeight){w=w+LR*p*0.15if(w>maxWeight){w=maxWeight}}}tpre=t}elseif(flag==2){tpost=tFOR_NETCONS(w1,tp){if(learning){if(w1<=maxWeight){w1=w1+LR*p*0.15if(w1>maxWeight){w1=maxWeight}if(verbose){printf("pot}}}}}else{WATCH(v>-20)2}}