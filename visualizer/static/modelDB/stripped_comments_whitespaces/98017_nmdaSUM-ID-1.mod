NEURON{POINT_PROCESSnmdaSUMRANGEtau1,tau2,e,iNONSPECIFIC_CURRENTiRANGEg,sGLOBALtotal}UNITS{(nA)=(nanoamp)(mV)=(millivolt)(umho)=(micromho)}PARAMETER{tau1=.1(ms)tau2=10(ms)e=0(mV)mag=1(mM)eta=3.57(mM)gamma=0.062(/mV)}ASSIGNED{v(mV)i(nA)g(umho)sfactortotal(umho)}STATE{A(umho)B(umho)}INITIAL{LOCALtptotal=0A=0B=0tp=(tau1*tau2)/(tau2-tau1)*log(tau2/tau1)factor=-exp(-tp/tau1)+exp(-tp/tau2)factor=1/factor}BREAKPOINT{SOLVEstateMETHODcnexps=B-Ag=s*1(umho)/(1+mag*exp(-(gamma*v))/eta)i=g*(v-e)}DERIVATIVEstate{A'=-A/tau1B'=-B/tau2}NET_RECEIVE(weight(umho)){state_discontinuity(A,A+weight*factor)state_discontinuity(B,B+weight*factor)total=total+weight}