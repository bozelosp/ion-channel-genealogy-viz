NEURON{POINT_PROCESSnmdaRANGEtau1,tau2,tau3,e,i,g_max,g,A,B,C,kNONSPECIFIC_CURRENTiGLOBALtotal,i2,g2EXTERNALArea_canmda}UNITS{(nA)=(nanoamp)(mA)=(milliamp)(mV)=(millivolt)(uS)=(microsiemens)}PARAMETER{tau1=3.18(ms)<1e-9,1e9>tau2=57.14(ms)<1e-9,1e9>tau3=2000(ms)<1e-9,1e9>g_max=0.000045(uS)e=0(mV)mg=1(mM)Area(cm2)k=1e-06(mA/nA)}ASSIGNED{v(mV)i(nA)factortotal(uS)g(uS)g2(uS)i2(mA/cm2)}STATE{A(uS)B(uS)C(uS)}INITIAL{LOCALt_peaktotal=0if(tau1/tau2>.9999){tau1=.9999*tau2}A=0B=0C=0factor=0.8279factor=1/factorArea=Area_canmda}BREAKPOINT{SOLVEstateMETHODcnexpg=g_max*(B*0.8+C*0.2-A)i=g*(v-e)*1/(1+(exp(0.08(/mV)*-v)*(mg/0.69)))g2=gi2=i*k/Area}DERIVATIVEstate{A'=-A/tau1B'=-B/tau2C'=-C/tau3}NET_RECEIVE(weight(uS)){state_discontinuity(A,weight*factor)state_discontinuity(B,weight*factor)state_discontinuity(C,weight*factor)total=total+weight}