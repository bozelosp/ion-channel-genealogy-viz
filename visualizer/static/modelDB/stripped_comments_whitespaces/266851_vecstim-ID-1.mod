NEURON{THREADSAFEARTIFICIAL_CELLVecStim}ASSIGNED{indexetime(ms)space}INITIAL{index=0element()if(index>0){if(etime-t>=0){net_send(etime-t,1)}else{printf("Eventinthestimulusvectorattime%gisomittedsincehasvaluelessthant=%g!\n",etime,t)net_send(0,2)}}}NET_RECEIVE(w){if(flag==1){net_event(t)}if(flag==1||flag==2){element()if(index>0){if(etime-t>=0){net_send(etime-t,1)}else{printf("Eventinthestimulusvectorattime%gisomittedsincehasvaluelessthant=%g!\n",etime,t)net_send(0,2)}}}}VERBATIMexterndouble*vector_vec();externintvector_capacity();externvoid*vector_arg();ENDVERBATIMPROCEDUREelement(){VERBATIM{void*vv;inti,size;double*px;i=(int)index;if(i>=0){vv=*((void**)(&space));if(vv){size=vector_capacity(vv);px=vector_vec(vv);if(i<size){etime=px[i];index+=1.;}else{index=-1.;}}else{index=-1.;}}}ENDVERBATIM}PROCEDUREplay(){VERBATIMvoid**vv;vv=(void**)(&space);*vv=(void*)0;if(ifarg(1)){*vv=vector_arg(1);}ENDVERBATIM}